<!DOCTYPE html>
<!-- saved from url=(0151)https://colab.research.google.com/gist/anaellez/270ba6ac07b2696b43f054b986e640fc/copie-de-dynamic_hybrid_chatbot_routing-py.ipynb#scrollTo=GnSbODBRHEDt -->
<html lang="fr" theme="dark" editor="Default Dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="origin-trial" content="A7vZI3v+Gz7JfuRolKNM4Aff6zaGuT7X0mf3wtoZTnKv6497cVMnhy03KDqX7kBz/q/iidW7srW31oQbBt4VhgoAAACUeyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGUuY29tOjQ0MyIsImZlYXR1cmUiOiJEaXNhYmxlVGhpcmRQYXJ0eVN0b3JhZ2VQYXJ0aXRpb25pbmczIiwiZXhwaXJ5IjoxNzU3OTgwODAwLCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A7vZI3v+Gz7JfuRolKNM4Aff6zaGuT7X0mf3wtoZTnKv6497cVMnhy03KDqX7kBz/q/iidW7srW31oQbBt4VhgoAAACUeyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGUuY29tOjQ0MyIsImZlYXR1cmUiOiJEaXNhYmxlVGhpcmRQYXJ0eVN0b3JhZ2VQYXJ0aXRpb25pbmczIiwiZXhwaXJ5IjoxNzU3OTgwODAwLCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta name="og-profile-acct" content="anaellez27@gmail.com"><script type="text/javascript" async="" charset="utf-8" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/recaptcha__fr.js" crossorigin="anonymous" integrity="sha384-PDH4QNQr1AglOAKVDpaV85MmEBtDeQujIqSBoocPzqiJGEAUA8VSgOjV9CMlcHUE" nonce=""></script><script type="text/javascript" async="" charset="utf-8" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/recaptcha__fr.js" crossorigin="anonymous" integrity="sha384-PDH4QNQr1AglOAKVDpaV85MmEBtDeQujIqSBoocPzqiJGEAUA8VSgOjV9CMlcHUE" nonce=""></script><script src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/cb=gapi.loaded_1" nonce="" async=""></script><script src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/cb=gapi.loaded_0" nonce="" async=""></script><script async="" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/analytics.js"></script><script nonce="">
      document.addEventListener('keydown', (e) => {
        // Stop propagation on ESC because otherwise it will halt outbound XHRs
        // See b/131755324 for more info.
        if (e.key === 'Escape') {
          e.stopPropagation();
          e.preventDefault();
        }
      });
    </script><meta name="referrer" content="origin"><meta name="viewport" content="width=device-width, initial-scale=1"><title>dynamic_hybrid_chatbot_routing.ipynb - Colab</title><link href="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/css2" rel="stylesheet"><link href="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/css" rel="stylesheet"><link rel="search" type="application/opensearchdescription+xml" href="https://colab.research.google.com/opensearch.xml" title="Google Colab"><style>.gb_yb{font:13px/27px Roboto,Arial,sans-serif;z-index:986}@-webkit-keyframes gb__a{0%{opacity:0}50%{opacity:1}}@keyframes gb__a{0%{opacity:0}50%{opacity:1}}a.gb_Ra{border:none;color:#4285f4;cursor:default;font-weight:bold;outline:none;position:relative;text-align:center;text-decoration:none;text-transform:uppercase;white-space:nowrap;-webkit-user-select:none;user-select:none}a.gb_Ra:hover::after,a.gb_Ra:focus::after{background-color:rgba(0,0,0,.12);content:"";height:100%;left:0;position:absolute;top:0;width:100%}a.gb_Ra:hover,a.gb_Ra:focus{text-decoration:none}a.gb_Ra:active{background-color:rgba(153,153,153,.4);text-decoration:none}a.gb_Sa{background-color:#4285f4;color:#fff}a.gb_Sa:active{background-color:#0043b2}.gb_Ta{box-shadow:0 1px 1px rgba(0,0,0,.16)}.gb_Ra,.gb_Sa,.gb_Ua,.gb_Va{display:inline-block;line-height:28px;padding:0 12px;border-radius:2px}.gb_Ua,.gb_Va{background:#f8f8f8;border:1px solid #c6c6c6}.gb_Ua,#gb a.gb_Ua.gb_Ua,.gb_Va,#gb a.gb_Va{color:#666;cursor:default;text-decoration:none}.gb_Va{border:1px solid #4285f4;font-weight:bold;outline:none;background:-webkit-gradient(linear,left top,left bottom,from(#4387fd),to(#4683ea));background:-webkit-linear-gradient(top,#4387fd,#4683ea);background:linear-gradient(to bottom,#4387fd,#4683ea)}#gb a.gb_Va{color:#fff}.gb_Va:hover{box-shadow:0 1px 0 rgba(0,0,0,.15)}.gb_Va:active{box-shadow:inset 0 2px 0 rgba(0,0,0,.15);background:-webkit-gradient(linear,left top,left bottom,from(#3c7ae4),to(#3f76d3));background:-webkit-linear-gradient(top,#3c7ae4,#3f76d3);background:linear-gradient(to bottom,#3c7ae4,#3f76d3)}#gb .gb_Wa{background:#ffffff;border:1px solid #dadce0;color:#1a73e8;display:inline-block;text-decoration:none}#gb .gb_Wa:hover{background:#f8fbff;border-color:#dadce0;color:#174ea6}#gb .gb_Wa:focus{background:#f4f8ff;color:#174ea6;outline:1px solid #174ea6}#gb .gb_Wa:active,#gb .gb_Wa:focus:active{background:#ecf3fe;color:#174ea6}#gb .gb_Wa.gb_H{background:transparent;border:1px solid #5f6368;color:#8ab4f8;text-decoration:none}#gb .gb_Wa.gb_H:hover{background:rgba(255,255,255,.04);color:#e8eaed}#gb .gb_Wa.gb_H:focus{background:rgba(232,234,237,.12);color:#e8eaed;outline:1px solid #e8eaed}#gb .gb_Wa.gb_H:active,#gb .gb_Wa.gb_H:focus:active{background:rgba(232,234,237,.1);color:#e8eaed}.gb_vd{display:inline-block;padding:4px 4px 4px 4px;vertical-align:middle}.gb_wd .gb_R{bottom:-3px;right:-5px}.gb_vd:first-child,#gbsfw:first-child+.gb_vd{padding-left:0}.gb_D{position:relative}.gb_B{display:inline-block;outline:none;vertical-align:middle;border-radius:2px;box-sizing:border-box;height:40px;width:40px}.gb_B,#gb#gb a.gb_B{cursor:pointer;text-decoration:none}.gb_B,a.gb_B{color:#000}.gb_xd,.gb_yd{border-color:transparent;border-bottom-color:#fff;border-style:dashed dashed solid;border-width:0 8.5px 8.5px;display:none;position:absolute;left:6.5px;top:37px;z-index:1;height:0;width:0;-webkit-animation:gb__a .2s;animation:gb__a .2s}.gb_yd{border-bottom-color:#ccc;border-bottom-color:rgba(0,0,0,.2);top:32px}x:-o-prefocus,div.gb_yd{border-bottom-color:#ccc}.gb_ma{background:#fff;border:1px solid #ccc;border-color:rgba(0,0,0,.2);color:#000;box-shadow:0 2px 10px rgba(0,0,0,.2);display:none;outline:none;overflow:hidden;position:absolute;right:8px;top:62px;-webkit-animation:gb__a .2s;animation:gb__a .2s;border-radius:2px;-webkit-user-select:text;user-select:text}.gb_vd.gb_5a .gb_xd,.gb_vd.gb_5a .gb_yd,.gb_vd.gb_5a .gb_ma,.gb_5a.gb_ma{display:block}.gb_vd.gb_5a.gb_zd .gb_xd,.gb_vd.gb_5a.gb_zd .gb_yd{display:none}.gb_Ad{position:absolute;right:8px;top:62px;z-index:-1}.gb_pb .gb_xd,.gb_pb .gb_yd,.gb_pb .gb_ma{margin-top:-10px}.gb_vd:first-child,#gbsfw:first-child+.gb_vd{padding-left:4px}.gb_Ha.gb_Bd .gb_vd:first-child{padding-left:0}.gb_Cd{position:relative}.gb_id .gb_Cd,.gb_Dd .gb_Cd{float:right}.gb_B{padding:8px;cursor:pointer}.gb_B::after{content:"";position:absolute;top:-4px;bottom:-4px;left:-4px;right:-4px}.gb_Ha .gb_Ed:not(.gb_Ra):focus img{background-color:rgba(0,0,0,.2);outline:none;border-radius:50%}.gb_Fd button svg,.gb_B{border-radius:50%}.gb_Fd button:focus:not(:focus-visible) svg,.gb_Fd button:hover svg,.gb_Fd button:active svg,.gb_B:focus:not(:focus-visible),.gb_B:hover,.gb_B:active,.gb_B[aria-expanded=true]{outline:none}.gb_2c .gb_Fd.gb_Hd button:focus-visible svg,.gb_Fd button:focus-visible svg,.gb_B:focus-visible{outline:1px solid #202124}.gb_2c .gb_Fd button:focus-visible svg,.gb_2c .gb_B:focus-visible{outline:1px solid #f1f3f4}@media (forced-colors:active){.gb_2c .gb_Fd.gb_Hd button:focus-visible svg,.gb_Fd button:focus-visible svg,.gb_2c .gb_Fd button:focus-visible svg{outline:1px solid currentcolor}}.gb_2c .gb_Fd.gb_Hd button:focus svg,.gb_2c .gb_Fd.gb_Hd button:focus:hover svg,.gb_Fd button:focus svg,.gb_Fd button:focus:hover svg,.gb_B:focus,.gb_B:focus:hover{background-color:rgba(60,64,67,.1)}.gb_2c .gb_Fd.gb_Hd button:active svg,.gb_Fd button:active svg,.gb_B:active{background-color:rgba(60,64,67,.12)}.gb_2c .gb_Fd.gb_Hd button:hover svg,.gb_Fd button:hover svg,.gb_B:hover{background-color:rgba(60,64,67,.08)}.gb_Xa .gb_B.gb_0a:hover{background-color:transparent}.gb_B[aria-expanded=true],.gb_B:hover[aria-expanded=true]{background-color:rgba(95,99,104,.24)}.gb_B[aria-expanded=true] .gb_F{fill:#5f6368;opacity:1}.gb_2c .gb_Fd button:hover svg,.gb_2c .gb_B:hover{background-color:rgba(232,234,237,.08)}.gb_2c .gb_Fd button:focus svg,.gb_2c .gb_Fd button:focus:hover svg,.gb_2c .gb_B:focus,.gb_2c .gb_B:focus:hover{background-color:rgba(232,234,237,.1)}.gb_2c .gb_Fd button:active svg,.gb_2c .gb_B:active{background-color:rgba(232,234,237,.12)}.gb_2c .gb_B[aria-expanded=true],.gb_2c .gb_B:hover[aria-expanded=true]{background-color:rgba(255,255,255,.12)}.gb_2c .gb_B[aria-expanded=true] .gb_F{fill:#ffffff;opacity:1}.gb_vd{padding:4px}.gb_Ha.gb_Bd .gb_vd{padding:4px 2px}.gb_Ha.gb_Bd .gb_z.gb_vd{padding-left:6px}.gb_ma{z-index:991;line-height:normal}.gb_ma.gb_Id{left:0;right:auto}@media (max-width:350px){.gb_ma.gb_Id{left:0}}.gb_Jd .gb_ma{top:56px}.gb_S{display:none!important}.gb_jb{visibility:hidden}.gb_J .gb_B{background-position:-64px -29px;opacity:.55}.gb_la .gb_J .gb_B{background-position:-64px -29px}.gb_2 .gb_J .gb_B{background-position:-29px -29px;opacity:1}.gb_J .gb_B,.gb_J .gb_B:hover,.gb_J .gb_B:focus{opacity:1}.gb_L{display:none}@media screen and (max-width:319px){.gb_Kd:not(.gb_Ld) .gb_J{display:none;visibility:hidden}}.gb_R{display:none}.gb_pd{font-family:Google Sans,Roboto,Helvetica,Arial,sans-serif;font-size:20px;font-weight:400;letter-spacing:.25px;line-height:48px;margin-bottom:2px;opacity:1;overflow:hidden;padding-left:16px;position:relative;text-overflow:ellipsis;vertical-align:middle;top:2px;white-space:nowrap;-webkit-box-flex:1;-webkit-flex:1 1 auto;flex:1 1 auto}.gb_pd.gb_qd{color:#3c4043}.gb_Ha.gb_9a .gb_pd{margin-bottom:0}.gb_rd.gb_sd .gb_pd{padding-left:4px}.gb_Ha.gb_9a .gb_td{position:relative;top:-2px}.gb_ud{display:none}.gb_Ha{color:black;min-width:160px;position:relative;-webkit-transition:box-shadow .25s;transition:box-shadow .25s}.gb_Ha.gb_ad{min-width:120px}.gb_Ha.gb_Rd .gb_Sd{display:none}.gb_Ha.gb_Rd .gb_Kd{height:56px}header.gb_Ha{display:block}.gb_Ha svg{fill:currentColor}.gb_Td{position:fixed;top:0;width:100%}.gb_Ud{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2)}.gb_Vd{height:64px}.gb_Kd{box-sizing:border-box;position:relative;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;min-width:-webkit-min-content;min-width:min-content}.gb_Ha:not(.gb_9a) .gb_Kd{padding:8px}.gb_Ha.gb_Xd .gb_Kd{-webkit-box-flex:1;-webkit-flex:1 0 auto;flex:1 0 auto}.gb_Ha .gb_Kd.gb_Ld.gb_Zd{min-width:0}.gb_Ha.gb_9a .gb_Kd{padding:4px;padding-left:8px;min-width:0}.gb_Sd{height:48px;vertical-align:middle;white-space:nowrap;-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-user-select:none;user-select:none}.gb_0d>.gb_Sd{display:table-cell;width:100%}.gb_rd{padding-right:30px;box-sizing:border-box;-webkit-box-flex:1;-webkit-flex:1 0 auto;flex:1 0 auto}.gb_Ha.gb_9a .gb_rd{padding-right:14px}.gb_1d{-webkit-box-flex:1;-webkit-flex:1 1 100%;flex:1 1 100%}.gb_1d>:only-child{display:inline-block}.gb_2d.gb_jd{padding-left:4px}.gb_2d.gb_3d,.gb_Ha.gb_Xd .gb_2d,.gb_Ha.gb_9a:not(.gb_Dd) .gb_2d{padding-left:0}.gb_Ha.gb_9a .gb_2d.gb_3d{padding-right:0}.gb_Ha.gb_9a .gb_2d.gb_3d .gb_Xa{margin-left:10px}.gb_jd{display:inline}.gb_Ha.gb_dd .gb_2d.gb_4d,.gb_Ha.gb_Dd .gb_2d.gb_4d{padding-left:2px}.gb_pd{display:inline-block}.gb_2d{box-sizing:border-box;height:48px;line-height:normal;padding:0 4px;padding-left:30px;-webkit-box-flex:0;-webkit-flex:0 0 auto;flex:0 0 auto;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.gb_Dd{height:48px}.gb_Ha.gb_Dd{min-width:auto}.gb_Dd .gb_2d{float:right;padding-left:32px}.gb_Dd .gb_2d.gb_5d{padding-left:0}.gb_6d{font-size:14px;max-width:200px;overflow:hidden;padding:0 12px;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:text;user-select:text}.gb_Nd{-webkit-transition:background-color .4s;transition:background-color .4s}.gb_9d{color:black}.gb_2c{color:white}.gb_Ha a,.gb_6c a{color:inherit}.gb_ca{color:rgba(0,0,0,.87)}.gb_Ha svg,.gb_6c svg,.gb_rd .gb_Qd,.gb_id .gb_Qd{color:#5f6368;opacity:1}.gb_2c svg,.gb_6c.gb_bd svg{color:rgba(255,255,255,.87)}.gb_2c .gb_rd .gb_Qd,.gb_2c .gb_rd .gb_1c,.gb_2c .gb_rd .gb_td,.gb_6c.gb_bd .gb_Qd{color:rgba(255,255,255,.87)}.gb_2c .gb_rd .gb_0c:not(.gb_ae){opacity:.87}.gb_qd{color:inherit;opacity:1;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.gb_2c .gb_qd,.gb_9d .gb_qd{opacity:1}.gb_7d{position:relative}.gb_M{font-family:arial,sans-serif;line-height:normal;padding-right:15px}a.gb_Z,span.gb_Z{color:rgba(0,0,0,.87);text-decoration:none}.gb_2c a.gb_Z,.gb_2c span.gb_Z{color:white}a.gb_Z:focus{outline-offset:2px}a.gb_Z:hover{text-decoration:underline}.gb_0{display:inline-block;padding-left:15px}.gb_0 .gb_Z{display:inline-block;line-height:24px;vertical-align:middle}.gb_Od{font-family:Google Sans,Roboto,Helvetica,Arial,sans-serif;font-weight:500;font-size:14px;letter-spacing:.25px;line-height:16px;margin-left:10px;margin-right:8px;min-width:96px;padding:9px 23px;text-align:center;vertical-align:middle;border-radius:4px;box-sizing:border-box}.gb_Ha.gb_Dd .gb_Od{margin-left:8px}#gb a.gb_Va.gb_Od{cursor:pointer}.gb_Va.gb_Od:hover{background:#1b66c9;box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.gb_Va.gb_Od:focus,.gb_Va.gb_Od:hover:focus{background:#1c5fba;box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.gb_Va.gb_Od:active{background:#1b63c1;box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.gb_Od{background:#1a73e8;border:1px solid transparent}.gb_Ha.gb_9a .gb_Od{padding:9px 15px;min-width:80px}.gb_8d{text-align:left}#gb .gb_2c a.gb_Od:not(.gb_H),#gb.gb_2c a.gb_Od{background:#fff;border-color:#dadce0;box-shadow:none;color:#1a73e8}#gb a.gb_Va.gb_H.gb_Od{background:#8ab4f8;border:1px solid transparent;box-shadow:none;color:#202124}#gb .gb_2c a.gb_Od:hover:not(.gb_H),#gb.gb_2c a.gb_Od:hover{background:#f8fbff;border-color:#cce0fc}#gb a.gb_Va.gb_H.gb_Od:hover{background:#93baf9;border-color:transparent;box-shadow:0 1px 3px 1px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.3)}#gb .gb_2c a.gb_Od:focus:not(.gb_H),#gb .gb_2c a.gb_Od:focus:hover:not(.gb_H),#gb.gb_2c a.gb_Od:focus:not(.gb_H),#gb.gb_2c a.gb_Od:focus:hover:not(.gb_H){background:#f4f8ff;outline:1px solid #c9ddfc}#gb a.gb_Va.gb_H.gb_Od:focus,#gb a.gb_Va.gb_H.gb_Od:focus:hover{background:#a6c6fa;border-color:transparent;box-shadow:none}#gb .gb_2c a.gb_Od:active:not(.gb_H),#gb.gb_2c a.gb_Od:active{background:#ecf3fe}#gb a.gb_Va.gb_H.gb_Od:active{background:#a1c3f9;box-shadow:0 1px 2px rgba(60,64,67,.3),0 2px 6px 2px rgba(60,64,67,.15)}.gb_K{display:none}@media screen and (max-width:319px){.gb_Kd .gb_J{display:none;visibility:hidden}}.gb_Xa{background-color:rgba(255,255,255,.88);border:1px solid #dadce0;box-sizing:border-box;cursor:pointer;display:inline-block;max-height:48px;overflow:hidden;outline:none;padding:0;vertical-align:middle;width:134px;border-radius:8px}.gb_Xa.gb_H{background-color:transparent;border:1px solid #5f6368}.gb_4a{display:inherit}.gb_Xa.gb_H .gb_4a{background:#ffffff;border-radius:4px;display:inline-block;left:8px;margin-right:5px;position:relative;padding:3px;top:-1px}.gb_Xa:hover{border:1px solid #d2e3fc;background-color:rgba(248,250,255,.88)}.gb_Xa.gb_H:hover{background-color:rgba(241,243,244,.04);border:1px solid #5f6368}.gb_Xa:focus-visible,.gb_Xa:focus{background-color:rgb(255,255,255);outline:1px solid #202124;box-shadow:0 1px 2px 0 rgba(60,64,67,.3),0 1px 3px 1px rgba(60,64,67,.15)}.gb_Xa.gb_H:focus-visible,.gb_Xa.gb_H:focus{background-color:rgba(241,243,244,.12);outline:1px solid #f1f3f4;box-shadow:0 1px 3px 1px rgba(0,0,0,.15),0 1px 2px 0 rgba(0,0,0,.3)}.gb_Xa.gb_H:active,.gb_Xa.gb_5a.gb_H:focus{background-color:rgba(241,243,244,.1);border:1px solid #5f6368}.gb_6a{display:inline-block;padding-bottom:2px;padding-left:7px;padding-top:2px;text-align:center;vertical-align:middle}.gb_6a{line-height:32px;width:78px}.gb_Xa.gb_H .gb_6a{line-height:26px;margin-left:0;padding-bottom:0;padding-left:0;padding-top:0;width:72px}.gb_6a.gb_7a{background-color:#f1f3f4;border-radius:4px;margin-left:8px;padding-left:0;line-height:30px}.gb_6a.gb_7a .gb_8a{vertical-align:middle}.gb_Ha:not(.gb_9a) .gb_Xa{margin-left:10px;margin-right:4px}.gb_ab{max-height:32px;width:78px}.gb_Xa.gb_H .gb_ab{max-height:26px;width:72px}.gb_Q{background-size:32px 32px;border:0;border-radius:50%;display:block;margin:0px;position:relative;height:32px;width:32px;z-index:0}.gb_kb{background-color:#e8f0fe;border:1px solid rgba(32,33,36,.08);position:relative}.gb_kb.gb_Q{height:30px;width:30px}.gb_kb.gb_Q:hover,.gb_kb.gb_Q:active{box-shadow:none}.gb_lb{background:#fff;border:none;border-radius:50%;bottom:2px;box-shadow:0px 1px 2px 0px rgba(60,64,67,0.3),0px 1px 3px 1px rgba(60,64,67,0.15);height:14px;margin:2px;position:absolute;right:0;width:14px;line-height:normal;z-index:1}.gb_mb{color:#1f71e7;font:400 22px/32px Google Sans,Roboto,Helvetica,Arial,sans-serif;text-align:center;text-transform:uppercase}@media (-webkit-min-device-pixel-ratio:1.25),(min-device-pixel-ratio:1.25),(min-resolution:1.25dppx){.gb_Q::before,.gb_nb::before{display:inline-block;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left 0;transform-origin:left 0}.gb_4 .gb_nb::before{-webkit-transform:scale(scale(.416666667));transform:scale(scale(.416666667))}}.gb_Q:hover,.gb_Q:focus{box-shadow:0 1px 0 rgba(0,0,0,.15)}.gb_Q:active{box-shadow:inset 0 2px 0 rgba(0,0,0,.15)}.gb_Q:active::after{background:rgba(0,0,0,.1);border-radius:50%;content:"";display:block;height:100%}.gb_ob{cursor:pointer;line-height:40px;min-width:30px;opacity:.75;overflow:hidden;vertical-align:middle;text-overflow:ellipsis}.gb_B.gb_ob{width:auto}.gb_ob:hover,.gb_ob:focus{opacity:.85}.gb_pb .gb_ob,.gb_pb .gb_qb{line-height:26px}#gb#gb.gb_pb a.gb_ob,.gb_pb .gb_qb{font-size:11px;height:auto}.gb_rb{border-top:4px solid #000;border-left:4px dashed transparent;border-right:4px dashed transparent;display:inline-block;margin-left:6px;opacity:.75;vertical-align:middle}.gb_0a:hover .gb_rb{opacity:.85}.gb_Xa>.gb_z{padding:3px 3px 3px 4px}.gb_sb.gb_jb{color:#fff}.gb_2 .gb_ob,.gb_2 .gb_rb{opacity:1}#gb#gb.gb_2.gb_2 a.gb_ob,#gb#gb .gb_2.gb_2 a.gb_ob{color:#fff}.gb_2.gb_2 .gb_rb{border-top-color:#fff;opacity:1}.gb_la .gb_Q:hover,.gb_2 .gb_Q:hover,.gb_la .gb_Q:focus,.gb_2 .gb_Q:focus{box-shadow:0 1px 0 rgba(0,0,0,0.15),0 1px 2px rgba(0,0,0,0.2)}.gb_tb .gb_z,.gb_ub .gb_z{position:absolute;right:1px}.gb_z.gb_1,.gb_vb.gb_1,.gb_0a.gb_1{-webkit-box-flex:0;-webkit-flex:0 1 auto;flex:0 1 auto}.gb_wb.gb_xb .gb_ob{width:30px!important}.gb_P{height:40px;position:absolute;right:-5px;top:-5px;width:40px}.gb_yb .gb_P,.gb_zb .gb_P{right:0;top:0}.gb_z .gb_B{padding:4px}.gb_T{display:none}sentinel{}</style><script nonce="">;this.gbar_={CONFIG:[[[0,"www.gstatic.com","og.qtm.en_US.546V2x6agfI.2019.O","co.il","fr","425",0,[4,2,"","","","867337540","0"],null,"85uRaa1H-qbr4A_mocqABw",null,0,"og.qtm.1Ixi47SUPK0.L.W.O","AA2YrTt_V1awXfdwDtm_Jc8gl6ccvk7o6A","AA2YrTvDx8XynccyWcqIqc5FOV5g6ME1iw","",2,1,200,"ISR",null,null,"425","425",1,null,null,114591953,null,0,0],null,[1,0.1000000014901161,2,1],null,[1,0,0,null,"0","anaellez27@gmail.com","","AKJaqz2mLYDkFOChGFzY9IJKO74wx4nKkbh9I5xdwtLnHuJpcpTzSDkmKkg1snch28r9pp1B0JM0mSi78AUA5ETjFRnG6GIrpw",0,0,null,""],[0,0,"",1,0,0,0,0,0,0,null,0,0,null,0,0,null,null,0,0,0,"","","","","","",null,0,0,0,0,0,null,null,null,"rgba(32,33,36,1)","rgba(255,255,255,1)",0,0,0,null,null,null,0],["%1$s (par défaut)","Compte de marque",1,"%1$s (délégué)",1,null,83,"https://colab.research.google.com/gist/anaellez/270ba6ac07b2696b43f054b986e640fc/copie-de-dynamic_hybrid_chatbot_routing-py.ipynb?authuser=$authuser",null,null,null,1,"https://accounts.google.com/ListAccounts?listPages=0\u0026pid=425\u0026gpsia=1\u0026source=ogb\u0026atic=1\u0026mo=1\u0026mn=1\u0026hl=fr\u0026ts=250",0,"dashboard",null,null,null,null,"Profil","",1,null,"Déconnecté","https://accounts.google.com/AccountChooser?source=ogb\u0026continue=$continue\u0026Email=$email\u0026ec=GAhAqQM","https://accounts.google.com/RemoveLocalAccount?source=ogb","Supprimer","Se connecter",0,1,1,0,1,1,0,null,null,null,"Session arrivée à expiration",null,null,null,"Visiteur",null,"Par défaut","Délégué","Se déconnecter de tous les comptes",0,null,null,0,null,null,"myaccount.google.com","https",0,1,0],null,["1","gci_91f30755d6a6b787dcc2a4062e6e9824.js","googleapis.client:gapi.iframes","0","fr"],null,null,null,null,["m;/_/scs/abc-static/_/js/k=gapi.gapi.en.AKdz2vhcyW0.O/d=1/rs=AHpOoo_GPfyZPmTuYcbMXzJr0yr8Akk4Tw/m=__features__","https://apis.google.com","","","1","",null,1,"es_plusone_gc_20260107.0_p0","fr",null,0],[0.009999999776482582,"co.il","425",[null,"","0",null,1,5184000,null,null,"",null,null,null,null,null,0,null,0,null,1,0,0,0,null,null,0,0,null,0,0,0,0,0],null,null,null,0],[1,null,null,40400,425,"ISR","fr","867337540.0",8,null,1,0,null,null,null,null,"3701278,3701280,105109531,105109534,105140909,105140912,115517798,115517801,116221149,116221152",null,null,null,"85uRaa1H-qbr4A_mocqABw",0,0,0,null,2,5,"nn",47,0,0,null,null,1,114591953,0,0],[[null,null,null,"https://www.gstatic.com/og/_/js/k=og.qtm.en_US.546V2x6agfI.2019.O/rt=j/m=qabr,qgl,q_dnp,qcwid,qbd,qapid,qads,qrcd,q_dg/exm=qaaw,qadd,qaid,qein,qhaw,qhba,qhbr,qhch,qhga,qhid,qhin/d=1/ed=1/rs=AA2YrTt_V1awXfdwDtm_Jc8gl6ccvk7o6A"],[null,null,null,"https://www.gstatic.com/og/_/ss/k=og.qtm.1Ixi47SUPK0.L.W.O/m=qcwid,qba/excm=qaaw,qadd,qaid,qein,qhaw,qhba,qhbr,qhch,qhga,qhid,qhin/d=1/ed=1/ct=zgms/rs=AA2YrTvDx8XynccyWcqIqc5FOV5g6ME1iw"]],null,null,null,[[[null,null,[null,null,null,"https://ogs.google.com/u/0/widget/account?baea=1\u0026amb=1"],0,414,436,57,4,1,0,0,65,66,8000,"https://accounts.google.com/SignOutOptions?hl=fr\u0026continue=https://colab.research.google.com/gist/anaellez/270ba6ac07b2696b43f054b986e640fc/copie-de-dynamic_hybrid_chatbot_routing-py.ipynb\u0026ec=GBRAqQM",68,2,null,null,1,113,"Un problème est survenu.%1$s Actualisez pour réessayer ou %2$ssélectionnez un autre compte%3$s.",3,null,null,75,0,null,null,null,null,null,null,null,"/widget/account",["https","myaccount.google.com",0,32,83,0],0,0,1,["Alerte de sécurité critique","Alerte importante liée au compte","Alerte d'utilisation de l'espace de stockage",null,1,1,0,0,"Alerte concernant le compte",0],null,1,null,1,1,null,null,null,null,0,0,0,null,0,0,null,null,null,null,null,null,null,null,null,0],[null,null,[null,null,null,"https://ogs.google.com/u/0/widget/callout/sid?dc=1"],null,280,420,70,25,0,null,0,null,null,8000,null,71,4,null,null,null,null,null,null,null,null,76,null,null,null,107,108,109,"",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0]],null,null,"425","425",1,0,null,"fr",0,["https://colab.research.google.com/gist/anaellez/270ba6ac07b2696b43f054b986e640fc/copie-de-dynamic_hybrid_chatbot_routing-py.ipynb?authuser=$authuser","https://accounts.google.com/AddSession?hl=fr\u0026continue=https://colab.research.google.com/gist/anaellez/270ba6ac07b2696b43f054b986e640fc/copie-de-dynamic_hybrid_chatbot_routing-py.ipynb\u0026ec=GAlAqQM","https://accounts.google.com/Logout?hl=fr\u0026continue=https://colab.research.google.com/gist/anaellez/270ba6ac07b2696b43f054b986e640fc/copie-de-dynamic_hybrid_chatbot_routing-py.ipynb\u0026timeStmp=1771150323\u0026secTok=.AG5fkS8Xhde_GSXvnonrepe5VkIrFdKpZQ\u0026ec=GAdAqQM","https://accounts.google.com/ListAccounts?listPages=0\u0026pid=425\u0026gpsia=1\u0026source=ogb\u0026atic=1\u0026mo=1\u0026mn=1\u0026hl=fr\u0026ts=250",0,0,"",0,0,null,0,null,"https://accounts.google.com/ServiceLogin?passive=true\u0026continue=https%3A%2F%2Fcolab.research.google.com%2Fgist%2Fanaellez%2F270ba6ac07b2696b43f054b986e640fc%2Fcopie-de-dynamic_hybrid_chatbot_routing-py.ipynb\u0026ec=GAZAqQM",null,null,0,null,null,null,0],0,0,0,[null,"",null,null,null,1,null,0,0,"","","","https://ogads-pa.clients6.google.com",0,0,0,"","",0,0,null,86400,null,1,null,null,0,null,0,0,"8559284470",3,1,0,0],0,null,null,null,1,0,"anaellez27@gmail.com",0],null,[["mousedown","touchstart","touchmove","wheel","keydown"],300000],[[null,null,null,"https://accounts.google.com/RotateCookiesPage"],3,null,null,null,3701163,1]]],};this.gbar_=this.gbar_||{};(function(_){var window=this;
try{
_._F_toggles_initialize=function(a){(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this)._F_toggles_gbar_=a||[]};(0,_._F_toggles_initialize)([]);
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var ja,pa,qa,ua,wa,xa,Fa,Ga,Za,bb,db,ib,eb,kb,qb,Db,Eb,Fb,Gb;_.aa=function(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,_.aa);else{const c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a));b!==void 0&&(this.cause=b)};_.ba=function(a){a.Bk=!0;return a};_.ia=function(a){var b=a;if(da(b)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(b))throw Error(String(b));}else if(ea(b)&&!Number.isSafeInteger(b))throw Error(String(b));return fa?BigInt(a):a=ha(a)?a?"1":"0":da(a)?a.trim()||"0":String(a)};
ja=function(a,b){if(a.length>b.length)return!1;if(a.length<b.length||a===b)return!0;for(let c=0;c<a.length;c++){const d=a[c],e=b[c];if(d>e)return!1;if(d<e)return!0}};_.ka=function(a){_.t.setTimeout(()=>{throw a;},0)};_.ma=function(){return _.la().toLowerCase().indexOf("webkit")!=-1};_.la=function(){var a=_.t.navigator;return a&&(a=a.userAgent)?a:""};pa=function(a){if(!na||!oa)return!1;for(let b=0;b<oa.brands.length;b++){const {brand:c}=oa.brands[b];if(c&&c.indexOf(a)!=-1)return!0}return!1};
_.u=function(a){return _.la().indexOf(a)!=-1};qa=function(){return na?!!oa&&oa.brands.length>0:!1};_.ra=function(){return qa()?!1:_.u("Opera")};_.sa=function(){return qa()?!1:_.u("Trident")||_.u("MSIE")};_.ta=function(){return _.u("Firefox")||_.u("FxiOS")};_.va=function(){return _.u("Safari")&&!(ua()||(qa()?0:_.u("Coast"))||_.ra()||(qa()?0:_.u("Edge"))||(qa()?pa("Microsoft Edge"):_.u("Edg/"))||(qa()?pa("Opera"):_.u("OPR"))||_.ta()||_.u("Silk")||_.u("Android"))};
ua=function(){return qa()?pa("Chromium"):(_.u("Chrome")||_.u("CriOS"))&&!(qa()?0:_.u("Edge"))||_.u("Silk")};wa=function(){return na?!!oa&&!!oa.platform:!1};xa=function(){return _.u("iPhone")&&!_.u("iPod")&&!_.u("iPad")};_.ya=function(){return xa()||_.u("iPad")||_.u("iPod")};_.za=function(){return wa()?oa.platform==="macOS":_.u("Macintosh")};_.Ba=function(a,b){return _.Aa(a,b)>=0};_.Ca=function(a,b=!1){return b&&Symbol.for&&a?Symbol.for(a):a!=null?Symbol(a):Symbol()};
_.Ea=function(a,b){return b===void 0?a.j!==Da&&!!(2&(a.ha[_.v]|0)):!!(2&b)&&a.j!==Da};Fa=function(a){return a};Ga=function(a,b){a.__closure__error__context__984382||(a.__closure__error__context__984382={});a.__closure__error__context__984382.severity=b};_.Ha=function(a){a=Error(a);Ga(a,"warning");return a};_.Ja=function(a,b){if(a!=null){var c;var d=(c=Ia)!=null?c:Ia={};c=d[a]||0;c>=b||(d[a]=c+1,a=Error(),Ga(a,"incident"),_.ka(a))}};
_.La=function(a){if(typeof a!=="boolean")throw Error("k`"+_.Ka(a)+"`"+a);return a};_.Ma=function(a){if(a==null||typeof a==="boolean")return a;if(typeof a==="number")return!!a};_.Oa=function(a){if(!(0,_.Na)(a))throw _.Ha("enum");return a|0};_.Pa=function(a){if(typeof a!=="number")throw _.Ha("int32");if(!(0,_.Na)(a))throw _.Ha("int32");return a|0};_.Qa=function(a){if(a!=null&&typeof a!=="string")throw Error();return a};_.Ra=function(a){return a==null||typeof a==="string"?a:void 0};
_.Ua=function(a,b,c){if(a!=null&&a[_.Sa]===_.Ta)return a;if(Array.isArray(a)){var d=a[_.v]|0;c=d|c&32|c&2;c!==d&&(a[_.v]=c);return new b(a)}};_.Xa=function(a){const b=_.Va(_.Wa);return b?a[b]:void 0};Za=function(a,b){b<100||_.Ja(Ya,1)};
bb=function(a,b,c,d){const e=d!==void 0;d=!!d;var f=_.Va(_.Wa),g;!e&&f&&(g=a[f])&&g.Ad(Za);f=[];var h=a.length;let k;g=4294967295;let l=!1;const m=!!(b&64),p=m?b&128?0:-1:void 0;if(!(b&1||(k=h&&a[h-1],k!=null&&typeof k==="object"&&k.constructor===Object?(h--,g=h):k=void 0,!m||b&128||e))){l=!0;var r;g=((r=$a)!=null?r:Fa)(g-p,p,a,k,void 0)+p}b=void 0;for(r=0;r<h;r++){let w=a[r];if(w!=null&&(w=c(w,d))!=null)if(m&&r>=g){const E=r-p;var q=void 0;((q=b)!=null?q:b={})[E]=w}else f[r]=w}if(k)for(let w in k){q=
k[w];if(q==null||(q=c(q,d))==null)continue;h=+w;let E;if(m&&!Number.isNaN(h)&&(E=h+p)<g)f[E]=q;else{let O;((O=b)!=null?O:b={})[w]=q}}b&&(l?f.push(b):f[g]=b);e&&_.Va(_.Wa)&&(a=_.Xa(a))&&"function"==typeof _.ab&&a instanceof _.ab&&(f[_.Wa]=a.i());return f};
db=function(a){switch(typeof a){case "number":return Number.isFinite(a)?a:""+a;case "bigint":return(0,_.cb)(a)?Number(a):""+a;case "boolean":return a?1:0;case "object":if(Array.isArray(a)){const b=a[_.v]|0;return a.length===0&&b&1?void 0:bb(a,b,db)}if(a!=null&&a[_.Sa]===_.Ta)return eb(a);if("function"==typeof _.fb&&a instanceof _.fb)return a.j();return}return a};ib=function(a,b){if(b){$a=b==null||b===Fa||b[gb]!==hb?Fa:b;try{return eb(a)}finally{$a=void 0}}return eb(a)};
eb=function(a){a=a.ha;return bb(a,a[_.v]|0,db)};
_.lb=function(a,b,c,d=0){if(a==null){var e=32;c?(a=[c],e|=128):a=[];b&&(e=e&-16760833|(b&1023)<<14)}else{if(!Array.isArray(a))throw Error("l");e=a[_.v]|0;if(jb&&1&e)throw Error("m");2048&e&&!(2&e)&&kb();if(e&256)throw Error("n");if(e&64)return(e|d)!==e&&(a[_.v]=e|d),a;if(c&&(e|=128,c!==a[0]))throw Error("o");a:{c=a;e|=64;var f=c.length;if(f){var g=f-1;const k=c[g];if(k!=null&&typeof k==="object"&&k.constructor===Object){b=e&128?0:-1;g-=b;if(g>=1024)throw Error("q");for(var h in k)if(f=+h,f<g)c[f+
b]=k[h],delete k[h];else break;e=e&-16760833|(g&1023)<<14;break a}}if(b){h=Math.max(b,f-(e&128?0:-1));if(h>1024)throw Error("r");e=e&-16760833|(h&1023)<<14}}}a[_.v]=e|64|d;return a};kb=function(){if(jb)throw Error("p");_.Ja(mb,5)};
qb=function(a,b){if(typeof a!=="object")return a;if(Array.isArray(a)){var c=a[_.v]|0;a.length===0&&c&1?a=void 0:c&2||(!b||4096&c||16&c?a=_.nb(a,c,!1,b&&!(c&16)):(a[_.v]|=34,c&4&&Object.freeze(a)));return a}if(a!=null&&a[_.Sa]===_.Ta)return b=a.ha,c=b[_.v]|0,_.Ea(a,c)?a:_.ob(a,b,c)?_.pb(a,b):_.nb(b,c);if("function"==typeof _.fb&&a instanceof _.fb)return a};_.pb=function(a,b,c){a=new a.constructor(b);c&&(a.j=Da);a.o=Da;return a};
_.nb=function(a,b,c,d){d!=null||(d=!!(34&b));a=bb(a,b,qb,d);d=32;c&&(d|=2);b=b&16769217|d;a[_.v]=b;return a};_.rb=function(a){const b=a.ha,c=b[_.v]|0;return _.Ea(a,c)?_.ob(a,b,c)?_.pb(a,b,!0):new a.constructor(_.nb(b,c,!1)):a};_.sb=function(a){if(a.j!==Da)return!1;var b=a.ha;b=_.nb(b,b[_.v]|0);b[_.v]|=2048;a.ha=b;a.j=void 0;a.o=void 0;return!0};_.tb=function(a){if(!_.sb(a)&&_.Ea(a,a.ha[_.v]|0))throw Error();};_.vb=function(a,b){b===void 0&&(b=a[_.v]|0);b&32&&!(b&4096)&&(a[_.v]=b|4096)};
_.ob=function(a,b,c){return c&2?!0:c&32&&!(c&4096)?(b[_.v]=c|2,a.j=Da,!0):!1};_.wb=function(a,b,c,d,e){const f=c+(e?0:-1);var g=a.length-1;if(g>=1+(e?0:-1)&&f>=g){const h=a[g];if(h!=null&&typeof h==="object"&&h.constructor===Object)return h[c]=d,b}if(f<=g)return a[f]=d,b;if(d!==void 0){let h;g=((h=b)!=null?h:b=a[_.v]|0)>>14&1023||536870912;c>=g?d!=null&&(a[g+(e?0:-1)]={[c]:d}):a[f]=d}return b};
_.yb=function(a,b,c,d,e){let f=!1;d=_.xb(a,d,e,g=>{const h=_.Ua(g,c,b);f=h!==g&&h!=null;return h});if(d!=null)return f&&!_.Ea(d)&&_.vb(a,b),d};_.zb=function(){const a=class{constructor(){throw Error();}};Object.setPrototypeOf(a,a.prototype);return a};_.Ab=function(a,b){return a!=null?!!a:!!b};_.x=function(a,b){b==void 0&&(b="");return a!=null?a:b};_.Bb=function(a,b,c){for(const d in a)b.call(c,a[d],d,a)};_.Cb=function(a){for(const b in a)return!1;return!0};Db=Object.defineProperty;
Eb=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("a");};Fb=Eb(this);Gb=function(a,b){if(b)a:{var c=Fb;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&b!=null&&Db(c,a,{configurable:!0,writable:!0,value:b})}};Gb("globalThis",function(a){return a||Fb});
Gb("Symbol.dispose",function(a){return a?a:Symbol("b")});var Jb,Kb,Nb;_.Hb=_.Hb||{};_.t=this||self;Jb=function(a,b){var c=_.Ib("WIZ_global_data.oxN3nb");a=c&&c[a];return a!=null?a:b};Kb=_.t._F_toggles_gbar_||[];_.Ib=function(a,b){a=a.split(".");b=b||_.t;for(var c=0;c<a.length;c++)if(b=b[a[c]],b==null)return null;return b};_.Ka=function(a){var b=typeof a;return b!="object"?b:a?Array.isArray(a)?"array":b:"null"};_.Lb=function(a){var b=typeof a;return b=="object"&&a!=null||b=="function"};_.Mb="closure_uid_"+(Math.random()*1E9>>>0);
Nb=function(a,b,c){return a.call.apply(a.bind,arguments)};_.y=function(a,b,c){_.y=Nb;return _.y.apply(null,arguments)};_.Ob=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}};_.z=function(a,b){a=a.split(".");for(var c=_.t,d;a.length&&(d=a.shift());)a.length||b===void 0?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};_.Va=function(a){return a};
_.A=function(a,b){function c(){}c.prototype=b.prototype;a.X=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.rk=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}};_.A(_.aa,Error);_.aa.prototype.name="CustomError";var Pb=!!(Kb[0]>>18&1),Qb=!!(Kb[0]&8192),Rb=!!(Kb[0]>>20&1),Sb=!!(Kb[0]&512),Tb=!!(Kb[0]&64),Ub=!!(Kb[0]&2048);var Vb,na,jb;Vb=Jb(1,!0);na=Pb?Rb:Jb(610401301,!1);jb=Pb?Qb||!Sb:Jb(748402147,!0);_.Wb=Pb?Qb||!Tb:Jb(824648567,!0);_.Xb=Pb?Qb||!Ub:Jb(824656860,Vb);_.Yb=_.ba(a=>a!==null&&a!==void 0);var ea=_.ba(a=>typeof a==="number"),da=_.ba(a=>typeof a==="string"),ha=_.ba(a=>typeof a==="boolean");var fa=typeof _.t.BigInt==="function"&&typeof _.t.BigInt(0)==="bigint";var ac,Zb,bc,$b;_.cb=_.ba(a=>fa?a>=Zb&&a<=$b:a[0]==="-"?ja(a,ac):ja(a,bc));ac=Number.MIN_SAFE_INTEGER.toString();Zb=fa?BigInt(Number.MIN_SAFE_INTEGER):void 0;bc=Number.MAX_SAFE_INTEGER.toString();$b=fa?BigInt(Number.MAX_SAFE_INTEGER):void 0;_.cc=typeof TextDecoder!=="undefined";_.dc=typeof TextEncoder!=="undefined";var oa,ec=_.t.navigator;oa=ec?ec.userAgentData||null:null;_.Aa=function(a,b){return Array.prototype.indexOf.call(a,b,void 0)};_.fc=function(a,b,c){Array.prototype.forEach.call(a,b,c)};_.hc=function(a,b){return Array.prototype.some.call(a,b,void 0)};_.ic=function(a){_.ic[" "](a);return a};_.ic[" "]=function(){};var vc;_.jc=_.ra();_.kc=_.sa();_.lc=_.u("Edge");_.mc=_.u("Gecko")&&!(_.ma()&&!_.u("Edge"))&&!(_.u("Trident")||_.u("MSIE"))&&!_.u("Edge");_.nc=_.ma()&&!_.u("Edge");_.oc=_.za();_.pc=wa()?oa.platform==="Windows":_.u("Windows");_.qc=wa()?oa.platform==="Android":_.u("Android");_.rc=xa();_.sc=_.u("iPad");_.tc=_.u("iPod");_.uc=_.ya();
a:{let a="";const b=function(){const c=_.la();if(_.mc)return/rv:([^\);]+)(\)|;)/.exec(c);if(_.lc)return/Edge\/([\d\.]+)/.exec(c);if(_.kc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(c);if(_.nc)return/WebKit\/(\S+)/.exec(c);if(_.jc)return/(?:Version)[ \/]?(\S+)/.exec(c)}();b&&(a=b?b[1]:"");if(_.kc){var wc;const c=_.t.document;wc=c?c.documentMode:void 0;if(wc!=null&&wc>parseFloat(a)){vc=String(wc);break a}}vc=a}_.xc=vc;_.yc=_.ta();_.zc=xa()||_.u("iPod");_.Ac=_.u("iPad");_.Bc=_.u("Android")&&!(ua()||_.ta()||_.ra()||_.u("Silk"));_.Cc=ua();_.Dc=_.va()&&!_.ya();var Ya,mb,gb;_.Wa=_.Ca();_.Ec=_.Ca();Ya=_.Ca();_.Fc=_.Ca();mb=_.Ca();_.Sa=_.Ca("m_m",!0);gb=_.Ca();_.Gc=_.Ca();var Ic;_.v=_.Ca("jas",!0);Ic=[];Ic[_.v]=7;_.Hc=Object.freeze(Ic);var Da;_.Ta={};Da={};_.Jc=Object.freeze({});var hb={};var Ia=void 0;_.Kc=typeof BigInt==="function"?BigInt.asIntN:void 0;_.Lc=Number.isSafeInteger;_.Na=Number.isFinite;_.Mc=Math.trunc;var $a;_.Nc=_.ia(0);_.Oc={};_.Pc=function(a,b,c,d,e){b=_.xb(a.ha,b,c,e);if(b!==null||d&&a.o!==Da)return b};_.xb=function(a,b,c,d){if(b===-1)return null;const e=b+(c?0:-1),f=a.length-1;let g,h;if(!(f<1+(c?0:-1))){if(e>=f)if(g=a[f],g!=null&&typeof g==="object"&&g.constructor===Object)c=g[b],h=!0;else if(e===f)c=g;else return;else c=a[e];if(d&&c!=null){d=d(c);if(d==null)return d;if(!Object.is(d,c))return h?g[b]=d:a[e]=d,d}return c}};_.Qc=function(a,b,c,d){_.tb(a);const e=a.ha;_.wb(e,e[_.v]|0,b,c,d);return a};
_.B=function(a,b,c,d){let e=a.ha,f=e[_.v]|0;b=_.yb(e,f,b,c,d);if(b==null)return b;f=e[_.v]|0;if(!_.Ea(a,f)){const g=_.rb(b);g!==b&&(_.sb(a)&&(e=a.ha,f=e[_.v]|0),b=g,f=_.wb(e,f,c,b,d),_.vb(e,f))}return b};_.C=function(a,b,c){c==null&&(c=void 0);_.Qc(a,b,c);c&&!_.Ea(c)&&_.vb(a.ha);return a};_.D=function(a,b,c=!1,d){let e;return(e=_.Ma(_.Pc(a,b,d)))!=null?e:c};_.F=function(a,b,c="",d){let e;return(e=_.Ra(_.Pc(a,b,d)))!=null?e:c};_.G=function(a,b,c){return _.Ra(_.Pc(a,b,c,_.Oc))};
_.H=function(a,b,c,d){return _.Qc(a,b,c==null?c:_.La(c),d)};_.J=function(a,b,c){return _.Qc(a,b,c==null?c:_.Pa(c))};_.K=function(a,b,c,d){return _.Qc(a,b,_.Qa(c),d)};_.L=function(a,b,c,d){return _.Qc(a,b,c==null?c:_.Oa(c),d)};_.M=class{constructor(a,b,c){this.ha=_.lb(a,b,c,2048)}toJSON(){return ib(this)}wa(a){return JSON.stringify(ib(this,a))}};_.M.prototype[_.Sa]=_.Ta;_.M.prototype.toString=function(){return this.ha.toString()};_.Sc=_.zb();_.Tc=_.zb();_.Uc=_.zb();_.Vc=Symbol();var Wc=class extends _.M{constructor(a){super(a)}};_.Xc=class extends _.M{constructor(a){super(a)}D(a){return _.J(this,3,a)}};_.Yc=class extends _.M{constructor(a){super(a)}};_.N=function(){this.qa=this.qa;this.Y=this.Y};_.N.prototype.qa=!1;_.N.prototype.isDisposed=function(){return this.qa};_.N.prototype.dispose=function(){this.qa||(this.qa=!0,this.R())};_.N.prototype[Symbol.dispose]=function(){this.dispose()};_.N.prototype.R=function(){if(this.Y)for(;this.Y.length;)this.Y.shift()()};var Zc=class extends _.N{constructor(){var a=window;super();this.o=a;this.i=[];this.j={}}resolve(a){let b=this.o;a=a.split(".");const c=a.length;for(let d=0;d<c;++d)if(b[a[d]])b=b[a[d]];else return null;return b instanceof Function?b:null}yb(){const a=this.i.length,b=this.i,c=[];for(let d=0;d<a;++d){const e=b[d].i(),f=this.resolve(e);if(f&&f!=this.j[e])try{b[d].yb(f)}catch(g){}else c.push(b[d])}this.i=c.concat(b.slice(a))}};var ad=class extends _.N{constructor(){var a=_.$c;super();this.o=a;this.A=this.i=null;this.v=0;this.B={};this.j=!1;a=window.navigator.userAgent;a.indexOf("MSIE")>=0&&a.indexOf("Trident")>=0&&(a=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a))&&a[1]&&parseFloat(a[1])<9&&(this.j=!0)}C(a,b){this.i=b;this.A=a;b.preventDefault?b.preventDefault():b.returnValue=!1}};_.bd=class extends _.M{constructor(a){super(a)}};var cd=class extends _.M{constructor(a){super(a)}};var fd;_.dd=function(a,b,c=98,d=new _.Xc){if(a.i){const e=new Wc;_.K(e,1,b.message);_.K(e,2,b.stack);_.J(e,3,b.lineNumber);_.L(e,5,1);_.C(d,40,e);a.i.log(c,d)}};fd=class{constructor(){var a=ed;this.i=null;_.D(a,4,!0)}log(a,b,c=new _.Xc){_.dd(this,a,98,c)}};var gd,hd;gd=function(a){if(a.o.length>0){var b=a.i!==void 0,c=a.j!==void 0;if(b||c){b=b?a.v:a.A;c=a.o;a.o=[];try{_.fc(c,b,a)}catch(d){console.error(d)}}}};_.id=class{constructor(a){this.i=a;this.j=void 0;this.o=[]}then(a,b,c){this.o.push(new hd(a,b,c));gd(this)}resolve(a){if(this.i!==void 0||this.j!==void 0)throw Error("v");this.i=a;gd(this)}reject(a){if(this.i!==void 0||this.j!==void 0)throw Error("v");this.j=a;gd(this)}v(a){a.j&&a.j.call(a.i,this.i)}A(a){a.o&&a.o.call(a.i,this.j)}};
hd=class{constructor(a,b,c){this.j=a;this.o=b;this.i=c}};_.jd=a=>{var b="uc";if(a.uc&&a.hasOwnProperty(b))return a.uc;b=new a;return a.uc=b};_.P=class{constructor(){this.v=new _.id;this.i=new _.id;this.D=new _.id;this.B=new _.id;this.C=new _.id;this.A=new _.id;this.o=new _.id;this.j=new _.id;this.F=new _.id;this.G=new _.id}K(){return this.v}qa(){return this.i}O(){return this.D}M(){return this.B}P(){return this.C}L(){return this.A}Y(){return this.o}J(){return this.j}N(){return this.F}static i(){return _.jd(_.P)}};var md;_.ld=function(){return _.B(_.kd,_.Yc,5)};md=class extends _.M{constructor(a){super(a)}};var nd;window.gbar_&&window.gbar_.CONFIG?nd=window.gbar_.CONFIG[0]||{}:nd=[];_.kd=new md(nd);var ed;ed=_.B(_.kd,cd,3)||new cd;_.$c=new fd;_.z("gbar_._DumpException",function(a){_.$c?_.$c.log(a):console.error(a)});_.od=new ad;var qd;_.rd=function(a,b){var c=_.pd.i();if(a in c.i){if(c.i[a]!=b)throw new qd;}else{c.i[a]=b;const h=c.j[a];if(h)for(let k=0,l=h.length;k<l;k++){b=h[k];var d=c.i;delete b.i[a];if(_.Cb(b.i)){for(var e=b.j.length,f=Array(e),g=0;g<e;g++)f[g]=d[b.j[g]];b.o.apply(b.v,f)}}delete c.j[a]}};_.pd=class{constructor(){this.i={};this.j={}}static i(){return _.jd(_.pd)}};_.sd=class extends _.aa{constructor(){super()}};qd=class extends _.sd{};_.z("gbar.A",_.id);_.id.prototype.aa=_.id.prototype.then;_.z("gbar.B",_.P);_.P.prototype.ba=_.P.prototype.qa;_.P.prototype.bb=_.P.prototype.O;_.P.prototype.bd=_.P.prototype.P;_.P.prototype.bf=_.P.prototype.K;_.P.prototype.bg=_.P.prototype.M;_.P.prototype.bh=_.P.prototype.L;_.P.prototype.bj=_.P.prototype.Y;_.P.prototype.bk=_.P.prototype.J;_.P.prototype.bl=_.P.prototype.N;_.z("gbar.a",_.P.i());window.gbar&&window.gbar.ap&&window.gbar.ap(window.gbar.a);var td=new Zc;_.rd("api",td);
var ud=_.ld()||new _.Yc,vd=window,wd=_.x(_.G(ud,8));vd.__PVT=wd;_.rd("eq",_.od);
}catch(e){_._DumpException(e)}
try{
_.xd=class extends _.M{constructor(a){super(a)}};
}catch(e){_._DumpException(e)}
try{
var yd=class extends _.M{constructor(a){super(a)}};var zd=class extends _.N{constructor(){super();this.j=[];this.i=[]}o(a,b){this.j.push({features:a,options:b!=null?b:null})}init(a,b,c){window.gapi={};const d=window.___jsl={};d.h=_.x(_.G(a,1));_.Ma(_.Pc(a,12))!=null&&(d.dpo=_.Ab(_.D(a,12)));d.ms=_.x(_.G(a,2));d.m=_.x(_.G(a,3));d.l=[];_.F(b,1)&&(a=_.G(b,3))&&this.i.push(a);_.F(c,1)&&(c=_.G(c,2))&&this.i.push(c);_.z("gapi.load",(0,_.y)(this.o,this));return this}};var Ad=_.B(_.kd,_.bd,14);if(Ad){var Bd=_.B(_.kd,_.xd,9)||new _.xd,Dd=new yd,Ed=new zd;Ed.init(Ad,Bd,Dd);_.rd("gs",Ed)};
}catch(e){_._DumpException(e)}
})(this.gbar_);
// Google Inc.
</script><script nonce="">try {const preferences = JSON.parse(window.localStorage.getItem("datalab_prefs_anaellez27@gmail.com")); document.querySelector('html') .setAttribute('theme', preferences['siteTheme'] || 'default');} catch (e) {}</script><script nonce="">window.performance.mark('head_start');</script><link rel="stylesheet" href="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/bundle.css"><script nonce="">var colabVersionTag = 'colab-external_20260212-060056_RC00_869112598'; var colabScsVersion = 'aadbe54870f08f4540e72ed51d85e571'; var hl = 'fr'; var colabExperiments = JSON.parse('\x7b\x22add_df_vars_in_ai_conversation_context\x22: false, \x22add_df_vars_in_ai_generate_context\x22: false, \x22add_notebook_diffs_to_chat_history\x22: false, \x22add_prompt_cell\x22: true, \x22agent_client_update_task_max_request_size_bytes\x22: 10000000, \x22agent_scroll_delay_ms\x22: 200, \x22agent_update_task_max_request_size_bytes\x22: 10000000, \x22ai_banner\x22: false, \x22ai_characters_per_token\x22: 3.0, \x22ai_prompt_token_limit\x22: 32000, \x22ai_service_client_type\x22: \x22\x22, \x22ai_user_input_char_limit\x22: 2000, \x22aida_complete_code_model_id\x22: \x22\x22, \x22aida_converse_max_facts\x22: 20, \x22aida_do_conversation_model_id\x22: \x22aida_v3p1s_streaming\x22, \x22aida_dsa_model_strategy\x22: -1, \x22aida_generate_code_model_id\x22: \x22aida_v3p1s\x22, \x22aida_generate_code_no_max_tokens\x22: true, \x22allow_dsa_page_interaction\x22: true, \x22allow_subpaths_in_kernel_url\x22: true, \x22allowed_public_url_domains\x22: \x5b\x22huggingface.co\x22, \x22dagshub.com\x22, \x22storage.googleapis.com\x22\x5d, \x22assign_ping_hostname\x22: \x22https:\/\/ping.prod.colab.dev\x22, \x22backend_url_allowlist\x22: \x5b\x22localhost\x22, \x22127.0.0.1\x22, \x22\x5b::1\x5d\x22, \x22kkb-production.jupyter-proxy.kaggle.net\x22, \x22kkb-staging.jupyter-proxy.kaggle.net\x22, \x22isolabs-kernels.corp.goog\x22, \x22*.proxy.googlers.com\x22\x5d, \x22backend_version\x22: \x22next\x22, \x22backtracking_strategy\x22: \x22non-literals\x22, \x22ccu_info_abort_timeout_ms\x22: 3000, \x22cell_tags\x22: false, \x22chat_explain_error_temp\x22: \x221.0\x22, \x22chat_model_id_override\x22: \x22\x22, \x22classroom_iframe_parent_origin\x22: \x22\x22, \x22client_trim_completion_text\x22: 400, \x22cloud_origin\x22: \x22\x22, \x22code_report_millis\x22: 600000, \x22colab_fetch_try_reauth\x22: false, \x22comment_poll_long\x22: 900000, \x22comment_poll_short\x22: 60000, \x22complete_code\x22: true, \x22compose_skip_suffix_check\x22: false, \x22composer\x22: true, \x22composer_auto_code\x22: true, \x22composer_autocomplete\x22: false, \x22composer_client_events_context\x22: true, \x22composer_compaction_interval\x22: 0, \x22composer_compaction_overlap_size\x22: 0, \x22composer_context_max_variable_length\x22: 500000, \x22composer_custom_context\x22: false, \x22composer_default_dock_right\x22: false, \x22composer_early_stopping_for_image_truncation\x22: false, \x22composer_focused_cell_context\x22: true, \x22composer_fp_context\x22: false, \x22composer_generate_code\x22: true, \x22composer_generated_cell_placement_logic\x22: true, \x22composer_kernel_files_in_context\x22: true, \x22composer_model_strategy\x22: 0, \x22composer_replace_empty_cells_when_adding_new_cells\x22: false, \x22composer_show_debug_info\x22: false, \x22composer_show_single_diff_buttons\x22: false, \x22composer_suggestion_chips_in_chat\x22: false, \x22composer_transform_code\x22: true, \x22composer_visible_cells_context\x22: true, \x22connect_enterprise_vm\x22: true, \x22converse_notebook_context_length\x22: 40000, \x22critique_comments\x22: false, \x22data_inspector\x22: true, \x22dbu\x22: \x22\x22, \x22debug_adapter\x22: false, \x22debug_external\x22: \x22external\x22, \x22debug_prod\x22: \x22prod\x22, \x22debugger_server_side_globals\x22: true, \x22dep_cells_commands\x22: true, \x22dep_cells_enabled\x22: false, \x22dep_graph\x22: false, \x22deprecate_prompt\x22: true, \x22deprecated_accelerator_models\x22: \x5b\x22V28\x22\x5d, \x22development\x22: false, \x22dialog_ui_refresh\x22: false, \x22document_change_poll_interval\x22: 30000, \x22drive_anon_api_key\x22: \x22AIzaSyB10s2vWUTwP0pj20wZoxmpZIt3rRodYeg\x22, \x22drive_api_key\x22: \x22AIzaSyCN_sSPJMpYrAzC5AtTrltNC8oRmLtoqBk\x22, \x22drive_background_save_project_number\x22: \x22948411933973\x22, \x22drive_realtime_project_number\x22: \x22903414543955\x22, \x22drop_chat_links\x22: true, \x22dsa_file_not_sent_survey_timeout\x22: 60000, \x22edu_promotion_banner\x22: false, \x22embedded_use_websockets\x22: false, \x22embedding_app\x22: \x22\x22, \x22enable_agent_connect_to_new_vm\x22: true, \x22enable_colab_mcp_integration\x22: false, \x22enable_composer_changeset_plan_stacking\x22: true, \x22enable_composer_code_report\x22: false, \x22enable_composer_fp_orcas_integration\x22: false, \x22enable_composer_fp_orcas_integration_v2\x22: false, \x22enable_composer_g_4_g_models\x22: true, \x22enable_composer_model_selector_upsell\x22: true, \x22enable_composer_suggestion_chips\x22: true, \x22enable_composer_text_cell_transformations\x22: false, \x22enable_dsa_agent_steps_bundle\x22: false, \x22enable_fp_user_provided_context_links\x22: false, \x22enable_g_4_g_as_default_model\x22: true, \x22enable_gemini_3_flash\x22: false, \x22enable_improved_composer_context_mentions\x22: false, \x22enable_more_reprs\x22: true, \x22enable_mpp_orc_model_overrides\x22: true, \x22enable_rt_on_create\x22: false, \x22enable_vscode_telemetry\x22: true, \x22execution_status_propagation\x22: true, \x22explain_error_model_id_override\x22: \x22\x22, \x22explicit_ai_backend\x22: \x22\x22, \x22external_trusted_github_org_repos_quick_add\x22: \x22GoogleChrome\/CrUX,google\/generative-ai-docs,google-health\/cxr-foundation,google-health\/derm-foundation,google-health\/path-foundation\x22, \x22file_browser_poll_interval_millis\x22: 10000, \x22file_upload_rate_limit\x22: 5, \x22first_party_auth\x22: true, \x22fix_imports\x22: false, \x22fp_context\x22: false, \x22generate_code\x22: true, \x22generate_df\x22: true, \x22github_client_id\x22: \x225036cf6d81e65aaa6340\x22, \x22gpu_utilization_check_interval_ms\x22: 600000, \x22hats_surveys\x22: true, \x22hrc\x22: false, \x22inline_completion_ai_campaign_max_views\x22: 3, \x22inline_completion_ai_campaign_throttle_ms\x22: 600000, \x22is_prober\x22: false, \x22jspb_analytics\x22: true, \x22jsraw\x22: \x22compiled\x22, \x22kaggle_backend_runtime_selector\x22: false, \x22kaggle_client_id\x22: \x22\x22, \x22kaggle_integrations\x22: false, \x22kaggle_resource_picker\x22: true, \x22kr\x22: false, \x22link_id_assignments\x22: true, \x22link_imports_to_installs\x22: true, \x22local_cloud_apis\x22: false, \x22local_service_worker\x22: false, \x22lsp_diagnostics_reporting\x22: false, \x22lsp_inlay_hint\x22: false, \x22makersuite_api_key\x22: \x22AIzaSyAmDcruecW4rCL1KdwcbIVHL4LkXxahIgw\x22, \x22makersuite_service_url\x22: \x22https:\/\/alkalimakersuite-pa.clients6.google.com\x22, \x22markdown_spellchecker\x22: false, \x22migrate_assignments\x22: true, \x22migrate_ccu_info\x22: true, \x22migrate_runtime_proxy_token\x22: true, \x22min_dep_cells_runtime_kernel_cl\x22: 694609395, \x22ml_enabled\x22: true, \x22mobile\x22: false, \x22moma_rag\x22: false, \x22moma_rag_composer\x22: false, \x22mpp_orc_temperature_override\x22: \x221.0\x22, \x22multi_modal_context_for_composer\x22: false, \x22nl2code_missing_imports\x22: false, \x22no_fun\x22: false, \x22oneplatform_api_key\x22: \x22AIzaSyA2BvntLwNwFthUB4w6_Bhn0cMlVHwyaHc\x22, \x22oneplatform_endpoint\x22: \x22https:\/\/colab.clients6.google.com\x22, \x22optimize_composer_context_order\x22: false, \x22outage_notification\x22: \x22\x22, \x22outage_notification_link\x22: \x22\x22, \x22outputframe_version\x22: \x22\x22, \x22override_suf_params_for_test\x22: false, \x22pds_minting\x22: false, \x22ping_before_assign\x22: true, \x22preference_deep_equality_check\x22: true, \x22prereq_cells_next_steps\x22: true, \x22recaptcha_polling_frequency_ms\x22: 300000, \x22recaptcha_v2_site_key\x22: \x226LfQttQUAAAAADuPanA_VZMaZgBAOnHZNuuqUewp\x22, \x22recaptcha_v3_site_key\x22: \x226LfQPtEUAAAAAHBpAdFng54jyuB1V5w5dofknpip\x22, \x22reconnect_max_delay_seconds\x22: 300, \x22reduce_composer_planning_overeagerness\x22: false, \x22remove_ai_explain_cell_fencing\x22: true, \x22remove_ai_explain_error_fencing\x22: true, \x22require_ai_consent\x22: true, \x22resource_poll_interval_ms\x22: 10000, \x22rp_kxhr_skip_fallback\x22: false, \x22rp_serve_kernel_port\x22: true, \x22rp_socketio_fallback\x22: false, \x22rp_token_refresh_headroom_millis\x22: 300000, \x22rt_opt_in\x22: \x22OFF\x22, \x22run_mode\x22: false, \x22runtime_env_overrides\x22: \x22\\n          \x5b\\n            \x5b\\\x22ENABLE_DIRECTORYPREFETCHER\\\x22, \\\x221\\\x22\x5d\\n          \x5d\\n        \x22, \x22runtime_type_for_test\x22: \x22\x22, \x22runtime_version_names\x22: \x5b\x222026.01\x22, \x222025.10\x22, \x222025.07\x22\x5d, \x22server_execution_queue\x22: true, \x22session_resume_coalesce\x22: true, \x22show_edu_signup_link\x22: true, \x22show_gemini_button_text_label\x22: true, \x22show_payments_interstitial\x22: false, \x22show_rel_notes_on_open\x22: true, \x22show_switch_to_prod_link\x22: false, \x22single_page_consent_form\x22: true, \x22smartpaste\x22: false, \x22smartpaste_chars_limit\x22: -1, \x22smartpaste_serving_config\x22: \x22freeform_servomatic_goose_v3_xs_smart_paste\x22, \x22snippets_ui_refresh\x22: false, \x22sql_cell\x22: false, \x22sql_completion_lsp\x22: false, \x22storage_partition_trial\x22: true, \x22storage_partition_trial_token\x22: \x22Agk\/t4Bt05W7j6CHeqXH9+6ccDayrBsQPqCLDPSElphe\/7cUobayuvN0A3huajTbJenIjp6qibLteh6e0IEWrgIAAAB4eyJvcmlnaW4iOiJodHRwczovL2NvbGFiLnJlc2VhcmNoLmdvb2dsZS5jb206NDQzIiwiZmVhdHVyZSI6IkRpc2FibGVUaGlyZFBhcnR5U3RvcmFnZVBhcnRpdGlvbmluZzIiLCJleHBpcnkiOjE3NDIzNDIzOTl9\x22, \x22task_service_initial_poll_interval_ms\x22: 500, \x22task_service_max_poll_count\x22: 180, \x22task_service_max_poll_interval_ms\x22: 4000, \x22task_service_poll_interval_growth_factor\x22: 1.3, \x22task_service_poll_timeout_ms\x22: 300000, \x22task_service_wait_before_polling_ms\x22: 1000, \x22terminate_session_on_connect_to_new_vm\x22: true, \x22text_compose_report_changes_millis\x22: 10000, \x22text_span_comments\x22: false, \x22tpu_resource_stats\x22: false, \x22transform_code\x22: false, \x22trim_filename_extension\x22: false, \x22truncate_composer_execution_results\x22: true, \x22turn_off_agent_mode_when_safe\x22: true, \x22unmanaged_vm_min_label_block\x22: \x22\x22, \x22unmanaged_vm_min_label_warn\x22: \x22\x22, \x22unmanaged_vm_min_release_tag_block\x22: \x22\x22, \x22unmanaged_vm_min_release_tag_warn\x22: \x22\x22, \x22unsupported_magics_check\x22: true, \x22use_kernel_state_metadata_adk\x22: false, \x22use_kkb_if_configured\x22: false, \x22use_refactored_constraints\x22: false, \x22user_visible_accelerator_models\x22: \x5b\x22T4\x22, \x22A100\x22, \x22H100\x22, \x22L4\x22, \x22V5E1\x22, \x22V6E1\x22\x5d, \x22user_visible_composer_tools\x22: \x5b\x5d, \x22verbose_warnings\x22: false, \x22vertex_ai_api_environment_override\x22: \x22\x22, \x22viz_cell\x22: false, \x22vscode_test_feature\x22: \x22prod\x22, \x22want_completions_ai_consent_campaign\x22: true, \x22ids\x22: \x5b20730460, 20730556, 20730628, 20730457, 20730631, 20730182, 20730375, 20730559, 20730583, 20730515, 20730363\x5d, \x22flag_ids\x22: \x7b\x22add_df_vars_in_ai_conversation_context\x22: 45678289, \x22add_df_vars_in_ai_generate_context\x22: 45687604, \x22add_notebook_diffs_to_chat_history\x22: 45691117, \x22add_prompt_cell\x22: 45644995, \x22agent_client_update_task_max_request_size_bytes\x22: 45712580, \x22agent_scroll_delay_ms\x22: 45680776, \x22ai_banner\x22: 45670540, \x22ai_characters_per_token\x22: 45692654, \x22ai_prompt_token_limit\x22: 45692138, \x22ai_service_client_type\x22: 45723040, \x22ai_user_input_char_limit\x22: 45661098, \x22aida_complete_code_model_id\x22: 45427660, \x22aida_converse_max_facts\x22: 45680037, \x22aida_do_conversation_model_id\x22: 45427664, \x22aida_dsa_model_strategy\x22: 45693665, \x22aida_generate_code_model_id\x22: 45427663, \x22aida_generate_code_no_max_tokens\x22: 45694652, \x22allow_dsa_page_interaction\x22: 45675785, \x22allow_subpaths_in_kernel_url\x22: 45699272, \x22allowed_public_url_domains\x22: 45425558, \x22assign_ping_hostname\x22: 45747049, \x22backend_url_allowlist\x22: 45660303, \x22backend_version\x22: 45425541, \x22backtracking_strategy\x22: 45644832, \x22ccu_info_abort_timeout_ms\x22: 45691627, \x22cell_tags\x22: 45425779, \x22chat_explain_error_temp\x22: 45655973, \x22chat_model_id_override\x22: 45631876, \x22classroom_iframe_parent_origin\x22: 45425537, \x22client_trim_completion_text\x22: 45425628, \x22cloud_origin\x22: 45425538, \x22code_report_millis\x22: 45658073, \x22colab_fetch_try_reauth\x22: 45713304, \x22comment_poll_long\x22: 45425588, \x22comment_poll_short\x22: 45425587, \x22complete_code\x22: 45686676, \x22compose_skip_suffix_check\x22: 45615470, \x22composer\x22: 45683351, \x22composer_auto_code\x22: 45693768, \x22composer_autocomplete\x22: 45718105, \x22composer_client_events_context\x22: 45729342, \x22composer_compaction_interval\x22: 45749782, \x22composer_compaction_overlap_size\x22: 45749781, \x22composer_context_max_variable_length\x22: 45688573, \x22composer_custom_context\x22: 45728743, \x22composer_default_dock_right\x22: 45755037, \x22composer_early_stopping_for_image_truncation\x22: 45719141, \x22composer_focused_cell_context\x22: 45697545, \x22composer_fp_context\x22: 45701859, \x22composer_generate_code\x22: 45702500, \x22composer_generated_cell_placement_logic\x22: 45721730, \x22composer_kernel_files_in_context\x22: 45701855, \x22composer_model_strategy\x22: 45711731, \x22composer_replace_empty_cells_when_adding_new_cells\x22: 45788233, \x22composer_show_debug_info\x22: 45700003, \x22composer_show_single_diff_buttons\x22: 45723066, \x22composer_suggestion_chips_in_chat\x22: 45757782, \x22composer_transform_code\x22: 45700458, \x22composer_visible_cells_context\x22: 45716167, \x22connect_enterprise_vm\x22: 45730782, \x22converse_notebook_context_length\x22: 45705427, \x22critique_comments\x22: 45612076, \x22data_inspector\x22: 45697206, \x22dbu\x22: 45425545, \x22debug_adapter\x22: 45690097, \x22debug_external\x22: 45425470, \x22debug_prod\x22: 45425471, \x22debugger_server_side_globals\x22: 45687360, \x22dep_cells_commands\x22: 45622249, \x22dep_cells_enabled\x22: 45653551, \x22dep_graph\x22: 45629071, \x22deprecate_prompt\x22: 45679897, \x22deprecated_accelerator_models\x22: 45724327, \x22development\x22: 45425544, \x22dialog_ui_refresh\x22: 45698577, \x22document_change_poll_interval\x22: 45425589, \x22drive_anon_api_key\x22: 45425478, \x22drive_api_key\x22: 45425473, \x22drive_background_save_project_number\x22: 45425479, \x22drive_realtime_project_number\x22: 45425629, \x22drop_chat_links\x22: 45646864, \x22dsa_file_not_sent_survey_timeout\x22: 45688578, \x22edu_promotion_banner\x22: 45740730, \x22embedded_use_websockets\x22: 45691694, \x22enable_agent_connect_to_new_vm\x22: 45670252, \x22enable_colab_mcp_integration\x22: 45741279, \x22enable_composer_changeset_plan_stacking\x22: 45744296, \x22enable_composer_code_report\x22: 45708595, \x22enable_composer_fp_orcas_integration\x22: 45744285, \x22enable_composer_fp_orcas_integration_v2\x22: 45758361, \x22enable_composer_g_4_g_models\x22: 45745479, \x22enable_composer_model_selector_upsell\x22: 45744966, \x22enable_composer_suggestion_chips\x22: 45710464, \x22enable_composer_text_cell_transformations\x22: 45758370, \x22enable_dsa_agent_steps_bundle\x22: 45755666, \x22enable_fp_user_provided_context_links\x22: 45746774, \x22enable_g_4_g_as_default_model\x22: 45745683, \x22enable_gemini_3_flash\x22: 45749994, \x22enable_improved_composer_context_mentions\x22: 45721452, \x22enable_more_reprs\x22: 45613354, \x22enable_mpp_orc_model_overrides\x22: 45649913, \x22enable_rt_on_create\x22: 45667583, \x22enable_vscode_telemetry\x22: 45760437, \x22execution_status_propagation\x22: 45644828, \x22explain_error_model_id_override\x22: 45631875, \x22explicit_ai_backend\x22: 45638548, \x22external_trusted_github_org_repos_quick_add\x22: 45425555, \x22file_browser_poll_interval_millis\x22: 45643722, \x22file_upload_rate_limit\x22: 45637799, \x22first_party_auth\x22: 45425560, \x22fix_imports\x22: 45624140, \x22fp_context\x22: 45684902, \x22generate_code\x22: 45425492, \x22generate_df\x22: 45425503, \x22github_client_id\x22: 45425556, \x22gpu_utilization_check_interval_ms\x22: 45425561, \x22hats_surveys\x22: 45425559, \x22inline_completion_ai_campaign_max_views\x22: 45676328, \x22inline_completion_ai_campaign_throttle_ms\x22: 45671534, \x22is_prober\x22: 45429104, \x22jspb_analytics\x22: 45704358, \x22jsraw\x22: 45425557, \x22kaggle_backend_runtime_selector\x22: 45704319, \x22kaggle_client_id\x22: 45690272, \x22kaggle_integrations\x22: 45690259, \x22kaggle_resource_picker\x22: 45697311, \x22link_id_assignments\x22: 45644831, \x22link_imports_to_installs\x22: 45644830, \x22local_cloud_apis\x22: 45425630, \x22local_service_worker\x22: 45425550, \x22lsp_diagnostics_reporting\x22: 45425604, \x22lsp_inlay_hint\x22: 45614695, \x22makersuite_api_key\x22: 45655361, \x22makersuite_service_url\x22: 45655362, \x22markdown_spellchecker\x22: 45671479, \x22migrate_assignments\x22: 45752830, \x22migrate_ccu_info\x22: 45716751, \x22migrate_runtime_proxy_token\x22: 45750914, \x22min_dep_cells_runtime_kernel_cl\x22: 45654240, \x22ml_enabled\x22: 45425493, \x22mobile\x22: 45425562, \x22moma_rag\x22: 45686203, \x22moma_rag_composer\x22: 45706746, \x22mpp_orc_temperature_override\x22: 45649914, \x22multi_modal_context_for_composer\x22: 45691122, \x22nl2code_missing_imports\x22: 45615676, \x22no_fun\x22: 45425540, \x22oneplatform_api_key\x22: 45717742, \x22oneplatform_endpoint\x22: 45717924, \x22optimize_composer_context_order\x22: 45759155, \x22outage_notification\x22: 45425584, \x22outage_notification_link\x22: 45425585, \x22outputframe_version\x22: 45425591, \x22override_suf_params_for_test\x22: 45425592, \x22pds_minting\x22: 45648255, \x22ping_before_assign\x22: 45747048, \x22preference_deep_equality_check\x22: 45740961, \x22prereq_cells_next_steps\x22: 45640400, \x22recaptcha_polling_frequency_ms\x22: 45425582, \x22recaptcha_v2_site_key\x22: 45425581, \x22recaptcha_v3_site_key\x22: 45425580, \x22reconnect_max_delay_seconds\x22: 45425539, \x22reduce_composer_planning_overeagerness\x22: 45758628, \x22remove_ai_explain_cell_fencing\x22: 45677303, \x22remove_ai_explain_error_fencing\x22: 45677302, \x22require_ai_consent\x22: 45425489, \x22resource_poll_interval_ms\x22: 45425590, \x22rp_kxhr_skip_fallback\x22: 45656329, \x22rp_serve_kernel_port\x22: 45572083, \x22rp_socketio_fallback\x22: 45658495, \x22rp_token_refresh_headroom_millis\x22: 45517773, \x22rt_opt_in\x22: 45667546, \x22run_mode\x22: 45642857, \x22runtime_env_overrides\x22: 45425583, \x22runtime_type_for_test\x22: 45425586, \x22runtime_version_names\x22: 45714997, \x22server_execution_queue\x22: 45425600, \x22session_resume_coalesce\x22: 45425603, \x22show_edu_signup_link\x22: 45692615, \x22show_gemini_button_text_label\x22: 45681647, \x22show_payments_interstitial\x22: 45425543, \x22show_rel_notes_on_open\x22: 45644210, \x22show_switch_to_prod_link\x22: 45425483, \x22single_page_consent_form\x22: 45656775, \x22smartpaste\x22: 45627425, \x22smartpaste_chars_limit\x22: 45714219, \x22smartpaste_serving_config\x22: 45630585, \x22snippets_ui_refresh\x22: 45737461, \x22sql_cell\x22: 45425497, \x22sql_completion_lsp\x22: 45688254, \x22task_service_initial_poll_interval_ms\x22: 45696534, \x22task_service_max_poll_count\x22: 45669592, \x22task_service_max_poll_interval_ms\x22: 45696536, \x22task_service_poll_interval_growth_factor\x22: 45696535, \x22task_service_poll_timeout_ms\x22: 45696537, \x22task_service_wait_before_polling_ms\x22: 45669590, \x22terminate_session_on_connect_to_new_vm\x22: 45683597, \x22text_compose_report_changes_millis\x22: 45425568, \x22text_span_comments\x22: 45545873, \x22tpu_resource_stats\x22: 45655215, \x22transform_code\x22: 45667102, \x22trim_filename_extension\x22: 45691676, \x22truncate_composer_execution_results\x22: 45746694, \x22turn_off_agent_mode_when_safe\x22: 45679577, \x22unmanaged_vm_min_label_block\x22: 45425546, \x22unmanaged_vm_min_label_warn\x22: 45425547, \x22unmanaged_vm_min_release_tag_block\x22: 45425548, \x22unmanaged_vm_min_release_tag_warn\x22: 45425549, \x22unsupported_magics_check\x22: 45644829, \x22use_kernel_state_metadata_adk\x22: 45737477, \x22use_kkb_if_configured\x22: 45733350, \x22use_refactored_constraints\x22: 45740233, \x22user_visible_accelerator_models\x22: 45682571, \x22user_visible_composer_tools\x22: 45752901, \x22verbose_warnings\x22: 45425551, \x22vertex_ai_api_environment_override\x22: 45612077, \x22viz_cell\x22: 45690754, \x22vscode_test_feature\x22: 45755614, \x22want_completions_ai_consent_campaign\x22: 45671138\x7d\x7d'); var colabUserEmail = 'anaellez27@gmail.com'; var colabRenderDataToken = 'AFWLbD2kvHAEMu4IpioXpa9XiGnJKlLHaDA34QGGdskTAcAmiL6710JT2zH4VgYQetQc32rpF2mnzubOz-Q5A_MTiRUSRwgAQ6N1JGviOAXBoS4j'; var colabConfig = '\x5b\x5b\x22anaellez27@gmail.com\x22,\x5b1,\x22AHXL0D3x7ih39hIY3M9Sm1u40siG1U8A7d+i7O497UFJWNV2PQwZBhIjMwsw7QNYWcdsSPoeUIP4h3cLKDhhtsDyPJAtcFjg0Ke5zeSwFTXQoKYD2z+ug1l90mfXG\/z2SR\/KD7ycrx5c3hSxn1LYVmwd\/4iKts48A3GBrVvwbskE2po3DEzmktQC+V5WHkYm6XhPlVnU4XIDYFNmVFreFRHbEtF41bKMxYsXyAiX+gVroDM6jhXFXmoTr+CJBWVQx9papERLTG6tlNodN34OWySxIhaIDzsDnakzqHyrN7VXf\/EdKFsto4RQOnMHvIfJ2kkwA\/MbcWa\/dg9o3t\/YNWqz95Rgk6UBbB1revq63Ir\/2LydBXXycLKi1G4PKhPJZT\/9eDq\/+auMYZkxQGhu+CDaYY8rGhN+10q+F5uU3uZNIUkd2jpi4JtkwXrCPhvy1vt0U1F6wzYPH3USXGXzAULe4NLRnX\/VsWFgGGZbV\/9S\/RoJ4dpVA7+CtYGwb4siZoH1XmfWcu17kFlmR+lUEJIn4ivQP\/DONqFoqh3dPFqKA200pVFR2z+hFw+yKhzagqj5hQ2V\/sh6F8aO9i\/RvFru9yIN2ByN2PmZg++0Ybx1koovfva9cI8+LTZRqK3XlM\/Fsf4iF+It80rbrTsb53viMw2ZBGKm7ZWRtW2HJJa98ej6\/VjqRrttuviQJmF44bIsXdDj0tBb\/NbaDobc4CAMeAeiOVDzjrKVxfoXLTz0z4Oj+3\/zxEWu2dez9xUdrBFya76bPgdKaCJCbxvwIhnB5ea2QPFa46mgZ\/iWZtrf70KIBIHQcYwYMogVMRTGrZIViv1+0eZHwzL8MeqcQEKFBpMVyiPdxUUvmuoF0gDRSmIJB0jJxHcbIOedSeyixO3oVrIHXZbqjVxBJOgfXveOU6JD1ALLo+BT6jBp2BNRxqFFCySK2IYQayS+ZvjF\/w51twQHtTraOx7f1hcjqczow1mwg4vPHQAVlHGqtEVS++nrvvXMaz5VNO9\/EUHD1fgzoVZ\/dmj\/yfQzIIrUdeQAF\/UB3ed85UQySXTHvzuIPWSGiLa0+jT0IJmqa7XI9Wb9RSLFkev75jw4hcn26x4\/SQUY04kyIt7dzRL3eg79wfU7NyJCFahn8sYzXsIsGPXnUG8XKkXq1W5mwRkA6in7QnDkchbfcCIRW9f6W+QFYLRTFBRNG8MD43XgebDwLL6jC89WyOyAWfiS4KMyRhcI\/OdCkJ+mGLK4zfIkyXsjU6S9a9fRbT3EcK3S+DtYNS8Tn2I+FnD9ZC+RD35uDjFus8OvGex3wBOTp73lDpdjr1Bvj2OJ11SRnk2a87qOktIhvJCQVNcrMoZsO9POvzvlVshQznAhGsCodXEWtrN4nMHUKriaYwO8BlmkwURxKbRYAlap+6I0QA2TkhMnFIeCade4fLvVmJ83k3eP0\/5GghdAS5UgdPvr4ftLE\/Mo3ruSqU7a63+8FKZEoWoox6CAnhAk3jbKcQFhHwwXttTBrmCcPaSJKuA0XWwYg6fSqZ8+EwNFqf+UYvd+2HSaxHsF2L2G97DK+1RepdJ5DlhfeYyDFW7\/AbdT6IhYrgIpNqdX4bm35o\/h3JZc5ZkYjT0G6TA7wfPa4Ot2WlCuz4ZlMzgKZse\/uqkZCbE1yO9G47xGU0g+E0uwp1cekydDcCxGYcowHy6tkhhIaxSVcL3WdhUYVkdlDNoaMoiiJ6BN+PAlT0PltPss9vDGM81sgIP7bNWCxJ\/pOPdbGHp0+rLsy5CJLbfZCydGzv5DvTr751h0ephy2yZC0npLVPRYjIjLeOjo73EhwJx2wbKMtF4b\/K5KveZeg+8N6uzOwFyKscoFd3xHofLsQ4F2IHrg9u8GcDHcKwQU0hUme1VgdGBm0if6Rxvs9Y+qMSDSikow7bvEWx1pPINsSocxH73UzJTUHrEytc1ldRFNlza6qzZQcrtKSJcA15RWovWKHxZ1HE3G7kDKz9RRh2mEdTneUfYQ8yRzhRJ7Kfn819PL4emyGssQJq3+ExJlbOOCndEf90wRyJcDnjgPsYLI8abC2\/dmRwN\/e1tbkWKV5X\/BRZ503LK\/\/wtNTmfV7+UgMWKWZUc8EiOCAWtXSeHH96frwuJIw6AnE\/3fng\x3d\x3d\x22,\x22AJ9oCCyV1zXFXXev1Fw73wWjot9vT3plR\/8cTbsBfHjCZRdoIR0WrOn9Swi6EZD8BM1JSPLnJWK+2KViHGz4QLWuorvNqj+f+EkQ2ecf2pkbJxLZM9S8nktJBSLqpD7TDLZUMg9kDuJV\x22,\x22https:\/\/payments.google.com\/payments\x22,0,0,null,null,null,\x22‏32.40 ₪\x22,\x22‏162.40 ₪\x22,\x22‏32.40 ₪\x22,\x22‏162.40 ₪\x22,0,0,0\x5d,\x5b1,4,5\x5d,\x22IL\x22,0\x5d\x5d';</script><link id="favicon-link" rel="shortcut icon" href="https://ssl.gstatic.com/colaboratory-static/common/aadbe54870f08f4540e72ed51d85e571/img/favicon.ico"><meta name="google-site-verification" content="h4AyILcMXlXf3PDJKg3Fu2_dyS3jfH5im5G__oDgjOs"><meta name="google-site-verification" content="wRgpUU3mIRZPD1GORBPNonaotM72092B_DsqQFWNa4s"><meta name="google-site-verification" content="dsf7CRwnDkQv6Ot4gXTXx8_nVf8A9cb5o30hZ7cGAIo"><meta name="google-site-verification" content="K1UdZBHJXQYnJGXIK1KuutmVy6dn3vG2sEyV9D1C6dM"><meta name="google-site-verification" content="wdGthzzfu0IjM3qpFqTuQL9poAQZAvAaFKyuzetLpIM"><meta name="google-site-verification" content="qZJ77guHGO0TObHUBRYVdXQlIhXBBuz8dahJVmIlzCo"><meta name="google-site-verification" content="7ahoeOOKT2ZR781GZ5xK4L9t7yO1ZOHc-gaoUALEYgw"><meta name="google-site-verification" content="PHgaSKwdxZELS21aixtLhfpvaHtKen9pnVJ25EI35Zs"><meta name="google-site-verification" content="qylwTsZSLomIg1JrChne7cPcXmtC2Xh_5ZxlJWLlAH0"><meta name="google-site-verification" content="gl3hNNVi7GnXImkDiRAkUxkhUD4g7Ke8L4D6Ve8FEVY"><meta name="google-site-verification" content="BQfukMqFy1nu2Q2gjGbNTDA8MJ_Y4L2brCYA1h6ewkY"><meta name="google-site-verification" content="pIZq7V_Vt54MAfdQe5afm8zeJrl3o4GkRW-etNvnlKI"><meta name="google-site-verification" content="Ozey1ptWUQW13_lCEhpPMOcmRBLqdyB3WEL-TJUjskU"><meta name="google-site-verification" content="z-WR3zzv8XZ5FFfBLLDbyTiN35UXm01nWUS2Uej5pwg"><meta name="google-site-verification" content="rF5iXzWe9KZXJes1dQNhOUkS4_z_e97IrsVoCx2trek"><meta name="google-site-verification" content="vsXaeD7OD0m3iK8Z54fG8TYGC5eT17KeL_xMHtdiyWI"><meta name="google-site-verification" content="cpB5oulaGwqSxsg4E-9q2MVbK87iE9NAUUVxdveucPw"><meta name="google-site-verification" content="b6bOMRzMVX2bJABYDGBPtpGcB_AUZ-o2SOTggQXErkg"><meta name="google-site-verification" content="88fgsZDoVRBuRnDPMIEjcHCxsEXzODOqEsJoqtvQsDc"><meta name="google-site-verification" content="hZkpVtQ8gdGznkTfUekRWeGY05QyeLXb6q946CFw2-c"><meta name="google-site-verification" content="sMarhZgb4va_L_7UTdMR43gDZ2gVqc_5GHN4REpQPGY"><meta name="google-site-verification" content="26aKGBCw3XblB5Ou01UhxY5WDtMqHjoTm6P-lvF6AqE"><meta name="google-site-verification" content="DGionF7db9g0dOgeBXwOAN2tmCzWBdo5yOdc_-5UcuE"><meta name="google-site-verification" content="Q9LlidR0toR7UtSyVO23xNeaqJmRp8I6r4ghBQTtntU"><meta name="google-site-verification" content="rQawcZaTEK_UrDG30cz_7nVKOVvBass61QEes0Tm04g"><meta name="google-site-verification" content="-N1hdkiHJQ6kwJALkHVh2ZzV2fFNER0schZl2AU6zvc"><meta name="google-site-verification" content="HwWGKCyRK7kxGyAlA30sbbTly9VW0SOM7Sh4juqiOVA"><meta name="google-site-verification" content="8L3ghjzKIj241AYAmEygniTe604tsXFkIrb1v-DBtGo"><meta name="google-site-verification" content="Gz6pcDgVFH_aS-aPTYW21rSHcWl0LAgKCWJtdXPVTNo"><meta name="google-site-verification" content="KiunYPvrY5x8umvAWcjhwPrB677xCar2LeT_8yaVrDg"><meta name="google-site-verification" content="LypEVvHhYiLSzDs9PabhmOmsfMfEjVGq2rLXJbtqdzY"><meta property="og:type" content="article"><meta property="og:image" content="https://colab.research.google.com/img/colab_favicon_256px.png"><meta property="og:title" content="Google Colab"><meta http-equiv="origin-trial" content="Agk/t4Bt05W7j6CHeqXH9+6ccDayrBsQPqCLDPSElphe/7cUobayuvN0A3huajTbJenIjp6qibLteh6e0IEWrgIAAAB4eyJvcmlnaW4iOiJodHRwczovL2NvbGFiLnJlc2VhcmNoLmdvb2dsZS5jb206NDQzIiwiZmVhdHVyZSI6IkRpc2FibGVUaGlyZFBhcnR5U3RvcmFnZVBhcnRpdGlvbmluZzIiLCJleHBpcnkiOjE3NDIzNDIzOTl9"><script nonce="">window.performance.mark('head_end'); window.performance.measure('head', 'head_start', 'head_end');</script><script async="" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/lazy.min.js" nonce=""></script><style id="inert-style">
[inert] {
  pointer-events: none;
  cursor: default;
}

[inert], [inert] * {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}
</style><script async="async" type="text/javascript" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/editor.main.js"></script><script async="" type="text/javascript" charset="UTF-8" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/rs=AA2YrTt_V1awXfdwDtm_Jc8gl6ccvk7o6A" nonce=""></script><link type="text/css" href="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/rs=AA2YrTvDx8XynccyWcqIqc5FOV5g6ME1iw" rel="stylesheet"><link rel="stylesheet" type="text/css" data-name="vs/editor/editor.main" href="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/editor.main.css"><script async="async" type="text/javascript" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/editor.main.nls.js"></script><script async="async" type="text/javascript" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/markdown.js"></script><script src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/api.js" nonce=""></script><script src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/api(1).js" nonce=""></script><style type="text/css" media="screen" class="monaco-colors">.codicon-add:before { content: '\ea60'; }
.codicon-plus:before { content: '\ea60'; }
.codicon-gist-new:before { content: '\ea60'; }
.codicon-repo-create:before { content: '\ea60'; }
.codicon-lightbulb:before { content: '\ea61'; }
.codicon-light-bulb:before { content: '\ea61'; }
.codicon-repo:before { content: '\ea62'; }
.codicon-repo-delete:before { content: '\ea62'; }
.codicon-gist-fork:before { content: '\ea63'; }
.codicon-repo-forked:before { content: '\ea63'; }
.codicon-git-pull-request:before { content: '\ea64'; }
.codicon-git-pull-request-abandoned:before { content: '\ea64'; }
.codicon-record-keys:before { content: '\ea65'; }
.codicon-keyboard:before { content: '\ea65'; }
.codicon-tag:before { content: '\ea66'; }
.codicon-tag-add:before { content: '\ea66'; }
.codicon-tag-remove:before { content: '\ea66'; }
.codicon-person:before { content: '\ea67'; }
.codicon-person-follow:before { content: '\ea67'; }
.codicon-person-outline:before { content: '\ea67'; }
.codicon-person-filled:before { content: '\ea67'; }
.codicon-git-branch:before { content: '\ea68'; }
.codicon-git-branch-create:before { content: '\ea68'; }
.codicon-git-branch-delete:before { content: '\ea68'; }
.codicon-source-control:before { content: '\ea68'; }
.codicon-mirror:before { content: '\ea69'; }
.codicon-mirror-public:before { content: '\ea69'; }
.codicon-star:before { content: '\ea6a'; }
.codicon-star-add:before { content: '\ea6a'; }
.codicon-star-delete:before { content: '\ea6a'; }
.codicon-star-empty:before { content: '\ea6a'; }
.codicon-comment:before { content: '\ea6b'; }
.codicon-comment-add:before { content: '\ea6b'; }
.codicon-alert:before { content: '\ea6c'; }
.codicon-warning:before { content: '\ea6c'; }
.codicon-search:before { content: '\ea6d'; }
.codicon-search-save:before { content: '\ea6d'; }
.codicon-log-out:before { content: '\ea6e'; }
.codicon-sign-out:before { content: '\ea6e'; }
.codicon-log-in:before { content: '\ea6f'; }
.codicon-sign-in:before { content: '\ea6f'; }
.codicon-eye:before { content: '\ea70'; }
.codicon-eye-unwatch:before { content: '\ea70'; }
.codicon-eye-watch:before { content: '\ea70'; }
.codicon-circle-filled:before { content: '\ea71'; }
.codicon-primitive-dot:before { content: '\ea71'; }
.codicon-close-dirty:before { content: '\ea71'; }
.codicon-debug-breakpoint:before { content: '\ea71'; }
.codicon-debug-breakpoint-disabled:before { content: '\ea71'; }
.codicon-debug-hint:before { content: '\ea71'; }
.codicon-primitive-square:before { content: '\ea72'; }
.codicon-edit:before { content: '\ea73'; }
.codicon-pencil:before { content: '\ea73'; }
.codicon-info:before { content: '\ea74'; }
.codicon-issue-opened:before { content: '\ea74'; }
.codicon-gist-private:before { content: '\ea75'; }
.codicon-git-fork-private:before { content: '\ea75'; }
.codicon-lock:before { content: '\ea75'; }
.codicon-mirror-private:before { content: '\ea75'; }
.codicon-close:before { content: '\ea76'; }
.codicon-remove-close:before { content: '\ea76'; }
.codicon-x:before { content: '\ea76'; }
.codicon-repo-sync:before { content: '\ea77'; }
.codicon-sync:before { content: '\ea77'; }
.codicon-clone:before { content: '\ea78'; }
.codicon-desktop-download:before { content: '\ea78'; }
.codicon-beaker:before { content: '\ea79'; }
.codicon-microscope:before { content: '\ea79'; }
.codicon-vm:before { content: '\ea7a'; }
.codicon-device-desktop:before { content: '\ea7a'; }
.codicon-file:before { content: '\ea7b'; }
.codicon-file-text:before { content: '\ea7b'; }
.codicon-more:before { content: '\ea7c'; }
.codicon-ellipsis:before { content: '\ea7c'; }
.codicon-kebab-horizontal:before { content: '\ea7c'; }
.codicon-mail-reply:before { content: '\ea7d'; }
.codicon-reply:before { content: '\ea7d'; }
.codicon-organization:before { content: '\ea7e'; }
.codicon-organization-filled:before { content: '\ea7e'; }
.codicon-organization-outline:before { content: '\ea7e'; }
.codicon-new-file:before { content: '\ea7f'; }
.codicon-file-add:before { content: '\ea7f'; }
.codicon-new-folder:before { content: '\ea80'; }
.codicon-file-directory-create:before { content: '\ea80'; }
.codicon-trash:before { content: '\ea81'; }
.codicon-trashcan:before { content: '\ea81'; }
.codicon-history:before { content: '\ea82'; }
.codicon-clock:before { content: '\ea82'; }
.codicon-folder:before { content: '\ea83'; }
.codicon-file-directory:before { content: '\ea83'; }
.codicon-symbol-folder:before { content: '\ea83'; }
.codicon-logo-github:before { content: '\ea84'; }
.codicon-mark-github:before { content: '\ea84'; }
.codicon-github:before { content: '\ea84'; }
.codicon-terminal:before { content: '\ea85'; }
.codicon-console:before { content: '\ea85'; }
.codicon-repl:before { content: '\ea85'; }
.codicon-zap:before { content: '\ea86'; }
.codicon-symbol-event:before { content: '\ea86'; }
.codicon-error:before { content: '\ea87'; }
.codicon-stop:before { content: '\ea87'; }
.codicon-variable:before { content: '\ea88'; }
.codicon-symbol-variable:before { content: '\ea88'; }
.codicon-array:before { content: '\ea8a'; }
.codicon-symbol-array:before { content: '\ea8a'; }
.codicon-symbol-module:before { content: '\ea8b'; }
.codicon-symbol-package:before { content: '\ea8b'; }
.codicon-symbol-namespace:before { content: '\ea8b'; }
.codicon-symbol-object:before { content: '\ea8b'; }
.codicon-symbol-method:before { content: '\ea8c'; }
.codicon-symbol-function:before { content: '\ea8c'; }
.codicon-symbol-constructor:before { content: '\ea8c'; }
.codicon-symbol-boolean:before { content: '\ea8f'; }
.codicon-symbol-null:before { content: '\ea8f'; }
.codicon-symbol-numeric:before { content: '\ea90'; }
.codicon-symbol-number:before { content: '\ea90'; }
.codicon-symbol-structure:before { content: '\ea91'; }
.codicon-symbol-struct:before { content: '\ea91'; }
.codicon-symbol-parameter:before { content: '\ea92'; }
.codicon-symbol-type-parameter:before { content: '\ea92'; }
.codicon-symbol-key:before { content: '\ea93'; }
.codicon-symbol-text:before { content: '\ea93'; }
.codicon-symbol-reference:before { content: '\ea94'; }
.codicon-go-to-file:before { content: '\ea94'; }
.codicon-symbol-enum:before { content: '\ea95'; }
.codicon-symbol-value:before { content: '\ea95'; }
.codicon-symbol-ruler:before { content: '\ea96'; }
.codicon-symbol-unit:before { content: '\ea96'; }
.codicon-activate-breakpoints:before { content: '\ea97'; }
.codicon-archive:before { content: '\ea98'; }
.codicon-arrow-both:before { content: '\ea99'; }
.codicon-arrow-down:before { content: '\ea9a'; }
.codicon-arrow-left:before { content: '\ea9b'; }
.codicon-arrow-right:before { content: '\ea9c'; }
.codicon-arrow-small-down:before { content: '\ea9d'; }
.codicon-arrow-small-left:before { content: '\ea9e'; }
.codicon-arrow-small-right:before { content: '\ea9f'; }
.codicon-arrow-small-up:before { content: '\eaa0'; }
.codicon-arrow-up:before { content: '\eaa1'; }
.codicon-bell:before { content: '\eaa2'; }
.codicon-bold:before { content: '\eaa3'; }
.codicon-book:before { content: '\eaa4'; }
.codicon-bookmark:before { content: '\eaa5'; }
.codicon-debug-breakpoint-conditional-unverified:before { content: '\eaa6'; }
.codicon-debug-breakpoint-conditional:before { content: '\eaa7'; }
.codicon-debug-breakpoint-conditional-disabled:before { content: '\eaa7'; }
.codicon-debug-breakpoint-data-unverified:before { content: '\eaa8'; }
.codicon-debug-breakpoint-data:before { content: '\eaa9'; }
.codicon-debug-breakpoint-data-disabled:before { content: '\eaa9'; }
.codicon-debug-breakpoint-log-unverified:before { content: '\eaaa'; }
.codicon-debug-breakpoint-log:before { content: '\eaab'; }
.codicon-debug-breakpoint-log-disabled:before { content: '\eaab'; }
.codicon-briefcase:before { content: '\eaac'; }
.codicon-broadcast:before { content: '\eaad'; }
.codicon-browser:before { content: '\eaae'; }
.codicon-bug:before { content: '\eaaf'; }
.codicon-calendar:before { content: '\eab0'; }
.codicon-case-sensitive:before { content: '\eab1'; }
.codicon-check:before { content: '\eab2'; }
.codicon-checklist:before { content: '\eab3'; }
.codicon-chevron-down:before { content: '\eab4'; }
.codicon-drop-down-button:before { content: '\eab4'; }
.codicon-chevron-left:before { content: '\eab5'; }
.codicon-chevron-right:before { content: '\eab6'; }
.codicon-chevron-up:before { content: '\eab7'; }
.codicon-chrome-close:before { content: '\eab8'; }
.codicon-chrome-maximize:before { content: '\eab9'; }
.codicon-chrome-minimize:before { content: '\eaba'; }
.codicon-chrome-restore:before { content: '\eabb'; }
.codicon-circle:before { content: '\eabc'; }
.codicon-circle-outline:before { content: '\eabc'; }
.codicon-debug-breakpoint-unverified:before { content: '\eabc'; }
.codicon-circle-slash:before { content: '\eabd'; }
.codicon-circuit-board:before { content: '\eabe'; }
.codicon-clear-all:before { content: '\eabf'; }
.codicon-clippy:before { content: '\eac0'; }
.codicon-close-all:before { content: '\eac1'; }
.codicon-cloud-download:before { content: '\eac2'; }
.codicon-cloud-upload:before { content: '\eac3'; }
.codicon-code:before { content: '\eac4'; }
.codicon-collapse-all:before { content: '\eac5'; }
.codicon-color-mode:before { content: '\eac6'; }
.codicon-comment-discussion:before { content: '\eac7'; }
.codicon-compare-changes:before { content: '\eafd'; }
.codicon-credit-card:before { content: '\eac9'; }
.codicon-dash:before { content: '\eacc'; }
.codicon-dashboard:before { content: '\eacd'; }
.codicon-database:before { content: '\eace'; }
.codicon-debug-continue:before { content: '\eacf'; }
.codicon-debug-disconnect:before { content: '\ead0'; }
.codicon-debug-pause:before { content: '\ead1'; }
.codicon-debug-restart:before { content: '\ead2'; }
.codicon-debug-start:before { content: '\ead3'; }
.codicon-debug-step-into:before { content: '\ead4'; }
.codicon-debug-step-out:before { content: '\ead5'; }
.codicon-debug-step-over:before { content: '\ead6'; }
.codicon-debug-stop:before { content: '\ead7'; }
.codicon-debug:before { content: '\ead8'; }
.codicon-device-camera-video:before { content: '\ead9'; }
.codicon-device-camera:before { content: '\eada'; }
.codicon-device-mobile:before { content: '\eadb'; }
.codicon-diff-added:before { content: '\eadc'; }
.codicon-diff-ignored:before { content: '\eadd'; }
.codicon-diff-modified:before { content: '\eade'; }
.codicon-diff-removed:before { content: '\eadf'; }
.codicon-diff-renamed:before { content: '\eae0'; }
.codicon-diff:before { content: '\eae1'; }
.codicon-discard:before { content: '\eae2'; }
.codicon-editor-layout:before { content: '\eae3'; }
.codicon-empty-window:before { content: '\eae4'; }
.codicon-exclude:before { content: '\eae5'; }
.codicon-extensions:before { content: '\eae6'; }
.codicon-eye-closed:before { content: '\eae7'; }
.codicon-file-binary:before { content: '\eae8'; }
.codicon-file-code:before { content: '\eae9'; }
.codicon-file-media:before { content: '\eaea'; }
.codicon-file-pdf:before { content: '\eaeb'; }
.codicon-file-submodule:before { content: '\eaec'; }
.codicon-file-symlink-directory:before { content: '\eaed'; }
.codicon-file-symlink-file:before { content: '\eaee'; }
.codicon-file-zip:before { content: '\eaef'; }
.codicon-files:before { content: '\eaf0'; }
.codicon-filter:before { content: '\eaf1'; }
.codicon-flame:before { content: '\eaf2'; }
.codicon-fold-down:before { content: '\eaf3'; }
.codicon-fold-up:before { content: '\eaf4'; }
.codicon-fold:before { content: '\eaf5'; }
.codicon-folder-active:before { content: '\eaf6'; }
.codicon-folder-opened:before { content: '\eaf7'; }
.codicon-gear:before { content: '\eaf8'; }
.codicon-gift:before { content: '\eaf9'; }
.codicon-gist-secret:before { content: '\eafa'; }
.codicon-gist:before { content: '\eafb'; }
.codicon-git-commit:before { content: '\eafc'; }
.codicon-git-compare:before { content: '\eafd'; }
.codicon-git-merge:before { content: '\eafe'; }
.codicon-github-action:before { content: '\eaff'; }
.codicon-github-alt:before { content: '\eb00'; }
.codicon-globe:before { content: '\eb01'; }
.codicon-grabber:before { content: '\eb02'; }
.codicon-graph:before { content: '\eb03'; }
.codicon-gripper:before { content: '\eb04'; }
.codicon-heart:before { content: '\eb05'; }
.codicon-home:before { content: '\eb06'; }
.codicon-horizontal-rule:before { content: '\eb07'; }
.codicon-hubot:before { content: '\eb08'; }
.codicon-inbox:before { content: '\eb09'; }
.codicon-issue-closed:before { content: '\eba4'; }
.codicon-issue-reopened:before { content: '\eb0b'; }
.codicon-issues:before { content: '\eb0c'; }
.codicon-italic:before { content: '\eb0d'; }
.codicon-jersey:before { content: '\eb0e'; }
.codicon-json:before { content: '\eb0f'; }
.codicon-bracket:before { content: '\eb0f'; }
.codicon-kebab-vertical:before { content: '\eb10'; }
.codicon-key:before { content: '\eb11'; }
.codicon-law:before { content: '\eb12'; }
.codicon-lightbulb-autofix:before { content: '\eb13'; }
.codicon-link-external:before { content: '\eb14'; }
.codicon-link:before { content: '\eb15'; }
.codicon-list-ordered:before { content: '\eb16'; }
.codicon-list-unordered:before { content: '\eb17'; }
.codicon-live-share:before { content: '\eb18'; }
.codicon-loading:before { content: '\eb19'; }
.codicon-location:before { content: '\eb1a'; }
.codicon-mail-read:before { content: '\eb1b'; }
.codicon-mail:before { content: '\eb1c'; }
.codicon-markdown:before { content: '\eb1d'; }
.codicon-megaphone:before { content: '\eb1e'; }
.codicon-mention:before { content: '\eb1f'; }
.codicon-milestone:before { content: '\eb20'; }
.codicon-mortar-board:before { content: '\eb21'; }
.codicon-move:before { content: '\eb22'; }
.codicon-multiple-windows:before { content: '\eb23'; }
.codicon-mute:before { content: '\eb24'; }
.codicon-no-newline:before { content: '\eb25'; }
.codicon-note:before { content: '\eb26'; }
.codicon-octoface:before { content: '\eb27'; }
.codicon-open-preview:before { content: '\eb28'; }
.codicon-package:before { content: '\eb29'; }
.codicon-paintcan:before { content: '\eb2a'; }
.codicon-pin:before { content: '\eb2b'; }
.codicon-play:before { content: '\eb2c'; }
.codicon-run:before { content: '\eb2c'; }
.codicon-plug:before { content: '\eb2d'; }
.codicon-preserve-case:before { content: '\eb2e'; }
.codicon-preview:before { content: '\eb2f'; }
.codicon-project:before { content: '\eb30'; }
.codicon-pulse:before { content: '\eb31'; }
.codicon-question:before { content: '\eb32'; }
.codicon-quote:before { content: '\eb33'; }
.codicon-radio-tower:before { content: '\eb34'; }
.codicon-reactions:before { content: '\eb35'; }
.codicon-references:before { content: '\eb36'; }
.codicon-refresh:before { content: '\eb37'; }
.codicon-regex:before { content: '\eb38'; }
.codicon-remote-explorer:before { content: '\eb39'; }
.codicon-remote:before { content: '\eb3a'; }
.codicon-remove:before { content: '\eb3b'; }
.codicon-replace-all:before { content: '\eb3c'; }
.codicon-replace:before { content: '\eb3d'; }
.codicon-repo-clone:before { content: '\eb3e'; }
.codicon-repo-force-push:before { content: '\eb3f'; }
.codicon-repo-pull:before { content: '\eb40'; }
.codicon-repo-push:before { content: '\eb41'; }
.codicon-report:before { content: '\eb42'; }
.codicon-request-changes:before { content: '\eb43'; }
.codicon-rocket:before { content: '\eb44'; }
.codicon-root-folder-opened:before { content: '\eb45'; }
.codicon-root-folder:before { content: '\eb46'; }
.codicon-rss:before { content: '\eb47'; }
.codicon-ruby:before { content: '\eb48'; }
.codicon-save-all:before { content: '\eb49'; }
.codicon-save-as:before { content: '\eb4a'; }
.codicon-save:before { content: '\eb4b'; }
.codicon-screen-full:before { content: '\eb4c'; }
.codicon-screen-normal:before { content: '\eb4d'; }
.codicon-search-stop:before { content: '\eb4e'; }
.codicon-server:before { content: '\eb50'; }
.codicon-settings-gear:before { content: '\eb51'; }
.codicon-settings:before { content: '\eb52'; }
.codicon-shield:before { content: '\eb53'; }
.codicon-smiley:before { content: '\eb54'; }
.codicon-sort-precedence:before { content: '\eb55'; }
.codicon-split-horizontal:before { content: '\eb56'; }
.codicon-split-vertical:before { content: '\eb57'; }
.codicon-squirrel:before { content: '\eb58'; }
.codicon-star-full:before { content: '\eb59'; }
.codicon-star-half:before { content: '\eb5a'; }
.codicon-symbol-class:before { content: '\eb5b'; }
.codicon-symbol-color:before { content: '\eb5c'; }
.codicon-symbol-customcolor:before { content: '\eb5c'; }
.codicon-symbol-constant:before { content: '\eb5d'; }
.codicon-symbol-enum-member:before { content: '\eb5e'; }
.codicon-symbol-field:before { content: '\eb5f'; }
.codicon-symbol-file:before { content: '\eb60'; }
.codicon-symbol-interface:before { content: '\eb61'; }
.codicon-symbol-keyword:before { content: '\eb62'; }
.codicon-symbol-misc:before { content: '\eb63'; }
.codicon-symbol-operator:before { content: '\eb64'; }
.codicon-symbol-property:before { content: '\eb65'; }
.codicon-wrench:before { content: '\eb65'; }
.codicon-wrench-subaction:before { content: '\eb65'; }
.codicon-symbol-snippet:before { content: '\eb66'; }
.codicon-tasklist:before { content: '\eb67'; }
.codicon-telescope:before { content: '\eb68'; }
.codicon-text-size:before { content: '\eb69'; }
.codicon-three-bars:before { content: '\eb6a'; }
.codicon-thumbsdown:before { content: '\eb6b'; }
.codicon-thumbsup:before { content: '\eb6c'; }
.codicon-tools:before { content: '\eb6d'; }
.codicon-triangle-down:before { content: '\eb6e'; }
.codicon-triangle-left:before { content: '\eb6f'; }
.codicon-triangle-right:before { content: '\eb70'; }
.codicon-triangle-up:before { content: '\eb71'; }
.codicon-twitter:before { content: '\eb72'; }
.codicon-unfold:before { content: '\eb73'; }
.codicon-unlock:before { content: '\eb74'; }
.codicon-unmute:before { content: '\eb75'; }
.codicon-unverified:before { content: '\eb76'; }
.codicon-verified:before { content: '\eb77'; }
.codicon-versions:before { content: '\eb78'; }
.codicon-vm-active:before { content: '\eb79'; }
.codicon-vm-outline:before { content: '\eb7a'; }
.codicon-vm-running:before { content: '\eb7b'; }
.codicon-watch:before { content: '\eb7c'; }
.codicon-whitespace:before { content: '\eb7d'; }
.codicon-whole-word:before { content: '\eb7e'; }
.codicon-window:before { content: '\eb7f'; }
.codicon-word-wrap:before { content: '\eb80'; }
.codicon-zoom-in:before { content: '\eb81'; }
.codicon-zoom-out:before { content: '\eb82'; }
.codicon-list-filter:before { content: '\eb83'; }
.codicon-list-flat:before { content: '\eb84'; }
.codicon-list-selection:before { content: '\eb85'; }
.codicon-selection:before { content: '\eb85'; }
.codicon-list-tree:before { content: '\eb86'; }
.codicon-debug-breakpoint-function-unverified:before { content: '\eb87'; }
.codicon-debug-breakpoint-function:before { content: '\eb88'; }
.codicon-debug-breakpoint-function-disabled:before { content: '\eb88'; }
.codicon-debug-stackframe-active:before { content: '\eb89'; }
.codicon-circle-small-filled:before { content: '\eb8a'; }
.codicon-debug-stackframe-dot:before { content: '\eb8a'; }
.codicon-debug-stackframe:before { content: '\eb8b'; }
.codicon-debug-stackframe-focused:before { content: '\eb8b'; }
.codicon-debug-breakpoint-unsupported:before { content: '\eb8c'; }
.codicon-symbol-string:before { content: '\eb8d'; }
.codicon-debug-reverse-continue:before { content: '\eb8e'; }
.codicon-debug-step-back:before { content: '\eb8f'; }
.codicon-debug-restart-frame:before { content: '\eb90'; }
.codicon-call-incoming:before { content: '\eb92'; }
.codicon-call-outgoing:before { content: '\eb93'; }
.codicon-menu:before { content: '\eb94'; }
.codicon-expand-all:before { content: '\eb95'; }
.codicon-feedback:before { content: '\eb96'; }
.codicon-group-by-ref-type:before { content: '\eb97'; }
.codicon-ungroup-by-ref-type:before { content: '\eb98'; }
.codicon-account:before { content: '\eb99'; }
.codicon-bell-dot:before { content: '\eb9a'; }
.codicon-debug-console:before { content: '\eb9b'; }
.codicon-library:before { content: '\eb9c'; }
.codicon-output:before { content: '\eb9d'; }
.codicon-run-all:before { content: '\eb9e'; }
.codicon-sync-ignored:before { content: '\eb9f'; }
.codicon-pinned:before { content: '\eba0'; }
.codicon-github-inverted:before { content: '\eba1'; }
.codicon-debug-alt:before { content: '\eb91'; }
.codicon-server-process:before { content: '\eba2'; }
.codicon-server-environment:before { content: '\eba3'; }
.codicon-pass:before { content: '\eba4'; }
.codicon-stop-circle:before { content: '\eba5'; }
.codicon-play-circle:before { content: '\eba6'; }
.codicon-record:before { content: '\eba7'; }
.codicon-debug-alt-small:before { content: '\eba8'; }
.codicon-vm-connect:before { content: '\eba9'; }
.codicon-cloud:before { content: '\ebaa'; }
.codicon-merge:before { content: '\ebab'; }
.codicon-export:before { content: '\ebac'; }
.codicon-graph-left:before { content: '\ebad'; }
.codicon-magnet:before { content: '\ebae'; }
.codicon-notebook:before { content: '\ebaf'; }
.codicon-redo:before { content: '\ebb0'; }
.codicon-check-all:before { content: '\ebb1'; }
.codicon-pinned-dirty:before { content: '\ebb2'; }
.codicon-pass-filled:before { content: '\ebb3'; }
.codicon-circle-large-filled:before { content: '\ebb4'; }
.codicon-circle-large:before { content: '\ebb5'; }
.codicon-circle-large-outline:before { content: '\ebb5'; }
.codicon-combine:before { content: '\ebb6'; }
.codicon-gather:before { content: '\ebb6'; }
.codicon-table:before { content: '\ebb7'; }
.codicon-variable-group:before { content: '\ebb8'; }
.codicon-type-hierarchy:before { content: '\ebb9'; }
.codicon-type-hierarchy-sub:before { content: '\ebba'; }
.codicon-type-hierarchy-super:before { content: '\ebbb'; }
.codicon-git-pull-request-create:before { content: '\ebbc'; }
.codicon-run-above:before { content: '\ebbd'; }
.codicon-run-below:before { content: '\ebbe'; }
.codicon-notebook-template:before { content: '\ebbf'; }
.codicon-debug-rerun:before { content: '\ebc0'; }
.codicon-workspace-trusted:before { content: '\ebc1'; }
.codicon-workspace-untrusted:before { content: '\ebc2'; }
.codicon-workspace-unspecified:before { content: '\ebc3'; }
.codicon-terminal-cmd:before { content: '\ebc4'; }
.codicon-terminal-debian:before { content: '\ebc5'; }
.codicon-terminal-linux:before { content: '\ebc6'; }
.codicon-terminal-powershell:before { content: '\ebc7'; }
.codicon-terminal-tmux:before { content: '\ebc8'; }
.codicon-terminal-ubuntu:before { content: '\ebc9'; }
.codicon-terminal-bash:before { content: '\ebca'; }
.codicon-arrow-swap:before { content: '\ebcb'; }
.codicon-copy:before { content: '\ebcc'; }
.codicon-person-add:before { content: '\ebcd'; }
.codicon-filter-filled:before { content: '\ebce'; }
.codicon-wand:before { content: '\ebcf'; }
.codicon-debug-line-by-line:before { content: '\ebd0'; }
.codicon-inspect:before { content: '\ebd1'; }
.codicon-layers:before { content: '\ebd2'; }
.codicon-layers-dot:before { content: '\ebd3'; }
.codicon-layers-active:before { content: '\ebd4'; }
.codicon-compass:before { content: '\ebd5'; }
.codicon-compass-dot:before { content: '\ebd6'; }
.codicon-compass-active:before { content: '\ebd7'; }
.codicon-azure:before { content: '\ebd8'; }
.codicon-issue-draft:before { content: '\ebd9'; }
.codicon-git-pull-request-closed:before { content: '\ebda'; }
.codicon-git-pull-request-draft:before { content: '\ebdb'; }
.codicon-debug-all:before { content: '\ebdc'; }
.codicon-debug-coverage:before { content: '\ebdd'; }
.codicon-run-errors:before { content: '\ebde'; }
.codicon-folder-library:before { content: '\ebdf'; }
.codicon-debug-continue-small:before { content: '\ebe0'; }
.codicon-beaker-stop:before { content: '\ebe1'; }
.codicon-graph-line:before { content: '\ebe2'; }
.codicon-graph-scatter:before { content: '\ebe3'; }
.codicon-pie-chart:before { content: '\ebe4'; }
.codicon-bracket-dot:before { content: '\ebe5'; }
.codicon-bracket-error:before { content: '\ebe6'; }
.codicon-lock-small:before { content: '\ebe7'; }
.codicon-azure-devops:before { content: '\ebe8'; }
.codicon-verified-filled:before { content: '\ebe9'; }
.codicon-newline:before { content: '\ebea'; }
.codicon-layout:before { content: '\ebeb'; }
.codicon-layout-activitybar-left:before { content: '\ebec'; }
.codicon-layout-activitybar-right:before { content: '\ebed'; }
.codicon-layout-panel-left:before { content: '\ebee'; }
.codicon-layout-panel-center:before { content: '\ebef'; }
.codicon-layout-panel-justify:before { content: '\ebf0'; }
.codicon-layout-panel-right:before { content: '\ebf1'; }
.codicon-layout-panel:before { content: '\ebf2'; }
.codicon-layout-sidebar-left:before { content: '\ebf3'; }
.codicon-layout-sidebar-right:before { content: '\ebf4'; }
.codicon-layout-statusbar:before { content: '\ebf5'; }
.codicon-layout-menubar:before { content: '\ebf6'; }
.codicon-layout-centered:before { content: '\ebf7'; }
.codicon-layout-sidebar-right-off:before { content: '\ec00'; }
.codicon-layout-panel-off:before { content: '\ec01'; }
.codicon-layout-sidebar-left-off:before { content: '\ec02'; }
.codicon-target:before { content: '\ebf8'; }
.codicon-indent:before { content: '\ebf9'; }
.codicon-record-small:before { content: '\ebfa'; }
.codicon-error-small:before { content: '\ebfb'; }
.codicon-arrow-circle-down:before { content: '\ebfc'; }
.codicon-arrow-circle-left:before { content: '\ebfd'; }
.codicon-arrow-circle-right:before { content: '\ebfe'; }
.codicon-arrow-circle-up:before { content: '\ebff'; }
.codicon-heart-filled:before { content: '\ec04'; }
.codicon-map:before { content: '\ec05'; }
.codicon-map-filled:before { content: '\ec06'; }
.codicon-circle-small:before { content: '\ec07'; }
.codicon-bell-slash:before { content: '\ec08'; }
.codicon-bell-slash-dot:before { content: '\ec09'; }
.codicon-comment-unresolved:before { content: '\ec0a'; }
.codicon-git-pull-request-go-to-changes:before { content: '\ec0b'; }
.codicon-git-pull-request-new-changes:before { content: '\ec0c'; }
.codicon-search-fuzzy:before { content: '\ec0d'; }
.codicon-comment-draft:before { content: '\ec0e'; }
.codicon-send:before { content: '\ec0f'; }
.codicon-sparkle:before { content: '\ec10'; }
.codicon-insert:before { content: '\ec11'; }
.codicon-dialog-error:before { content: '\ea87'; }
.codicon-dialog-warning:before { content: '\ea6c'; }
.codicon-dialog-info:before { content: '\ea74'; }
.codicon-dialog-close:before { content: '\ea76'; }
.codicon-tree-item-expanded:before { content: '\eab4'; }
.codicon-tree-filter-on-type-on:before { content: '\eb83'; }
.codicon-tree-filter-on-type-off:before { content: '\eb85'; }
.codicon-tree-filter-clear:before { content: '\ea76'; }
.codicon-tree-item-loading:before { content: '\eb19'; }
.codicon-menu-selection:before { content: '\eab2'; }
.codicon-menu-submenu:before { content: '\eab6'; }
.codicon-menubar-more:before { content: '\ea7c'; }
.codicon-scrollbar-button-left:before { content: '\eb6f'; }
.codicon-scrollbar-button-right:before { content: '\eb70'; }
.codicon-scrollbar-button-up:before { content: '\eb71'; }
.codicon-scrollbar-button-down:before { content: '\eb6e'; }
.codicon-toolbar-more:before { content: '\ea7c'; }
.codicon-quick-input-back:before { content: '\ea9b'; }
.codicon-widget-close:before { content: '\ea76'; }
.codicon-goto-previous-location:before { content: '\eaa1'; }
.codicon-goto-next-location:before { content: '\ea9a'; }
.codicon-diff-insert:before { content: '\ea60'; }
.codicon-diff-remove:before { content: '\eb3b'; }
.codicon-folding-expanded:before { content: '\eab4'; }
.codicon-folding-collapsed:before { content: '\eab6'; }
.codicon-folding-manual-collapsed:before { content: '\eab6'; }
.codicon-folding-manual-expanded:before { content: '\eab4'; }
.codicon-diff-review-insert:before { content: '\ea60'; }
.codicon-diff-review-remove:before { content: '\eb3b'; }
.codicon-diff-review-close:before { content: '\ea76'; }
.codicon-find-selection:before { content: '\eb85'; }
.codicon-find-collapsed:before { content: '\eab6'; }
.codicon-find-expanded:before { content: '\eab4'; }
.codicon-find-replace:before { content: '\eb3d'; }
.codicon-find-replace-all:before { content: '\eb3c'; }
.codicon-find-previous-match:before { content: '\eaa1'; }
.codicon-find-next-match:before { content: '\ea9a'; }
.codicon-suggest-more-info:before { content: '\eab6'; }
.codicon-parameter-hints-next:before { content: '\eab4'; }
.codicon-parameter-hints-previous:before { content: '\eab7'; }
.codicon-inline-suggestion-hints-next:before { content: '\eab6'; }
.codicon-inline-suggestion-hints-previous:before { content: '\eab5'; }
.codicon-extensions-warning-message:before { content: '\ea6c'; }
.codicon-marker-navigation-next:before { content: '\ea9a'; }
.codicon-marker-navigation-previous:before { content: '\eaa1'; }
.monaco-editor .inputarea.ime-input { background-color: #282a2c; }
.monaco-editor .unexpected-closing-bracket { color: rgba(255, 18, 18, 0.8); }
.monaco-editor .bracket-highlighting-0 { color: #ffd700; }
.monaco-editor .bracket-highlighting-1 { color: #da70d6; }
.monaco-editor .bracket-highlighting-2 { color: #179fff; }
.monaco-editor .bracket-highlighting-3 { color: #ffd700; }
.monaco-editor .bracket-highlighting-4 { color: #da70d6; }
.monaco-editor .bracket-highlighting-5 { color: #179fff; }
.monaco-editor .bracket-highlighting-6 { color: #ffd700; }
.monaco-editor .bracket-highlighting-7 { color: #da70d6; }
.monaco-editor .bracket-highlighting-8 { color: #179fff; }
.monaco-editor .bracket-highlighting-9 { color: #ffd700; }
.monaco-editor .bracket-highlighting-10 { color: #da70d6; }
.monaco-editor .bracket-highlighting-11 { color: #179fff; }
.monaco-editor .bracket-highlighting-12 { color: #ffd700; }
.monaco-editor .bracket-highlighting-13 { color: #da70d6; }
.monaco-editor .bracket-highlighting-14 { color: #179fff; }
.monaco-editor .bracket-highlighting-15 { color: #ffd700; }
.monaco-editor .bracket-highlighting-16 { color: #da70d6; }
.monaco-editor .bracket-highlighting-17 { color: #179fff; }
.monaco-editor .bracket-highlighting-18 { color: #ffd700; }
.monaco-editor .bracket-highlighting-19 { color: #da70d6; }
.monaco-editor .bracket-highlighting-20 { color: #179fff; }
.monaco-editor .bracket-highlighting-21 { color: #ffd700; }
.monaco-editor .bracket-highlighting-22 { color: #da70d6; }
.monaco-editor .bracket-highlighting-23 { color: #179fff; }
.monaco-editor .bracket-highlighting-24 { color: #ffd700; }
.monaco-editor .bracket-highlighting-25 { color: #da70d6; }
.monaco-editor .bracket-highlighting-26 { color: #179fff; }
.monaco-editor .bracket-highlighting-27 { color: #ffd700; }
.monaco-editor .bracket-highlighting-28 { color: #da70d6; }
.monaco-editor .bracket-highlighting-29 { color: #179fff; }
.monaco-editor .view-overlays .current-line { border: 2px solid #282828; }
.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid #282828; }
.monaco-editor .bracket-indent-guide.lvl-0 { --guide-color: rgba(255, 215, 0, 0.3); --guide-color-active: #ffd700; }
.monaco-editor .bracket-indent-guide.lvl-1 { --guide-color: rgba(218, 112, 214, 0.3); --guide-color-active: #da70d6; }
.monaco-editor .bracket-indent-guide.lvl-2 { --guide-color: rgba(23, 159, 255, 0.3); --guide-color-active: #179fff; }
.monaco-editor .bracket-indent-guide.lvl-3 { --guide-color: rgba(255, 215, 0, 0.3); --guide-color-active: #ffd700; }
.monaco-editor .bracket-indent-guide.lvl-4 { --guide-color: rgba(218, 112, 214, 0.3); --guide-color-active: #da70d6; }
.monaco-editor .bracket-indent-guide.lvl-5 { --guide-color: rgba(23, 159, 255, 0.3); --guide-color-active: #179fff; }
.monaco-editor .bracket-indent-guide.lvl-6 { --guide-color: rgba(255, 215, 0, 0.3); --guide-color-active: #ffd700; }
.monaco-editor .bracket-indent-guide.lvl-7 { --guide-color: rgba(218, 112, 214, 0.3); --guide-color-active: #da70d6; }
.monaco-editor .bracket-indent-guide.lvl-8 { --guide-color: rgba(23, 159, 255, 0.3); --guide-color-active: #179fff; }
.monaco-editor .bracket-indent-guide.lvl-9 { --guide-color: rgba(255, 215, 0, 0.3); --guide-color-active: #ffd700; }
.monaco-editor .bracket-indent-guide.lvl-10 { --guide-color: rgba(218, 112, 214, 0.3); --guide-color-active: #da70d6; }
.monaco-editor .bracket-indent-guide.lvl-11 { --guide-color: rgba(23, 159, 255, 0.3); --guide-color-active: #179fff; }
.monaco-editor .bracket-indent-guide.lvl-12 { --guide-color: rgba(255, 215, 0, 0.3); --guide-color-active: #ffd700; }
.monaco-editor .bracket-indent-guide.lvl-13 { --guide-color: rgba(218, 112, 214, 0.3); --guide-color-active: #da70d6; }
.monaco-editor .bracket-indent-guide.lvl-14 { --guide-color: rgba(23, 159, 255, 0.3); --guide-color-active: #179fff; }
.monaco-editor .bracket-indent-guide.lvl-15 { --guide-color: rgba(255, 215, 0, 0.3); --guide-color-active: #ffd700; }
.monaco-editor .bracket-indent-guide.lvl-16 { --guide-color: rgba(218, 112, 214, 0.3); --guide-color-active: #da70d6; }
.monaco-editor .bracket-indent-guide.lvl-17 { --guide-color: rgba(23, 159, 255, 0.3); --guide-color-active: #179fff; }
.monaco-editor .bracket-indent-guide.lvl-18 { --guide-color: rgba(255, 215, 0, 0.3); --guide-color-active: #ffd700; }
.monaco-editor .bracket-indent-guide.lvl-19 { --guide-color: rgba(218, 112, 214, 0.3); --guide-color-active: #da70d6; }
.monaco-editor .bracket-indent-guide.lvl-20 { --guide-color: rgba(23, 159, 255, 0.3); --guide-color-active: #179fff; }
.monaco-editor .bracket-indent-guide.lvl-21 { --guide-color: rgba(255, 215, 0, 0.3); --guide-color-active: #ffd700; }
.monaco-editor .bracket-indent-guide.lvl-22 { --guide-color: rgba(218, 112, 214, 0.3); --guide-color-active: #da70d6; }
.monaco-editor .bracket-indent-guide.lvl-23 { --guide-color: rgba(23, 159, 255, 0.3); --guide-color-active: #179fff; }
.monaco-editor .bracket-indent-guide.lvl-24 { --guide-color: rgba(255, 215, 0, 0.3); --guide-color-active: #ffd700; }
.monaco-editor .bracket-indent-guide.lvl-25 { --guide-color: rgba(218, 112, 214, 0.3); --guide-color-active: #da70d6; }
.monaco-editor .bracket-indent-guide.lvl-26 { --guide-color: rgba(23, 159, 255, 0.3); --guide-color-active: #179fff; }
.monaco-editor .bracket-indent-guide.lvl-27 { --guide-color: rgba(255, 215, 0, 0.3); --guide-color-active: #ffd700; }
.monaco-editor .bracket-indent-guide.lvl-28 { --guide-color: rgba(218, 112, 214, 0.3); --guide-color-active: #da70d6; }
.monaco-editor .bracket-indent-guide.lvl-29 { --guide-color: rgba(23, 159, 255, 0.3); --guide-color-active: #179fff; }
.monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }
.monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }
.monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }
.monaco-editor .vertical.indent-active { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }
.monaco-editor .horizontal-top.indent-active { border-top: 1px solid var(--guide-color-active); }
.monaco-editor .horizontal-bottom.indent-active { border-bottom: 1px solid var(--guide-color-active); }
.monaco-editor .line-numbers.dimmed-line-number { color: rgba(133, 133, 133, 0.4); }
.monaco-editor .cursors-layer .cursor { background-color: #aeafad; border-color: #aeafad; color: #515052; }
.monaco-editor .squiggly-error { background: url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%206%203'%20enable-background%3D'new%200%200%206%203'%20height%3D'3'%20width%3D'6'%3E%3Cg%20fill%3D'%23f14c4c'%3E%3Cpolygon%20points%3D'5.5%2C0%202.5%2C3%201.1%2C3%204.1%2C0'%2F%3E%3Cpolygon%20points%3D'4%2C0%206%2C2%206%2C0.6%205.4%2C0'%2F%3E%3Cpolygon%20points%3D'0%2C2%201%2C3%202.4%2C3%200%2C0.6'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E") repeat-x bottom left; }
.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%206%203'%20enable-background%3D'new%200%200%206%203'%20height%3D'3'%20width%3D'6'%3E%3Cg%20fill%3D'%23cca700'%3E%3Cpolygon%20points%3D'5.5%2C0%202.5%2C3%201.1%2C3%204.1%2C0'%2F%3E%3Cpolygon%20points%3D'4%2C0%206%2C2%206%2C0.6%205.4%2C0'%2F%3E%3Cpolygon%20points%3D'0%2C2%201%2C3%202.4%2C3%200%2C0.6'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E") repeat-x bottom left; }
.monaco-editor .squiggly-info { background: url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%206%203'%20enable-background%3D'new%200%200%206%203'%20height%3D'3'%20width%3D'6'%3E%3Cg%20fill%3D'%233794ff'%3E%3Cpolygon%20points%3D'5.5%2C0%202.5%2C3%201.1%2C3%204.1%2C0'%2F%3E%3Cpolygon%20points%3D'4%2C0%206%2C2%206%2C0.6%205.4%2C0'%2F%3E%3Cpolygon%20points%3D'0%2C2%201%2C3%202.4%2C3%200%2C0.6'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E") repeat-x bottom left; }
.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%223%22%20width%3D%2212%22%3E%3Cg%20fill%3D%22rgba(238%2C%20238%2C%20238%2C%200.7)%22%3E%3Ccircle%20cx%3D%221%22%20cy%3D%221%22%20r%3D%221%22%2F%3E%3Ccircle%20cx%3D%225%22%20cy%3D%221%22%20r%3D%221%22%2F%3E%3Ccircle%20cx%3D%229%22%20cy%3D%221%22%20r%3D%221%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E") no-repeat bottom left; }
.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: 0.667; }

	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			rgba(204, 204, 204, 0.2) 12.5%,
			#0000 12.5%, #0000 50%,
			rgba(204, 204, 204, 0.2) 50%, rgba(204, 204, 204, 0.2) 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	
.monaco-editor .findMatch { background-color: rgba(234, 92, 0, 0.33); }
.monaco-editor .currentFindMatch { background-color: #515c6a; }
.monaco-editor .findScope { background-color: rgba(58, 61, 65, 0.4); }
.monaco-editor .find-widget { background-color: #252526; }
.monaco-editor .find-widget { box-shadow: 0 0 8px 2px rgba(0, 0, 0, 0.36); }
.monaco-editor .find-widget { color: #cccccc; }
.monaco-editor .find-widget.no-results .matchesCount { color: #f48771; }
.monaco-editor .find-widget .monaco-sash { background-color: #454545; }

		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: rgba(90, 93, 94, 0.31) !important;
		}
	
.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: #007fd4; }
.monaco-editor .selectionHighlight { background-color: rgba(173, 214, 255, 0.07); }
.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid rgba(69, 69, 69, 0.5); }
.monaco-editor .monaco-hover hr { border-top: 1px solid rgba(69, 69, 69, 0.5); }
.monaco-editor .monaco-hover hr { border-bottom: 0px solid rgba(69, 69, 69, 0.5); }
.monaco-editor { --vscode-foreground: #cccccc;
--vscode-disabledForeground: rgba(204, 204, 204, 0.5);
--vscode-errorForeground: #f48771;
--vscode-descriptionForeground: rgba(204, 204, 204, 0.7);
--vscode-icon-foreground: #c5c5c5;
--vscode-focusBorder: #007fd4;
--vscode-textSeparator-foreground: rgba(255, 255, 255, 0.18);
--vscode-textLink-foreground: #3794ff;
--vscode-textLink-activeForeground: #3794ff;
--vscode-textPreformat-foreground: #d7ba7d;
--vscode-textBlockQuote-background: rgba(127, 127, 127, 0.1);
--vscode-textBlockQuote-border: rgba(0, 122, 204, 0.5);
--vscode-textCodeBlock-background: rgba(10, 10, 10, 0.4);
--vscode-widget-shadow: rgba(0, 0, 0, 0.36);
--vscode-input-background: #3c3c3c;
--vscode-input-foreground: #cccccc;
--vscode-inputOption-activeBorder: #007acc;
--vscode-inputOption-hoverBackground: rgba(90, 93, 94, 0.5);
--vscode-inputOption-activeBackground: rgba(0, 127, 212, 0.4);
--vscode-inputOption-activeForeground: #ffffff;
--vscode-input-placeholderForeground: rgba(204, 204, 204, 0.5);
--vscode-inputValidation-infoBackground: #063b49;
--vscode-inputValidation-infoBorder: #007acc;
--vscode-inputValidation-warningBackground: #352a05;
--vscode-inputValidation-warningBorder: #b89500;
--vscode-inputValidation-errorBackground: #5a1d1d;
--vscode-inputValidation-errorBorder: #be1100;
--vscode-dropdown-background: #3c3c3c;
--vscode-dropdown-foreground: #f0f0f0;
--vscode-dropdown-border: #3c3c3c;
--vscode-button-foreground: #ffffff;
--vscode-button-separator: rgba(255, 255, 255, 0.4);
--vscode-button-background: #0e639c;
--vscode-button-hoverBackground: #1177bb;
--vscode-button-secondaryForeground: #ffffff;
--vscode-button-secondaryBackground: #3a3d41;
--vscode-button-secondaryHoverBackground: #45494e;
--vscode-badge-background: #4d4d4d;
--vscode-badge-foreground: #ffffff;
--vscode-scrollbar-shadow: #000000;
--vscode-scrollbarSlider-background: rgba(121, 121, 121, 0.4);
--vscode-scrollbarSlider-hoverBackground: rgba(100, 100, 100, 0.7);
--vscode-scrollbarSlider-activeBackground: rgba(191, 191, 191, 0.4);
--vscode-progressBar-background: #0e70c0;
--vscode-editorError-foreground: #f14c4c;
--vscode-editorWarning-foreground: #cca700;
--vscode-editorInfo-foreground: #3794ff;
--vscode-editorHint-foreground: rgba(238, 238, 238, 0.7);
--vscode-sash-hoverBorder: #007fd4;
--vscode-editor-background: #282a2c;
--vscode-editor-foreground: #d4d4d4;
--vscode-editorStickyScroll-background: #282a2c;
--vscode-editorStickyScrollHover-background: #2a2d2e;
--vscode-editorWidget-background: #252526;
--vscode-editorWidget-foreground: #cccccc;
--vscode-editorWidget-border: #454545;
--vscode-quickInput-background: #252526;
--vscode-quickInput-foreground: #cccccc;
--vscode-quickInputTitle-background: rgba(255, 255, 255, 0.1);
--vscode-pickerGroup-foreground: #3794ff;
--vscode-pickerGroup-border: #3f3f46;
--vscode-keybindingLabel-background: rgba(128, 128, 128, 0.17);
--vscode-keybindingLabel-foreground: #cccccc;
--vscode-keybindingLabel-border: rgba(51, 51, 51, 0.6);
--vscode-keybindingLabel-bottomBorder: rgba(68, 68, 68, 0.6);
--vscode-editor-selectionBackground: #264f78;
--vscode-editor-inactiveSelectionBackground: #3a3d41;
--vscode-editor-selectionHighlightBackground: rgba(173, 214, 255, 0.15);
--vscode-editor-findMatchBackground: #515c6a;
--vscode-editor-findMatchHighlightBackground: rgba(234, 92, 0, 0.33);
--vscode-editor-findRangeHighlightBackground: rgba(58, 61, 65, 0.4);
--vscode-searchEditor-findMatchBackground: rgba(234, 92, 0, 0.22);
--vscode-search-resultsInfoForeground: rgba(204, 204, 204, 0.65);
--vscode-editor-hoverHighlightBackground: rgba(38, 79, 120, 0.25);
--vscode-editorHoverWidget-background: #252526;
--vscode-editorHoverWidget-foreground: #cccccc;
--vscode-editorHoverWidget-border: #454545;
--vscode-editorHoverWidget-statusBarBackground: #2c2c2d;
--vscode-editorLink-activeForeground: #4e94ce;
--vscode-editorInlayHint-foreground: #cccccc;
--vscode-editorInlayHint-background: rgba(77, 77, 77, 0.25);
--vscode-editorInlayHint-typeForeground: #cccccc;
--vscode-editorInlayHint-typeBackground: rgba(77, 77, 77, 0.25);
--vscode-editorInlayHint-parameterForeground: #cccccc;
--vscode-editorInlayHint-parameterBackground: rgba(77, 77, 77, 0.25);
--vscode-editorLightBulb-foreground: #ffcc00;
--vscode-editorLightBulbAutoFix-foreground: #75beff;
--vscode-diffEditor-insertedTextBackground: #234521;
--vscode-diffEditor-removedTextBackground: #5b2022;
--vscode-diffEditor-insertedLineBackground: #22331f;
--vscode-diffEditor-removedLineBackground: #3c1a1a;
--vscode-diffEditor-diagonalFill: rgba(204, 204, 204, 0.2);
--vscode-diffEditor-unchangedRegionBackground: #3e3e3e;
--vscode-diffEditor-unchangedRegionForeground: #a3a2a2;
--vscode-diffEditor-unchangedCodeBackground: rgba(116, 116, 116, 0.16);
--vscode-list-focusOutline: #007fd4;
--vscode-list-activeSelectionBackground: #04395e;
--vscode-list-activeSelectionForeground: #ffffff;
--vscode-list-inactiveSelectionBackground: #37373d;
--vscode-list-hoverBackground: #2a2d2e;
--vscode-list-dropBackground: #062f4a;
--vscode-list-highlightForeground: #2aaaff;
--vscode-list-focusHighlightForeground: #2aaaff;
--vscode-list-invalidItemForeground: #b89500;
--vscode-list-errorForeground: #f88070;
--vscode-list-warningForeground: #cca700;
--vscode-listFilterWidget-background: #252526;
--vscode-listFilterWidget-outline: rgba(0, 0, 0, 0);
--vscode-listFilterWidget-noMatchesOutline: #be1100;
--vscode-listFilterWidget-shadow: rgba(0, 0, 0, 0.36);
--vscode-list-filterMatchBackground: rgba(234, 92, 0, 0.33);
--vscode-tree-indentGuidesStroke: #585858;
--vscode-tree-inactiveIndentGuidesStroke: rgba(88, 88, 88, 0.4);
--vscode-tree-tableColumnsBorder: rgba(204, 204, 204, 0.13);
--vscode-tree-tableOddRowsBackground: rgba(204, 204, 204, 0.04);
--vscode-list-deemphasizedForeground: #8c8c8c;
--vscode-checkbox-background: #3c3c3c;
--vscode-checkbox-selectBackground: #252526;
--vscode-checkbox-foreground: #f0f0f0;
--vscode-checkbox-border: #3c3c3c;
--vscode-checkbox-selectBorder: #c5c5c5;
--vscode-quickInputList-focusForeground: #ffffff;
--vscode-quickInputList-focusBackground: #04395e;
--vscode-menu-foreground: #f0f0f0;
--vscode-menu-background: #3c3c3c;
--vscode-menu-selectionForeground: #ffffff;
--vscode-menu-selectionBackground: #04395e;
--vscode-menu-separatorBackground: #606060;
--vscode-toolbar-hoverBackground: rgba(90, 93, 94, 0.31);
--vscode-toolbar-activeBackground: rgba(99, 102, 103, 0.31);
--vscode-editor-snippetTabstopHighlightBackground: rgba(124, 124, 124, 0.3);
--vscode-editor-snippetFinalTabstopHighlightBorder: #525252;
--vscode-breadcrumb-foreground: rgba(204, 204, 204, 0.8);
--vscode-breadcrumb-background: #282a2c;
--vscode-breadcrumb-focusForeground: #e0e0e0;
--vscode-breadcrumb-activeSelectionForeground: #e0e0e0;
--vscode-breadcrumbPicker-background: #252526;
--vscode-merge-currentHeaderBackground: rgba(64, 200, 174, 0.5);
--vscode-merge-currentContentBackground: rgba(64, 200, 174, 0.2);
--vscode-merge-incomingHeaderBackground: rgba(64, 166, 255, 0.5);
--vscode-merge-incomingContentBackground: rgba(64, 166, 255, 0.2);
--vscode-merge-commonHeaderBackground: rgba(96, 96, 96, 0.4);
--vscode-merge-commonContentBackground: rgba(96, 96, 96, 0.16);
--vscode-editorOverviewRuler-currentContentForeground: rgba(64, 200, 174, 0.5);
--vscode-editorOverviewRuler-incomingContentForeground: rgba(64, 166, 255, 0.5);
--vscode-editorOverviewRuler-commonContentForeground: rgba(96, 96, 96, 0.4);
--vscode-editorOverviewRuler-findMatchForeground: rgba(209, 134, 22, 0.49);
--vscode-editorOverviewRuler-selectionHighlightForeground: rgba(160, 160, 160, 0.8);
--vscode-minimap-findMatchHighlight: #d18616;
--vscode-minimap-selectionOccurrenceHighlight: #676767;
--vscode-minimap-selectionHighlight: #264f78;
--vscode-minimap-errorHighlight: rgba(255, 18, 18, 0.7);
--vscode-minimap-warningHighlight: #cca700;
--vscode-minimap-foregroundOpacity: #000000;
--vscode-minimapSlider-background: rgba(121, 121, 121, 0.2);
--vscode-minimapSlider-hoverBackground: rgba(100, 100, 100, 0.35);
--vscode-minimapSlider-activeBackground: rgba(191, 191, 191, 0.2);
--vscode-problemsErrorIcon-foreground: #f14c4c;
--vscode-problemsWarningIcon-foreground: #cca700;
--vscode-problemsInfoIcon-foreground: #3794ff;
--vscode-charts-foreground: #cccccc;
--vscode-charts-lines: rgba(204, 204, 204, 0.5);
--vscode-charts-red: #f14c4c;
--vscode-charts-blue: #3794ff;
--vscode-charts-yellow: #cca700;
--vscode-charts-orange: #d18616;
--vscode-charts-green: #89d185;
--vscode-charts-purple: #b180d7;
--vscode-editor-lineHighlightBorder: #282828;
--vscode-editor-rangeHighlightBackground: rgba(255, 255, 255, 0.04);
--vscode-editor-symbolHighlightBackground: rgba(234, 92, 0, 0.33);
--vscode-editorCursor-foreground: #aeafad;
--vscode-editorWhitespace-foreground: rgba(227, 228, 226, 0.16);
--vscode-editorIndentGuide-background: #404040;
--vscode-editorIndentGuide-activeBackground: #707070;
--vscode-editorLineNumber-foreground: #858585;
--vscode-editorActiveLineNumber-foreground: #c6c6c6;
--vscode-editorLineNumber-activeForeground: #c6c6c6;
--vscode-editorRuler-foreground: #5a5a5a;
--vscode-editorCodeLens-foreground: #999999;
--vscode-editorBracketMatch-background: rgba(0, 100, 0, 0.1);
--vscode-editorBracketMatch-border: #888888;
--vscode-editorOverviewRuler-border: rgba(127, 127, 127, 0.3);
--vscode-editorGutter-background: #282a2c;
--vscode-editorUnnecessaryCode-opacity: rgba(0, 0, 0, 0.67);
--vscode-editorGhostText-foreground: rgba(255, 255, 255, 0.34);
--vscode-editorOverviewRuler-rangeHighlightForeground: rgba(0, 122, 204, 0.6);
--vscode-editorOverviewRuler-errorForeground: rgba(255, 18, 18, 0.7);
--vscode-editorOverviewRuler-warningForeground: #cca700;
--vscode-editorOverviewRuler-infoForeground: #3794ff;
--vscode-editorBracketHighlight-foreground1: #ffd700;
--vscode-editorBracketHighlight-foreground2: #da70d6;
--vscode-editorBracketHighlight-foreground3: #179fff;
--vscode-editorBracketHighlight-foreground4: rgba(0, 0, 0, 0);
--vscode-editorBracketHighlight-foreground5: rgba(0, 0, 0, 0);
--vscode-editorBracketHighlight-foreground6: rgba(0, 0, 0, 0);
--vscode-editorBracketHighlight-unexpectedBracket-foreground: rgba(255, 18, 18, 0.8);
--vscode-editorBracketPairGuide-background1: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-background2: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-background3: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-background4: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-background5: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-background6: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-activeBackground1: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-activeBackground2: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-activeBackground3: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-activeBackground4: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-activeBackground5: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-activeBackground6: rgba(0, 0, 0, 0);
--vscode-editorUnicodeHighlight-border: #bd9b03;
--vscode-editorUnicodeHighlight-background: rgba(189, 155, 3, 0.15);
--vscode-editor-foldBackground: rgba(38, 79, 120, 0.3);
--vscode-editorGutter-foldingControlForeground: #c5c5c5;
--vscode-editorOverviewRuler-bracketMatchForeground: #a0a0a0;
--vscode-editor-linkedEditingBackground: rgba(255, 0, 0, 0.3);
--vscode-editorHoverWidget-highlightForeground: #2aaaff;
--vscode-symbolIcon-arrayForeground: #cccccc;
--vscode-symbolIcon-booleanForeground: #cccccc;
--vscode-symbolIcon-classForeground: #ee9d28;
--vscode-symbolIcon-colorForeground: #cccccc;
--vscode-symbolIcon-constantForeground: #cccccc;
--vscode-symbolIcon-constructorForeground: #b180d7;
--vscode-symbolIcon-enumeratorForeground: #ee9d28;
--vscode-symbolIcon-enumeratorMemberForeground: #75beff;
--vscode-symbolIcon-eventForeground: #ee9d28;
--vscode-symbolIcon-fieldForeground: #75beff;
--vscode-symbolIcon-fileForeground: #cccccc;
--vscode-symbolIcon-folderForeground: #cccccc;
--vscode-symbolIcon-functionForeground: #b180d7;
--vscode-symbolIcon-interfaceForeground: #75beff;
--vscode-symbolIcon-keyForeground: #cccccc;
--vscode-symbolIcon-keywordForeground: #cccccc;
--vscode-symbolIcon-methodForeground: #b180d7;
--vscode-symbolIcon-moduleForeground: #cccccc;
--vscode-symbolIcon-namespaceForeground: #cccccc;
--vscode-symbolIcon-nullForeground: #cccccc;
--vscode-symbolIcon-numberForeground: #cccccc;
--vscode-symbolIcon-objectForeground: #cccccc;
--vscode-symbolIcon-operatorForeground: #cccccc;
--vscode-symbolIcon-packageForeground: #cccccc;
--vscode-symbolIcon-propertyForeground: #cccccc;
--vscode-symbolIcon-referenceForeground: #cccccc;
--vscode-symbolIcon-snippetForeground: #cccccc;
--vscode-symbolIcon-stringForeground: #cccccc;
--vscode-symbolIcon-structForeground: #cccccc;
--vscode-symbolIcon-textForeground: #cccccc;
--vscode-symbolIcon-typeParameterForeground: #cccccc;
--vscode-symbolIcon-unitForeground: #cccccc;
--vscode-symbolIcon-variableForeground: #75beff;
--vscode-editor-wordHighlightBackground: rgba(87, 87, 87, 0.72);
--vscode-editor-wordHighlightStrongBackground: rgba(0, 73, 114, 0.72);
--vscode-editor-wordHighlightTextBackground: rgba(87, 87, 87, 0.72);
--vscode-editorOverviewRuler-wordHighlightForeground: rgba(160, 160, 160, 0.8);
--vscode-editorOverviewRuler-wordHighlightStrongForeground: rgba(192, 160, 192, 0.8);
--vscode-editorOverviewRuler-wordHighlightTextForeground: rgba(160, 160, 160, 0.8);
--vscode-editorSuggestWidget-background: #252526;
--vscode-editorSuggestWidget-border: #454545;
--vscode-editorSuggestWidget-foreground: #d4d4d4;
--vscode-editorSuggestWidget-selectedForeground: #ffffff;
--vscode-editorSuggestWidget-selectedBackground: #04395e;
--vscode-editorSuggestWidget-highlightForeground: #2aaaff;
--vscode-editorSuggestWidget-focusHighlightForeground: #2aaaff;
--vscode-editorSuggestWidgetStatus-foreground: rgba(212, 212, 212, 0.5);
--vscode-peekViewTitle-background: #252526;
--vscode-peekViewTitleLabel-foreground: #ffffff;
--vscode-peekViewTitleDescription-foreground: rgba(204, 204, 204, 0.7);
--vscode-peekView-border: #3794ff;
--vscode-peekViewResult-background: #252526;
--vscode-peekViewResult-lineForeground: #bbbbbb;
--vscode-peekViewResult-fileForeground: #ffffff;
--vscode-peekViewResult-selectionBackground: rgba(51, 153, 255, 0.2);
--vscode-peekViewResult-selectionForeground: #ffffff;
--vscode-peekViewEditor-background: #001f33;
--vscode-peekViewEditorGutter-background: #001f33;
--vscode-peekViewEditorStickyScroll-background: #001f33;
--vscode-peekViewResult-matchHighlightBackground: rgba(234, 92, 0, 0.3);
--vscode-peekViewEditor-matchHighlightBackground: rgba(255, 143, 0, 0.6);
--vscode-editorMarkerNavigationError-background: #f14c4c;
--vscode-editorMarkerNavigationError-headerBackground: rgba(241, 76, 76, 0.1);
--vscode-editorMarkerNavigationWarning-background: #cca700;
--vscode-editorMarkerNavigationWarning-headerBackground: rgba(204, 167, 0, 0.1);
--vscode-editorMarkerNavigationInfo-background: #3794ff;
--vscode-editorMarkerNavigationInfo-headerBackground: rgba(55, 148, 255, 0.1);
--vscode-editorMarkerNavigation-background: #282a2c; }

.mtk1 { color: #d4d4d4; }
.mtk2 { color: #282a2c; }
.mtk3 { color: #cc6666; }
.mtk4 { color: #9cdcfe; }
.mtk5 { color: #ce9178; }
.mtk6 { color: #b5cea8; }
.mtk7 { color: #608b4e; }
.mtk8 { color: #82b76c; }
.mtk9 { color: #569cd6; }
.mtk10 { color: #69a5d7; }
.mtk11 { color: #f28b82; }
.mtk12 { color: #d7ba7d; }
.mtk13 { color: #d49d87; }
.mtk14 { color: #dcdcdc; }
.mtk15 { color: #808080; }
.mtk16 { color: #4ec9b0; }
.mtk17 { color: #dcdcaa; }
.mtk18 { color: #f44747; }
.mtk19 { color: #82c6ff; }
.mtk20 { color: #c99cc6; }
.mtk21 { color: #c586c0; }
.mtk22 { color: #a79873; }
.mtk23 { color: #dd6a6f; }
.mtk24 { color: #5bb498; }
.mtk25 { color: #909090; }
.mtk26 { color: #778899; }
.mtk27 { color: #ff00ff; }
.mtk28 { color: #b46695; }
.mtk29 { color: #ff0000; }
.mtk30 { color: #4f76ac; }
.mtk31 { color: #3dc9b0; }
.mtk32 { color: #74b0df; }
.mtk33 { color: #4864aa; }
.mtki { font-style: italic; }
.mtkb { font-weight: bold; }
.mtku { text-decoration: underline; text-underline-position: under; }
.mtks { text-decoration: line-through; }
.mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }</style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 0; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax.MathJax_FullWidth {text-align: center; display: table-cell!important; width: 10000em!important}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none; box-sizing: content-box}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_test {font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow: hidden; height: 1px}
.MathJax_test.mjx-test-display {display: table!important}
.MathJax_test.mjx-test-inline {display: inline!important; margin-right: -1px}
.MathJax_test.mjx-test-default {display: block!important; clear: both}
.MathJax_ex_box {display: inline-block!important; position: absolute; overflow: hidden; min-height: 0; max-height: none; padding: 0; border: 0; margin: 0; width: 1px; height: 60ex}
.MathJax_em_box {display: inline-block!important; position: absolute; overflow: hidden; min-height: 0; max-height: none; padding: 0; border: 0; margin: 0; width: 1px; height: 60em}
.mjx-test-inline .MathJax_left_box {display: inline-block; width: 0; float: left}
.mjx-test-inline .MathJax_right_box {display: inline-block; width: 0; float: right}
.mjx-test-display .MathJax_right_box {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Blank; src: url('about:blank')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head><body class="" style="overscroll-behavior: contain;"><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div><div class="scripts"><script nonce="">window.performance.mark('external_scripts_start');</script><script src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/gapi_loader.js" nonce=""></script><script src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/socketio_binary.js" nonce=""></script><script src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/analytics_binary.js" nonce=""></script><script src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/MathJax.js" nonce=""></script><script src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/js_monaco_editor_vs_loader.js" nonce=""></script><script nonce="">window.performance.mark('external_scripts_end'); window.performance.measure('external_scripts', 'external_scripts_start', 'external_scripts_end'); window.performance.mark('colab_load_start');</script><script src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/external_binary_l10n__fr.js" nonce=""></script><script nonce="">
          window.performance.mark('colab_load_end');
          window.performance.measure('colab_load', 'colab_load_start', 'colab_load_end');
        </script></div><colab-snackbar leading="" labeltext="" id="message-area" class="message-area"><template shadowrootmode="open"><!----><style>
        :host .mdc-snackbar {
          z-index: var(--colab-above-dialog-z-index);
        }

        :host .mdc-snackbar__surface {
          background-color: var(--colab-inverse-surface-color);
        }

        :host .mdc-snackbar__label {
          color: var(--colab-inverse-on-surface-color);
        }
      </style>
      <!--?lit$520294451$-->
      <div class="mdc-snackbar  mdc-snackbar--leading ">
        <div class="mdc-snackbar__surface">
          <!--?lit$520294451$-->
          <div class="mdc-snackbar__actions">
            <slot name="action"></slot>
            <slot name="dismiss"></slot>
          </div>
        </div>
      </div><!--?--></template>
      <md-icon-button class="close" slot="dismiss" title="Fermer" data-aria-label="Fermer" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Fermer">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>close</md-icon>
      </md-icon-button>
    </colab-snackbar><colab-snackbar leading="" labeltext="" id="message-area-secondary" class="message-area startup"><template shadowrootmode="open"><!----><style>
        :host .mdc-snackbar {
          z-index: var(--colab-above-dialog-z-index);
        }

        :host .mdc-snackbar__surface {
          background-color: var(--colab-inverse-surface-color);
        }

        :host .mdc-snackbar__label {
          color: var(--colab-inverse-on-surface-color);
        }
      </style>
      <!--?lit$520294451$-->
      <div class="mdc-snackbar mdc-snackbar--leading">
        <div class="mdc-snackbar__surface">
          <!--?lit$520294451$-->
          <div class="mdc-snackbar__actions">
            <slot name="action"></slot>
            <slot name="dismiss"></slot>
          </div>
        </div>
      </div><!--?--></template>
      <md-icon-button class="close" slot="dismiss" title="Fermer" data-aria-label="Fermer" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Fermer">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>close</md-icon>
      </md-icon-button>
    </colab-snackbar><div ng-non-bindable=""></div><div class="gb_T" ng-non-bindable=""><div class="gb_Rc"><div>Compte Google</div><div class="gb_g">Anaelle Zerbib</div><div>anaellez27@gmail.com</div><div class="gb_Sc"></div></div></div><script nonce="">this.gbar_=this.gbar_||{};(function(_){var window=this;
try{
var Od;Od=class extends _.sd{};_.Pd=function(a,b){if(b in a.i)return a.i[b];throw new Od;};_.Qd=function(a){return _.Pd(_.pd.i(),a)};
}catch(e){_._DumpException(e)}
try{
/*

 Copyright Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
var Td;_.Rd=function(a){const b=a.length;if(b>0){const c=Array(b);for(let d=0;d<b;d++)c[d]=a[d];return c}return[]};Td=function(a){return new _.Sd(b=>b.substr(0,a.length+1).toLowerCase()===a+":")};_.Ud=globalThis.trustedTypes;_.Vd=class{constructor(a){this.i=a}toString(){return this.i}};_.Wd=new _.Vd("about:invalid#zClosurez");_.Sd=class{constructor(a){this.Vh=a}};_.Xd=[Td("data"),Td("http"),Td("https"),Td("mailto"),Td("ftp"),new _.Sd(a=>/^[^:]*([/?#]|$)/.test(a))];_.Yd=class{constructor(a){this.i=a}toString(){return this.i+""}};_.Zd=new _.Yd(_.Ud?_.Ud.emptyHTML:"");
}catch(e){_._DumpException(e)}
try{
var de,pe,se,ce,ee,je;_.$d=function(a){return a==null?a:(0,_.Na)(a)?a|0:void 0};_.ae=function(a){if(a==null)return a;if(typeof a==="string"&&a)a=+a;else if(typeof a!=="number")return;return(0,_.Na)(a)?a|0:void 0};_.be=function(a,b){return a.lastIndexOf(b,0)==0};de=function(){let a=null;if(!ce)return a;try{const b=c=>c;a=ce.createPolicy("ogb-qtm#html",{createHTML:b,createScript:b,createScriptURL:b})}catch(b){}return a};_.fe=function(){ee===void 0&&(ee=de());return ee};
_.he=function(a){const b=_.fe();a=b?b.createScriptURL(a):a;return new _.ge(a)};_.ie=function(a){if(a instanceof _.ge)return a.i;throw Error("x");};_.ke=function(a){if(je.test(a))return a};_.le=function(a){if(a instanceof _.Vd)if(a instanceof _.Vd)a=a.i;else throw Error("x");else a=_.ke(a);return a};_.me=function(a,b=document){let c;const d=(c=b.querySelector)==null?void 0:c.call(b,`${a}[nonce]`);return d==null?"":d.nonce||d.getAttribute("nonce")||""};
_.ne=function(a,b,c,d){return _.$d(_.Pc(a,b,c,d))};_.R=function(a,b,c){return _.Ma(_.Pc(a,b,c,_.Oc))};_.oe=function(a,b){return _.ae(_.Pc(a,b,void 0,_.Oc))};pe=class extends _.M{constructor(a){super(a)}Yb(a){return _.K(this,24,a)}};_.qe=function(){return _.B(_.kd,pe,1)};_.re=function(a){var b=_.Ka(a);return b=="array"||b=="object"&&typeof a.length=="number"};ce=_.Ud;_.ge=class{constructor(a){this.i=a}toString(){return this.i+""}};je=/^\s*(?!javascript:)(?:[\w+.-]+:|[^:/?#]*(?:[/?#]|$))/i;var ye,Ce,te;_.ve=function(a){return a?new te(_.ue(a)):se||(se=new te)};_.we=function(a,b){return typeof b==="string"?a.getElementById(b):b};_.S=function(a,b){var c=b||document;c.getElementsByClassName?a=c.getElementsByClassName(a)[0]:(c=document,a=a?(b||c).querySelector(a?"."+a:""):_.xe(c,"*",a,b)[0]||null);return a||null};_.xe=function(a,b,c,d){a=d||a;return(b=b&&b!="*"?String(b).toUpperCase():"")||c?a.querySelectorAll(b+(c?"."+c:"")):a.getElementsByTagName("*")};
_.ze=function(a,b){_.Bb(b,function(c,d){d=="style"?a.style.cssText=c:d=="class"?a.className=c:d=="for"?a.htmlFor=c:ye.hasOwnProperty(d)?a.setAttribute(ye[d],c):_.be(d,"aria-")||_.be(d,"data-")?a.setAttribute(d,c):a[d]=c})};ye={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
_.Ae=function(a){return a?a.defaultView:window};_.De=function(a,b){const c=b[1],d=_.Be(a,String(b[0]));c&&(typeof c==="string"?d.className=c:Array.isArray(c)?d.className=c.join(" "):_.ze(d,c));b.length>2&&Ce(a,d,b);return d};Ce=function(a,b,c){function d(e){e&&b.appendChild(typeof e==="string"?a.createTextNode(e):e)}for(let e=2;e<c.length;e++){const f=c[e];!_.re(f)||_.Lb(f)&&f.nodeType>0?d(f):_.fc(f&&typeof f.length=="number"&&typeof f.item=="function"?_.Rd(f):f,d)}};
_.Ee=function(a){return _.Be(document,a)};_.Be=function(a,b){b=String(b);a.contentType==="application/xhtml+xml"&&(b=b.toLowerCase());return a.createElement(b)};_.Fe=function(a){let b;for(;b=a.firstChild;)a.removeChild(b)};_.Ge=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};_.He=function(a,b){return a&&b?a==b||a.contains(b):!1};_.ue=function(a){return a.nodeType==9?a:a.ownerDocument||a.document};te=function(a){this.i=a||_.t.document||document};_.n=te.prototype;
_.n.H=function(a){return _.we(this.i,a)};_.n.Ra=function(a,b,c){return _.De(this.i,arguments)};_.n.appendChild=function(a,b){a.appendChild(b)};_.n.Pe=_.Fe;_.n.tg=_.Ge;_.n.rg=_.He;
}catch(e){_._DumpException(e)}
try{
_.Qi=function(a){const b=_.me("script",a.ownerDocument);b&&a.setAttribute("nonce",b)};_.Ri=function(a){if(!a)return null;a=_.G(a,4);var b;a===null||a===void 0?b=null:b=_.he(a);return b};_.Si=function(a,b,c){a=a.ha;return _.yb(a,a[_.v]|0,b,c)!==void 0};_.Ti=class extends _.M{constructor(a){super(a)}};_.Ui=function(a,b){return(b||document).getElementsByTagName(String(a))};
}catch(e){_._DumpException(e)}
try{
var Wi=function(a,b,c){a<b?Vi(a+1,b):_.$c.log(Error("W`"+a+"`"+b),{url:c})},Vi=function(a,b){if(Xi){const c=_.Ee("SCRIPT");c.async=!0;c.type="text/javascript";c.charset="UTF-8";c.src=_.ie(Xi);_.Qi(c);c.onerror=_.Ob(Wi,a,b,c.src);_.Ui("HEAD")[0].appendChild(c)}},Yi=class extends _.M{constructor(a){super(a)}};var Zi=_.B(_.kd,Yi,17)||new Yi,$i,Xi=($i=_.B(Zi,_.Ti,1))?_.Ri($i):null,aj,bj=(aj=_.B(Zi,_.Ti,2))?_.Ri(aj):null,cj=function(){Vi(1,2);if(bj){const a=_.Ee("LINK");a.setAttribute("type","text/css");a.href=_.ie(bj).toString();a.rel="stylesheet";let b=_.me("style",document);b&&a.setAttribute("nonce",b);_.Ui("HEAD")[0].appendChild(a)}};(function(){const a=_.qe();if(_.R(a,18))cj();else{const b=_.oe(a,19)||0;window.addEventListener("load",()=>{window.setTimeout(cj,b)})}})();
}catch(e){_._DumpException(e)}
})(this.gbar_);
// Google Inc.
</script><div class="notebook-vertical" style="position: relative;">
      <!--?lit$520294451$--><colab-skip-link><template shadowrootmode="open"><!----><md-elevated-button class="link" href="#notebook-main" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$--><md-elevation part="elevation" aria-hidden="true"><template shadowrootmode="open"><!----><span class="shadow"></span></template></md-elevation>
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="link" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="link" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
      <!--?lit$520294451$--><a id="link" class="button" href="https://colab.research.google.com/gist/anaellez/270ba6ac07b2696b43f054b986e640fc/copie-de-dynamic_hybrid_chatbot_routing-py.ipynb#notebook-main"><!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </a>
    </template><!--?lit$520294451$-->Passer au contenu principal</md-elevated-button></template></colab-skip-link>
      <div class="top-floater"><div role="banner">
    <!--?lit$520294451$-->
    <!--?lit$520294451$-->
          <div id="private-outputs-warning" class="header-warning private-outputs-warning" hidden=""><md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>info</md-icon>
            <div class="message">
              <!--?lit$520294451$-->Ce notebook a été ouvert avec des éléments de sortie privés. Ces éléments ne seront pas enregistrés. Vous pouvez désactiver cette option dans <a href="https://colab.research.google.com/gist/anaellez/270ba6ac07b2696b43f054b986e640fc/copie-de-dynamic_hybrid_chatbot_routing-py.ipynb#" id="private-outputs-notebook-info-link" command="notebook-settings" aria-describedby="private-outputs-notebook-info-link-tooltip">Paramètres du notebook</a><colab-tooltip-trigger aria-hidden="true" for="private-outputs-notebook-info-link" id="private-outputs-notebook-info-link-tooltip"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Ouvrir les paramètres du notebook</div><!----><!--?--></template>
        </colab-tooltip-trigger>.
            </div>
          <div class="actions"><md-icon-button class="close" title="Fermer" data-aria-label="Fermer" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Fermer">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
          <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>close</md-icon>
        </md-icon-button></div></div>
        
    <!--?lit$520294451$--> <!--?lit$520294451$-->

    <div id="header" class="horizontal layout">
      <div id="header-background"><div></div></div>
      <div id="header-content">
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><div id="header-logo">
              <!--?lit$520294451$--> <!--?lit$520294451$--><a href="https://drive.google.com/drive/search?q=owner%3Ame%20(type%3Aapplication%2Fvnd.google.colaboratory%20%7C%7C%20type%3Aapplication%2Fvnd.google.colab)&amp;authuser=0" aria-label="Afficher dans Google Drive">
        <!--?lit$520294451$--><md-icon class="colab-large-icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$--><svg viewBox="0 0 24 24"><!--?lit$520294451$-->
      <g id="colab-logo">
        <path d="M4.54,9.46,2.19,7.1a6.93,6.93,0,0,0,0,9.79l2.36-2.36A3.59,3.59,0,0,1,4.54,9.46Z" style="fill:var(--colab-logo-dark)"></path>
        <path d="M2.19,7.1,4.54,9.46a3.59,3.59,0,0,1,5.08,0l1.71-2.93h0l-.1-.08h0A6.93,6.93,0,0,0,2.19,7.1Z" style="fill:var(--colab-logo-light)"></path>
        <path d="M11.34,17.46h0L9.62,14.54a3.59,3.59,0,0,1-5.08,0L2.19,16.9a6.93,6.93,0,0,0,9,.65l.11-.09" style="fill:var(--colab-logo-light)"></path>
        <path d="M12,7.1a6.93,6.93,0,0,0,0,9.79l2.36-2.36a3.59,3.59,0,1,1,5.08-5.08L21.81,7.1A6.93,6.93,0,0,0,12,7.1Z" style="fill:var(--colab-logo-light)"></path>
        <path d="M21.81,7.1,19.46,9.46a3.59,3.59,0,0,1-5.08,5.08L12,16.9A6.93,6.93,0,0,0,21.81,7.1Z" style="fill:var(--colab-logo-dark)"></path>
      </g></svg></md-icon>
      </a><!--?-->
            </div>
        <div id="header-doc-toolbar" class="flex">
          <div id="document-info">
            <!--?lit$520294451$--> <!--?lit$520294451$--><md-icon class="file-location-icon" id="file-type" aria-hidden="true" title="Notebook stocké dans GitHub"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$--><svg viewBox="0 0 24 24"><!--?lit$520294451$-->
    <path d="M12,0.299c-6.625,0-11.997,5.371-11.997,11.998c0,5.3,3.437,9.797,8.205,11.383c0.6,0.11,0.819-0.26,0.819-0.578c0-0.285-0.01-1.039-0.016-2.04c-3.337,0.725-4.041-1.609-4.041-1.609c-0.546-1.386-1.332-1.755-1.332-1.755c-1.089-0.745,0.082-0.729,0.082-0.729c1.204,0.085,1.838,1.237,1.838,1.237c1.07,1.833,2.808,1.304,3.492,0.997c0.109-0.776,0.419-1.304,0.762-1.604c-2.664-0.303-5.465-1.332-5.465-5.93c0-1.309,0.468-2.38,1.235-3.219C5.458,8.147,5.046,6.927,5.699,5.275c0,0,1.008-0.323,3.299,1.23c0.957-0.266,1.983-0.399,3.003-0.404c1.019,0.004,2.045,0.138,3.003,0.404c2.291-1.553,3.296-1.23,3.296-1.23c0.655,1.652,0.243,2.872,0.119,3.175c0.769,0.839,1.233,1.91,1.233,3.219c0,4.609-2.805,5.623-5.478,5.92c0.431,0.37,0.815,1.103,0.815,2.222c0,1.604-0.015,2.898-0.015,3.291c0,0.321,0.216,0.694,0.825,0.577c4.763-1.589,8.197-6.083,8.197-11.382C23.998,5.67,18.626,0.299,12,0.299z"></path></svg></md-icon>
    <input id="doc-name" class="doc-name" maxlength="259" autocomplete="off" aria-label="Nom du notebook" command="rename" style="width: 324.188px;" aria-describedby="doc-name-tooltip"><colab-tooltip-trigger aria-hidden="true" for="doc-name" id="doc-name-tooltip"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Renommer le notebook</div><!----><!--?--></template>
        </colab-tooltip-trigger><colab-input-sizer aria-hidden="true" style="left: -1000%; position: absolute; font-family: &quot;Google Sans&quot;, Roboto, Noto, sans-serif; font-size: 18px; font-weight: 400; letter-spacing: normal; padding-left: 3px; padding-right: 4px; white-space: pre;">dynamic_hybrid_chatbot_routing.ipynb_</colab-input-sizer>
            <!--?lit$520294451$-->
            <!--?lit$520294451$--><colab-last-saved-indicator aria-live="polite" aria-atomic="true"><template shadowrootmode="open"><!----><!--?--></template></colab-last-saved-indicator>
          </div>
        <div class="menubar-wrapper"><div><!----><div id="top-menubar" class="goog-menubar format-lightborder" role="menubar" style="user-select: none;" tabindex="0"><!--?lit$520294451$--><div class="goog-menu-button goog-inline-block" id="file-menu-button" role="button" aria-expanded="false" aria-haspopup="true" style="user-select: none;"><div class="goog-inline-block goog-menu-button-outer-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-inner-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-caption" style="user-select: none;"><!--?lit$520294451$-->Fichier</div><div class="goog-inline-block goog-menu-button-dropdown" style="user-select: none;">&nbsp;</div></div></div></div><div class="goog-menu-button goog-inline-block" id="edit-menu-button" role="button" aria-expanded="false" aria-haspopup="true" style="user-select: none;"><div class="goog-inline-block goog-menu-button-outer-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-inner-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-caption" style="user-select: none;"><!--?lit$520294451$-->Modifier</div><div class="goog-inline-block goog-menu-button-dropdown" style="user-select: none;">&nbsp;</div></div></div></div><div class="goog-menu-button goog-inline-block" id="view-menu-button" role="button" aria-expanded="false" aria-haspopup="true" style="user-select: none;"><div class="goog-inline-block goog-menu-button-outer-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-inner-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-caption" style="user-select: none;"><!--?lit$520294451$-->Affichage</div><div class="goog-inline-block goog-menu-button-dropdown" style="user-select: none;">&nbsp;</div></div></div></div><div class="goog-menu-button goog-inline-block" id="insert-menu-button" role="button" aria-expanded="false" aria-haspopup="true" style="user-select: none;"><div class="goog-inline-block goog-menu-button-outer-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-inner-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-caption" style="user-select: none;"><!--?lit$520294451$-->Insérer</div><div class="goog-inline-block goog-menu-button-dropdown" style="user-select: none;">&nbsp;</div></div></div></div><div class="goog-menu-button goog-inline-block" id="runtime-menu-button" role="button" aria-expanded="false" aria-haspopup="true" style="user-select: none;"><div class="goog-inline-block goog-menu-button-outer-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-inner-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-caption" style="user-select: none;"><!--?lit$520294451$-->Exécution</div><div class="goog-inline-block goog-menu-button-dropdown" style="user-select: none;">&nbsp;</div></div></div></div><div class="goog-menu-button goog-inline-block" id="tools-menu-button" role="button" aria-expanded="false" aria-haspopup="true" style="user-select: none;"><div class="goog-inline-block goog-menu-button-outer-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-inner-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-caption" style="user-select: none;"><!--?lit$520294451$-->Outils</div><div class="goog-inline-block goog-menu-button-dropdown" style="user-select: none;">&nbsp;</div></div></div></div><div class="goog-menu-button goog-inline-block" id="help-menu-button" role="button" aria-expanded="false" aria-haspopup="true" style="user-select: none;"><div class="goog-inline-block goog-menu-button-outer-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-inner-box" style="user-select: none;"><div class="goog-inline-block goog-menu-button-caption" style="user-select: none;"><!--?lit$520294451$-->Aide</div><div class="goog-inline-block goog-menu-button-dropdown" style="user-select: none;">&nbsp;</div></div></div></div></div></div></div></div>
        <div id="header-right">
          <!--?lit$520294451$-->
    <colab-collaborator-bar id="collaborator-bar"><template shadowrootmode="open"><!----> <div class="collaborator-bar">
      <!--?lit$520294451$-->
      <!--?lit$520294451$-->
    </div></template></colab-collaborator-bar>
  
          <!--?lit$520294451$-->
          <!--?lit$520294451$--> <md-icon-button id="settings-cog" command="preferences" data-aria-label="Ouvrir les paramètres" aria-describedby="settings-cog-tooltip" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Ouvrir les paramètres">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
                <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>settings</md-icon>
              </md-icon-button><colab-tooltip-trigger aria-hidden="true" for="settings-cog" id="settings-cog-tooltip"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Ouvrir les paramètres</div><!----><!--?--></template>
        </colab-tooltip-trigger>
          <!--?lit$520294451$--> <md-filled-tonal-button id="share-toolbar-button" command="share" data-aria-label="Partager le notebook" aria-describedby="share-toolbar-button-tooltip" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$--><md-elevation part="elevation" aria-hidden="true"><template shadowrootmode="open"><!----><span class="shadow"></span></template></md-elevation>
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button" aria-label="Partager le notebook">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
                <md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->link</md-icon>
                <!--?lit$520294451$-->Partager
              </md-filled-tonal-button><colab-tooltip-trigger aria-hidden="true" for="share-toolbar-button" id="share-toolbar-button-tooltip"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Partager le notebook</div><!----><!--?--></template>
        </colab-tooltip-trigger>
          <!--?lit$520294451$--> <md-text-button class="show-chat-button" id="show-chat-button" command="toggle-composer" data-aria-label="Activer/Désactiver Gemini" aria-describedby="show-chat-button-tooltip" hidden="" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$-->
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button" aria-label="Activer/Désactiver Gemini">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
                <md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
                <!--?lit$520294451$-->Gemini
              </md-text-button><colab-tooltip-trigger aria-hidden="true" for="show-chat-button" id="show-chat-button-tooltip"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Activer/Désactiver Gemini</div><!----><!--?--></template>
        </colab-tooltip-trigger>
          <div class="header-onegoogle-container"><div class="onegoogle"><div class="gb_Ha gb_Dd gb_yb gb_dd" id="gb"><div class="gb_2d gb_wb gb_Sd" ng-non-bindable="" data-ogsr-up="" style="padding:0;height:auto;display:block"><div class="gb_Cd" style="display:block"><div class="gb_jd"></div><div class="gb_z gb_vd gb_Qf gb_1"><div class="gb_D gb_vb gb_Qf gb_1"><a class="gb_B gb_0a gb_1" aria-expanded="false" aria-label="Compte Google Anaelle Zerbib  
(anaellez27@gmail.com)" href="https://accounts.google.com/SignOutOptions?hl=fr&amp;continue=https://colab.research.google.com/gist/anaellez/270ba6ac07b2696b43f054b986e640fc/copie-de-dynamic_hybrid_chatbot_routing-py.ipynb&amp;ec=GBRAqQM" tabindex="0" role="button"><div class="gb_P"><svg focusable="false" height="40px" version="1.1" viewBox="0 0 40 40" width="40px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="opacity:1.0"><path d="M4.02,28.27C2.73,25.8,2,22.98,2,20c0-2.87,0.68-5.59,1.88-8l-1.72-1.04C0.78,13.67,0,16.75,0,20c0,3.31,0.8,6.43,2.23,9.18L4.02,28.27z" fill="#F6AD01"></path><path d="M32.15,33.27C28.95,36.21,24.68,38,20,38c-6.95,0-12.98-3.95-15.99-9.73l-1.79,0.91C5.55,35.61,12.26,40,20,40c5.2,0,9.93-1.98,13.48-5.23L32.15,33.27z" fill="#249A41"></path><path d="M33.49,34.77C37.49,31.12,40,25.85,40,20c0-5.86-2.52-11.13-6.54-14.79l-1.37,1.46C35.72,9.97,38,14.72,38,20c0,5.25-2.26,9.98-5.85,13.27L33.49,34.77z" fill="#3174F1"></path><path d="M20,2c4.65,0,8.89,1.77,12.09,4.67l1.37-1.46C29.91,1.97,25.19,0,20,0l0,0C12.21,0,5.46,4.46,2.16,10.96L3.88,12C6.83,6.08,12.95,2,20,2" fill="#E92D18"></path></svg></div><span class="gb_be"><img class="gb_Q gbii" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/unnamed.png" srcset="https://lh3.google.com/u/0/ogw/AF2bZyiYka6VnBegxQC3Qc_hDLDP-dEKrFTGG2Ga1-pbV_sG9w=s32-c-mo 1x, https://lh3.google.com/u/0/ogw/AF2bZyiYka6VnBegxQC3Qc_hDLDP-dEKrFTGG2Ga1-pbV_sG9w=s64-c-mo 2x " alt="" aria-hidden="true" data-noaft=""></span><div class="gb_R gb_S" aria-hidden="true"><svg class="gb_La" height="14" viewBox="0 0 14 14" width="14" xmlns="http://www.w3.org/2000/svg"><circle class="gb_Ma" cx="7" cy="7" r="7"></circle><path class="gb_Oa" d="M6 10H8V12H6V10ZM6 2H8V8H6V2Z"></path></svg></div></a></div></div></div><div style="overflow: hidden; position: absolute; top: 0px; visibility: hidden; width: 436px; z-index: 991; height: 0px; margin-top: 57px; right: 0px; margin-right: 4px;"></div><div style="overflow: hidden; position: absolute; top: 0px; visibility: hidden; width: 420px; z-index: 991; height: 280px; margin-top: 70px; right: 0px; margin-right: 25px;"></div></div></div><script nonce="">this.gbar_=this.gbar_||{};(function(_){var window=this;
try{
_.Fd=function(a,b,c){if(!a.j)if(c instanceof Array)for(var d of c)_.Fd(a,b,d);else{d=(0,_.y)(a.C,a,b);const e=a.v+c;a.v++;b.dataset.eqid=e;a.B[e]=d;b&&b.addEventListener?b.addEventListener(c,d,!1):b&&b.attachEvent?b.attachEvent("on"+c,d):a.o.log(Error("t`"+b))}};
}catch(e){_._DumpException(e)}
try{
var Gd=document.querySelector(".gb_J .gb_B"),Hd=document.querySelector("#gb.gb_ad");Gd&&!Hd&&_.Fd(_.od,Gd,"click");
}catch(e){_._DumpException(e)}
try{
_.qh=function(a){if(a.v)return a.v;for(const b in a.i)if(a.i[b].ka()&&a.i[b].B())return a.i[b];return null};_.rh=function(a,b){a.i[b.J()]=b};var sh=new class extends _.N{constructor(){var a=_.$c;super();this.B=a;this.v=null;this.o={};this.C={};this.i={};this.j=null}A(a){this.i[a]&&(_.qh(this)&&_.qh(this).J()==a||this.i[a].P(!0))}Ua(a){this.j=a;for(const b in this.i)this.i[b].ka()&&this.i[b].Ua(a)}oc(a){return a in this.i?this.i[a]:null}};_.rd("dd",sh);
}catch(e){_._DumpException(e)}
try{
_.Ji=function(a,b){return _.H(a,36,b)};
}catch(e){_._DumpException(e)}
try{
var Ki=document.querySelector(".gb_z .gb_B"),Li=document.querySelector("#gb.gb_ad");Ki&&!Li&&_.Fd(_.od,Ki,"click");
}catch(e){_._DumpException(e)}
})(this.gbar_);
// Google Inc.
</script></div></div>
        </div>
      </div>
    </div>
  </div></div><colab-notebook-toolbar id="top-toolbar" class="horizontal layout center noshrink"><!----> <!--?lit$520294451$-->
    <!--?lit$520294451$--><colab-toolbar-button icon="search" id="toolbar-show-command-palette" command="show-command-palette"><template shadowrootmode="open"><!----><md-text-button id="button" data-aria-disabled="false" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$-->
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
        <!--?lit$520294451$--><md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->search</md-icon>
        <span class="button-content"><slot></slot></span>
        <!--?lit$520294451$--><span class="screenreader-only"><!--?lit$520294451$-->Afficher la palette de commandes <!--?lit$520294451$-->⌘/Ctrl+Shift+P</span>
      </md-text-button>
      <!--?lit$520294451$--> <colab-tooltip-trigger for="button" aria-hidden="true" id="tooltip" message="Afficher la palette de commandes" shortcut="⌘/Ctrl+Shift+P"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher la palette de commandes (⌘/Ctrl+Shift+P)</div><!----><!--?--></template>
          </colab-tooltip-trigger><!--?--></template>
          <!--?lit$520294451$-->Commandes
        </colab-toolbar-button>
    <!--?lit$520294451$--><span class="toolbar-add-code-split"><colab-toolbar-button command="insert-cell-below" icon="add" id="toolbar-add-code" class=" split-button "><template shadowrootmode="open"><!----><md-text-button id="button" data-aria-disabled="false" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$-->
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
        <!--?lit$520294451$--><md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->add</md-icon>
        <span class="button-content"><slot></slot></span>
        <!--?lit$520294451$--><span class="screenreader-only"><!--?lit$520294451$-->Insérer la cellule de code ci-dessous <!--?lit$520294451$-->⌘/Ctrl+M B</span>
      </md-text-button>
      <!--?lit$520294451$--> <colab-tooltip-trigger for="button" aria-hidden="true" id="tooltip" message="Insérer la cellule de code ci-dessous" shortcut="⌘/Ctrl+M B"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Insérer la cellule de code ci-dessous (⌘/Ctrl+M B)</div><!----><!--?--></template>
          </colab-tooltip-trigger><!--?--></template>
              <!--?lit$520294451$-->Code
            </colab-toolbar-button>
            <!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" id="top-toolbar-add-code-dropdown-button" data-aria-label="Options d&#39;insertion de cellules de code" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Options d&#39;insertion de cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>arrow_drop_down</md-icon>
    </md-icon-button>
    <colab-tooltip-trigger aria-hidden="true" for="top-toolbar-add-code-dropdown-button" message="Options d&#39;insertion de cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Options d'insertion de cellules de code</div><!----><!--?--></template>
    </colab-tooltip-trigger></span>
          <colab-toolbar-button command="add-text" icon="add" id="toolbar-add-text"><template shadowrootmode="open"><!----><md-text-button id="button" data-aria-disabled="false" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$-->
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
        <!--?lit$520294451$--><md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->add</md-icon>
        <span class="button-content"><slot></slot></span>
        <!--?lit$520294451$--><span class="screenreader-only"><!--?lit$520294451$-->Ajouter une cellule de texte <!--?lit$520294451$--></span>
      </md-text-button>
      <!--?lit$520294451$--> <colab-tooltip-trigger for="button" aria-hidden="true" id="tooltip" message="Ajouter une cellule de texte" shortcut=""><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Ajouter une cellule de texte</div><!----><!--?--></template>
          </colab-tooltip-trigger><!--?--></template>
            <!--?lit$520294451$-->Texte
          </colab-toolbar-button>
    <span class="colab-separator"></span>
    <colab-notebook-toolbar-run-button><template shadowrootmode="open"><!----><colab-toolbar-button class="split-button" icon="play_arrow" tooltipid="toolbar-run-button-tooltip" id="toolbar-run-button" tooltiptext="Exécuter toutes les cellules du notebook"><template shadowrootmode="open"><!----><md-text-button id="button" data-aria-disabled="false" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$-->
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
        <!--?lit$520294451$--><md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->play_arrow</md-icon>
        <span class="button-content"><slot></slot></span>
        <!--?lit$520294451$--><span class="screenreader-only"><!--?lit$520294451$-->Exécuter toutes les cellules du notebook <!--?lit$520294451$--></span>
      </md-text-button>
      <!--?lit$520294451$--> <colab-tooltip-trigger for="button" aria-hidden="true" id="toolbar-run-button-tooltip" message="Exécuter toutes les cellules du notebook" shortcut=""><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter toutes les cellules du notebook</div><!----><!--?--></template>
          </colab-tooltip-trigger><!--?--></template>
        <!--?lit$520294451$-->Tout exécuter
      </colab-toolbar-button>
      <!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-haspopup="menu" data-aria-expanded="false" id="toolbar-run-button-more-actions" data-aria-label="Autres actions" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Autres actions" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>arrow_drop_down</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toolbar-run-button-more-actions" message="Autres actions"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Autres actions</div><!----><!--?--></template>
      </colab-tooltip-trigger>
      <!--?lit$520294451$--><md-menu positioning="popover" quick="" aria-labelledby="toolbar-run-button-more-actions" anchor="toolbar-run-button-more-actions" aria-hidden="true"><template shadowrootmode="open"><!---->
      <div class="menu   " popover="manual" style="display: none;">
        <!--?lit$520294451$--><md-elevation part="elevation" aria-hidden="true"><template shadowrootmode="open"><!----><span class="shadow"></span></template></md-elevation>
        <div class="items">
          <div class="item-padding"> <!--?lit$520294451$--><slot></slot> </div>
        </div>
      </div>
    </template>
    <!--?lit$520294451$--><!----><md-menu-item command="restart" md-menu-item="" tabindex="-1"><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <li id="item" role="menuitem" class="list-item" tabindex="0"><!--?lit$520294451$-->
      <md-item><template shadowrootmode="open"><!---->
      <slot name="container"></slot>
      <slot class="non-text" name="start"></slot>
      <div class="text">
        <slot name="overline"></slot>
        <slot class="default-slot"></slot>
        <slot name="headline"></slot>
        <slot name="supporting-text"></slot>
      </div>
      <slot class="non-text" name="trailing-supporting-text"></slot>
      <slot class="non-text" name="end"></slot>
    </template>
        <div slot="container">
          <!--?lit$520294451$--> <md-ripple part="ripple" for="item" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple> <!--?lit$520294451$--> <md-focus-ring part="focus-ring" for="item" inward="" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        <!--?lit$520294451$-->
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot name="trailing-supporting-text" slot="trailing-supporting-text"></slot>
    
      </md-item>
    </li>
    </template>
    <span slot="headline"><!--?lit$520294451$-->Redémarrer la session</span>
  </md-menu-item><!----><!----><md-menu-item command="restart-and-run-all" md-menu-item="" tabindex="-1"><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <li id="item" role="menuitem" class="list-item" tabindex="0"><!--?lit$520294451$-->
      <md-item><template shadowrootmode="open"><!---->
      <slot name="container"></slot>
      <slot class="non-text" name="start"></slot>
      <div class="text">
        <slot name="overline"></slot>
        <slot class="default-slot"></slot>
        <slot name="headline"></slot>
        <slot name="supporting-text"></slot>
      </div>
      <slot class="non-text" name="trailing-supporting-text"></slot>
      <slot class="non-text" name="end"></slot>
    </template>
        <div slot="container">
          <!--?lit$520294451$--> <md-ripple part="ripple" for="item" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple> <!--?lit$520294451$--> <md-focus-ring part="focus-ring" for="item" inward="" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        <!--?lit$520294451$-->
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot name="trailing-supporting-text" slot="trailing-supporting-text"></slot>
    
      </md-item>
    </li>
    </template>
    <span slot="headline"><!--?lit$520294451$-->Redémarrer la session et tout exécuter</span>
  </md-menu-item><!----><!----><md-menu-item command="runafter" md-menu-item="" tabindex="0" disabled=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <li id="item" role="menuitem" class="list-item disabled" tabindex="-1"><!--?lit$520294451$-->
      <md-item><template shadowrootmode="open"><!---->
      <slot name="container"></slot>
      <slot class="non-text" name="start"></slot>
      <div class="text">
        <slot name="overline"></slot>
        <slot class="default-slot"></slot>
        <slot name="headline"></slot>
        <slot name="supporting-text"></slot>
      </div>
      <slot class="non-text" name="trailing-supporting-text"></slot>
      <slot class="non-text" name="end"></slot>
    </template>
        <div slot="container">
          <!--?lit$520294451$--> <md-ripple part="ripple" for="item" aria-hidden="true" disabled=""><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple> <!--?lit$520294451$--> <md-focus-ring part="focus-ring" for="item" inward="" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        <!--?lit$520294451$-->
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot name="trailing-supporting-text" slot="trailing-supporting-text"></slot>
    
      </md-item>
    </li>
    </template>
    <span slot="headline"><!--?lit$520294451$-->Exécuter la cellule sélectionnée et toutes les cellules en dessous</span>
  </md-menu-item><!----><!----><md-divider><template shadowrootmode="open"><!----></template></md-divider><!----><!----><md-menu-item command="interrupt" md-menu-item="" tabindex="-1"><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <li id="item" role="menuitem" class="list-item" tabindex="0"><!--?lit$520294451$-->
      <md-item><template shadowrootmode="open"><!---->
      <slot name="container"></slot>
      <slot class="non-text" name="start"></slot>
      <div class="text">
        <slot name="overline"></slot>
        <slot class="default-slot"></slot>
        <slot name="headline"></slot>
        <slot name="supporting-text"></slot>
      </div>
      <slot class="non-text" name="trailing-supporting-text"></slot>
      <slot class="non-text" name="end"></slot>
    </template>
        <div slot="container">
          <!--?lit$520294451$--> <md-ripple part="ripple" for="item" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple> <!--?lit$520294451$--> <md-focus-ring part="focus-ring" for="item" inward="" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        <!--?lit$520294451$-->
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot name="trailing-supporting-text" slot="trailing-supporting-text"></slot>
    
      </md-item>
    </li>
    </template>
    <span slot="headline"><!--?lit$520294451$-->Interrompre l'exécution</span>
  </md-menu-item><!----><!----><md-menu-item command="clear-outputs" md-menu-item="" tabindex="-1"><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <li id="item" role="menuitem" class="list-item   " tabindex="0"><!--?lit$520294451$-->
      <md-item><template shadowrootmode="open"><!---->
      <slot name="container"></slot>
      <slot class="non-text" name="start"></slot>
      <div class="text">
        <slot name="overline"></slot>
        <slot class="default-slot"></slot>
        <slot name="headline"></slot>
        <slot name="supporting-text"></slot>
      </div>
      <slot class="non-text" name="trailing-supporting-text"></slot>
      <slot class="non-text" name="end"></slot>
    </template>
        <div slot="container">
          <!--?lit$520294451$--> <md-ripple part="ripple" for="item" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple> <!--?lit$520294451$--> <md-focus-ring part="focus-ring" for="item" inward="" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        <!--?lit$520294451$-->
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot name="trailing-supporting-text" slot="trailing-supporting-text"></slot>
    
      </md-item>
    </li>
    </template>
    <span slot="headline"><!--?lit$520294451$-->Supprimer tous les résultats</span>
  </md-menu-item><!---->
  </md-menu><!--?--><!--?--></template>
    </colab-notebook-toolbar-run-button>
    <!--?lit$520294451$-->
    <!--?lit$520294451$-->
    <!--?lit$520294451$-->
    <!--?lit$520294451$-->
    <!--?lit$520294451$--> <span class="collapsed-options">
          <colab-last-saved-indicator aria-live="polite" aria-atomic="true"><template shadowrootmode="open"><!----><!--?--></template></colab-last-saved-indicator>
        </span>

    <span class="flex"></span>
    <!--?lit$520294451$-->
    <!--?lit$520294451$--><colab-connect-warning-button><template shadowrootmode="open"><!----><!--?lit$520294451$--><!--?--></template></colab-connect-warning-button>
    <!--?lit$520294451$--><!--?lit$520294451$--><colab-connect-button><template shadowrootmode="open"><!----> <!--?lit$520294451$--> <!--?lit$520294451$--><md-icon-button id="connect-icon" class="icon-okay" data-aria-label="Placer le curseur sur la dernière cellule exécutée" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Placer le curseur sur la dernière cellule exécutée">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
            <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->done</md-icon>
          </md-icon-button>
          <colab-tooltip-trigger for="connect-icon" id="connect-icon-tooltip" aria-hidden="true" message="Placer le curseur sur la dernière cellule exécutée"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Placer le curseur sur la dernière cellule exécutée</div><!----><!--?--></template>
          </colab-tooltip-trigger>
      <colab-toolbar-button id="connect" class="split-button" tooltipid="colab-connect-tooltip" tooltiptext="Connecté à
Backend Google Compute Engine Python 3 (GPU)
RAM : 2.91 GB/12.67 GB
Disque : 41.56 GB/112.64 GB"><template shadowrootmode="open"><!----><md-text-button id="button" value="" data-aria-disabled="false"><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$-->
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
        <!--?lit$520294451$-->
        <span class="button-content"><slot></slot></span>
        <!--?lit$520294451$--><span class="screenreader-only"><!--?lit$520294451$-->Connecté à
Backend Google&nbsp;Compute Engine Python 3 (GPU)
RAM&nbsp;: 2.91 GB/12.67 GB
Disque&nbsp;: 41.56 GB/112.64 GB <!--?lit$520294451$--></span>
      </md-text-button>
      <!--?lit$520294451$--> <colab-tooltip-trigger for="button" aria-hidden="true" id="colab-connect-tooltip" message="Connecté à
Backend Google Compute Engine Python 3 (GPU)
RAM : 2.91 GB/12.67 GB
Disque : 41.56 GB/112.64 GB" shortcut=""><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Connecté à</div><!----><!----><div><!--?lit$520294451$-->Backend Google&nbsp;Compute Engine Python 3 (GPU)</div><!----><!----><div><!--?lit$520294451$-->RAM&nbsp;: 2.91 GB/12.67 GB</div><!----><!----><div><!--?lit$520294451$-->Disque&nbsp;: 41.56 GB/112.64 GB</div><!----><!--?--></template>
          </colab-tooltip-trigger><!--?--></template>
        <!--?lit$520294451$--> <div id="connect-button-resource-display">
          <!--?lit$520294451$--><colab-usage-sparkline class="ram" label="RAM"><template shadowrootmode="open"><!---->
      <div class="label"><!--?lit$520294451$-->RAM</div>
      <!--?lit$520294451$-->
      <canvas height="14" width="20"></canvas>
    </template></colab-usage-sparkline>
          <!--?lit$520294451$--><colab-usage-sparkline class="disks" label="Disque"><template shadowrootmode="open"><!---->
      <div class="label"><!--?lit$520294451$-->Disque</div>
      <!--?lit$520294451$-->
      <canvas height="14" width="20"></canvas>
    </template></colab-usage-sparkline>
        </div>
      </colab-toolbar-button>
      <!--?lit$520294451$--> <md-icon-button id="connect-dropdown" class="connect-dropdown" touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" data-aria-label="Options de connexion supplémentaires" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Options de connexion supplémentaires" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>arrow_drop_down</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger for="connect-dropdown" id="connect-dropdown-tooltip" aria-hidden="true" message="Options de connexion supplémentaires"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Options de connexion supplémentaires</div><!----><!--?--></template>
      </colab-tooltip-trigger>
      <!--?lit$520294451$--><!--?--></template></colab-connect-button><!--?-->
    <!--?lit$520294451$-->
    <span class="collapsed-options">
      <!--?lit$520294451$--> <md-icon-button id="share-button-toolbar" command="share" data-aria-label="Partager le notebook" aria-describedby="share-button-toolbar-tooltip" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Partager le notebook">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
            <md-icon filled="" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->link</md-icon>
          </md-icon-button><colab-tooltip-trigger aria-hidden="true" for="share-button-toolbar" id="share-button-toolbar-tooltip"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Partager le notebook</div><!----><!--?--></template>
        </colab-tooltip-trigger>
      <md-icon-button id="settings-button-toolbar" command="preferences" data-aria-label="Ouvrir les paramètres" aria-describedby="settings-button-toolbar-tooltip" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Ouvrir les paramètres">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon filled="" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>settings</md-icon>
      </md-icon-button><colab-tooltip-trigger aria-hidden="true" for="settings-button-toolbar" id="settings-button-toolbar-tooltip"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Ouvrir les paramètres</div><!----><!--?--></template>
        </colab-tooltip-trigger>
      <!--?lit$520294451$-->
      <span class="colab-separator"></span>
    </span>
    <!--?lit$520294451$--><md-icon-button toggle="" command="toggle-header" id="toggle-header-button" touch-target="none" data-aria-label="Activer/Désactiver l&#39;affichage de l&#39;en-tête" aria-describedby="toggle-header-button-tooltip" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Activer/Désactiver l&#39;affichage de l&#39;en-tête" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
    <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>expand_less</md-icon>
    <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>expand_more</md-icon>
  </md-icon-button><colab-tooltip-trigger aria-hidden="true" for="toggle-header-button" id="toggle-header-button-tooltip"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Activer/Désactiver l'affichage de l'en-tête</div><!----><!--?--></template>
        </colab-tooltip-trigger><!--?--></colab-notebook-toolbar><div class="notebook-horizontal">
        <!--?lit$520294451$--><colab-left-pane role="complementary" aria-label="left pane"><!----><div class="colab-left-pane-nib layout vertical" role="toolbar" aria-orientation="vertical">
        <div class="left-pane-top"><!----><div class="left-pane-button">
        <!--?lit$520294451$--><md-icon-button toggle="" command="show-toc-pane" data-aria-label="Sommaire" title="Sommaire" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Sommaire" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->format_list_bulleted</md-icon>
    </md-icon-button> <!--?lit$520294451$-->
      </div><!----><div class="left-pane-button">
        <!--?lit$520294451$--><md-icon-button toggle="" command="find" data-aria-label="Rechercher et remplacer" title="Rechercher et remplacer" value="" tabindex="-1"><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Rechercher et remplacer" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->find_in_page</md-icon>
    </md-icon-button> <!--?lit$520294451$-->
      </div><!----><div class="left-pane-button">
        <!--?lit$520294451$--><md-icon-button toggle="" command="snippets" data-aria-label="Extraits de code" title="Extraits de code" value="" tabindex="-1"><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Extraits de code" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->code</md-icon>
    </md-icon-button> <!--?lit$520294451$-->
      </div><!----><div class="left-pane-button">
        <!--?lit$520294451$--><md-icon-button toggle="" command="show-data-inspector" data-aria-label="Inspecteur de données" title="Inspecteur de données" value="" tabindex="-1"><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Inspecteur de données" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->eye_tracking</md-icon>
    </md-icon-button> <!--?lit$520294451$-->
      </div><!----><div class="left-pane-button">
        <!--?lit$520294451$--><md-icon-button toggle="" command="open-user-secrets" data-aria-label="Secrets" title="Secrets" value="" tabindex="-1"><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Secrets" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->vpn_key</md-icon>
    </md-icon-button> <!--?lit$520294451$-->
      </div><!----><div class="left-pane-button">
        <!--?lit$520294451$--><md-icon-button toggle="" command="show-files" data-aria-label="Fichiers" title="Fichiers" value="" tabindex="-1"><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Fichiers" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->folder</md-icon>
    </md-icon-button> <!--?lit$520294451$-->
      </div><!----><div class="left-pane-button">
        <!--?lit$520294451$--><md-icon-button toggle="" command="show-data-explorer" data-aria-label="Explorateur de données" title="Explorateur de données" value="" tabindex="-1"><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Explorateur de données" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->table</md-icon>
    </md-icon-button> <!--?lit$520294451$-->
      </div></div>
      </div></colab-left-pane>
        <div class="layout vertical grow">
          <colab-tab-layout-container class="layout horizontal grow flexible-tabs"><!----> <div class="layout horizontal tab-pane-parent">
      <!--?lit$520294451$--> <div class="layout vertical tab-pane-parent">
      <!--?lit$520294451$--><colab-tab-pane class="layout vertical grow no-header" align="horizontal"><!----> <div class="layout vertical grow">
    <div class="tab-pane-header layout horizontal noshrink">
      <md-tabs><template shadowrootmode="open"><!---->
      <div class="tabs">
        <slot></slot>
      </div>
      <md-divider part="divider"><template shadowrootmode="open"><!----></template></md-divider>
    </template><md-primary-tab noink="" title="" aria-labelledby="tab-title-VLsoUE8_yTQ9" class="selected-tab" md-tab="" active="" tabindex="0"><template shadowrootmode="open"><!----><div class="button" role="presentation">
      <md-focus-ring part="focus-ring" inward="" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-elevation part="elevation" aria-hidden="true"><template shadowrootmode="open"><!----><span class="shadow"></span></template></md-elevation>
      <md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
      <div role="presentation" class="content  has-label stacked ">
        <slot name="icon"></slot>
        <slot></slot>
        <!--?lit$520294451$--><div class="indicator"></div>
      </div>
      <!--?lit$520294451$-->
    </div></template>
          <div class="colab-tab-header"> <!--?lit$520294451$--><div class="colab-tab-title">
      <!--?lit$520294451$-->
      <span id="tab-title-VLsoUE8_yTQ9"><!--?lit$520294451$--><!--?lit$520294451$-->Notebook<!--?--></span>
    </div> <!--?lit$520294451$--> </div>
        </md-primary-tab></md-tabs>
      <div class="layout grow"></div>
      <div class="tab-pane-header-actions"><!----><!--?lit$520294451$--><!--?--></div>
      <!--?lit$520294451$--><md-icon-button data-aria-expanded="false" data-aria-haspopup="menu" id="tab-pane-0-more-actions-button" data-aria-label="Autres actions liées aux onglets" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Autres actions liées aux onglets" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_vert</md-icon>
    </md-icon-button>
    <colab-tooltip-trigger aria-hidden="true" for="tab-pane-0-more-actions-button" message="Autres actions liées aux onglets"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Autres actions liées aux onglets</div><!----><!--?--></template>
    </colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button id="tab-pane-0-close-all-button" data-aria-label="Fermer tous les onglets" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Fermer tous les onglets">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>close</md-icon>
    </md-icon-button>
    <colab-tooltip-trigger aria-hidden="true" for="tab-pane-0-close-all-button" message="Fermer tous les onglets"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Fermer tous les onglets</div><!----><!--?--></template>
    </colab-tooltip-trigger>
    </div>
    <div class="layout vertical grow tab-pane-container"> <colab-tab class="layout vertical grow notebook-tab-content selected-tab"><!----> <div class="overflow-flexbox-workaround">
      <colab-scroller role="main" id="notebook-main" class="notebook-container" aria-label="Notebook" tabindex="-1">
        <div class="notebook-scrolling-horizontal-container">
          <div class="notebook-scrolling-horizontal">
            <div class="notebook-content-background">
              <!--?lit$520294451$-->
              <div class="notebook-content ">
                <!--?lit$520294451$--><div class="add-cell">
      <div class="add-cell-buttons">
        <md-outlined-button class="add-code add-button" data-aria-label="Ajouter une cellule de code
⌘/Ctrl+M B" title="Ajouter une cellule de code
⌘/Ctrl+M B" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$--><div class="outline"></div>
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button" aria-label="Ajouter une cellule de code
⌘/Ctrl+M B">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
          <md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>add</md-icon>
          <!--?lit$520294451$-->Code
        </md-outlined-button>
        <md-outlined-button class="add-text add-button" data-aria-label="Ajouter une cellule de texte" title="Ajouter une cellule de texte" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$--><div class="outline"></div>
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button" aria-label="Ajouter une cellule de texte">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
          <md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>add</md-icon>
          <!--?lit$520294451$-->Texte
        </md-outlined-button>
        <!--?lit$520294451$-->
        <!--?lit$520294451$-->
      </div><hr>
    </div>
                <div class="notebook-cell-list"><div class="cell code notebook-cell code-has-output focused" id="cell-GnSbODBRHEDt" role="region" aria-label="Cellule 0 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"><colab-cell-toolbar><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----> <md-icon-button touch-target="none" aria-describedby="button-move-cell-up-tooltip" data-aria-label="Déplacer la cellule vers le haut
⌘/Ctrl+M K" command="move-cell-up" id="button-move-cell-up" soft-disabled="" value="" style=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Déplacer la cellule vers le haut
⌘/Ctrl+M K" aria-disabled="true">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple disabled="" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->arrow_upward</md-icon>
        <!--?lit$520294451$-->
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="button-move-cell-up" id="button-move-cell-up-tooltip" message="Déplacer la cellule vers le haut
⌘/Ctrl+M K"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Déplacer la cellule vers le haut</div><!----><!----><div><!--?lit$520294451$-->⌘/Ctrl+M K</div><!----><!--?--></template>
      </colab-tooltip-trigger><!----><!----> <md-icon-button touch-target="none" aria-describedby="button-move-cell-down-tooltip" data-aria-label="Déplacer la cellule vers le bas
⌘/Ctrl+M J" command="move-cell-down" id="button-move-cell-down" value="" style=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Déplacer la cellule vers le bas
⌘/Ctrl+M J">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->arrow_downward</md-icon>
        <!--?lit$520294451$-->
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="button-move-cell-down" id="button-move-cell-down-tooltip" message="Déplacer la cellule vers le bas
⌘/Ctrl+M J"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Déplacer la cellule vers le bas</div><!----><!----><div><!--?lit$520294451$-->⌘/Ctrl+M J</div><!----><!--?--></template>
      </colab-tooltip-trigger><!----><!----><!--?lit$520294451$--><md-menu positioning="popover" quick="" aria-labelledby="ai-menu-anchor-GnSbODBRHEDt" anchor="ai-menu-anchor-GnSbODBRHEDt" aria-hidden="true"><template shadowrootmode="open"><!---->
      <div class="menu   " popover="manual" style="display: none;">
        <!--?lit$520294451$--><md-elevation part="elevation" aria-hidden="true"><template shadowrootmode="open"><!----><span class="shadow"></span></template></md-elevation>
        <div class="items">
          <div class="item-padding"> <!--?lit$520294451$--><slot></slot> </div>
        </div>
      </div>
    </template>
    <!--?lit$520294451$--><!----><md-menu-item command="generate-code" md-menu-item="" tabindex="0"><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <li id="item" role="menuitem" class="list-item   " tabindex="0"><!--?lit$520294451$-->
      <md-item><template shadowrootmode="open"><!---->
      <slot name="container"></slot>
      <slot class="non-text" name="start"></slot>
      <div class="text">
        <slot name="overline"></slot>
        <slot class="default-slot"></slot>
        <slot name="headline"></slot>
        <slot name="supporting-text"></slot>
      </div>
      <slot class="non-text" name="trailing-supporting-text"></slot>
      <slot class="non-text" name="end"></slot>
    </template>
        <div slot="container">
          <!--?lit$520294451$--> <md-ripple part="ripple" for="item" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple> <!--?lit$520294451$--> <md-focus-ring part="focus-ring" for="item" inward="" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        <!--?lit$520294451$-->
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot name="trailing-supporting-text" slot="trailing-supporting-text"></slot>
    
      </md-item>
    </li>
    </template>
    <span slot="headline"><!--?lit$520294451$-->Générer un code</span>
  </md-menu-item><!----><!----><md-menu-item command="explain-cell" md-menu-item="" tabindex="-1"><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <li id="item" role="menuitem" class="list-item   " tabindex="0"><!--?lit$520294451$-->
      <md-item><template shadowrootmode="open"><!---->
      <slot name="container"></slot>
      <slot class="non-text" name="start"></slot>
      <div class="text">
        <slot name="overline"></slot>
        <slot class="default-slot"></slot>
        <slot name="headline"></slot>
        <slot name="supporting-text"></slot>
      </div>
      <slot class="non-text" name="trailing-supporting-text"></slot>
      <slot class="non-text" name="end"></slot>
    </template>
        <div slot="container">
          <!--?lit$520294451$--> <md-ripple part="ripple" for="item" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple> <!--?lit$520294451$--> <md-focus-ring part="focus-ring" for="item" inward="" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        <!--?lit$520294451$-->
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot name="trailing-supporting-text" slot="trailing-supporting-text"></slot>
    
      </md-item>
    </li>
    </template>
    <span slot="headline"><!--?lit$520294451$-->Expliquer le code</span>
  </md-menu-item><!----><!----><md-menu-item command="transform-code" md-menu-item="" tabindex="-1"><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <li id="item" role="menuitem" class="list-item   " tabindex="0"><!--?lit$520294451$-->
      <md-item><template shadowrootmode="open"><!---->
      <slot name="container"></slot>
      <slot class="non-text" name="start"></slot>
      <div class="text">
        <slot name="overline"></slot>
        <slot class="default-slot"></slot>
        <slot name="headline"></slot>
        <slot name="supporting-text"></slot>
      </div>
      <slot class="non-text" name="trailing-supporting-text"></slot>
      <slot class="non-text" name="end"></slot>
    </template>
        <div slot="container">
          <!--?lit$520294451$--> <md-ripple part="ripple" for="item" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple> <!--?lit$520294451$--> <md-focus-ring part="focus-ring" for="item" inward="" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        <!--?lit$520294451$-->
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot name="trailing-supporting-text" slot="trailing-supporting-text"></slot>
    
      </md-item>
    </li>
    </template>
    <span slot="headline"><!--?lit$520294451$-->Transformer le code</span>
  </md-menu-item><!---->
  </md-menu>
          <md-icon-button touch-target="none" data-aria-haspopup="menu" data-aria-expanded="false" aria-describedby="ai-menu-anchor-GnSbODBRHEDt-tooltip" data-aria-label="Fonctionnalités d&#39;IA disponibles" id="ai-menu-anchor-GnSbODBRHEDt" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Fonctionnalités d&#39;IA disponibles" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
            <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template> pen_spark </md-icon>
          </md-icon-button>
          <colab-tooltip-trigger aria-hidden="true" for="ai-menu-anchor-GnSbODBRHEDt" id="ai-menu-anchor-GnSbODBRHEDt-tooltip" message="Fonctionnalités d&#39;IA disponibles"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Fonctionnalités d'IA disponibles</div><!----><!--?--></template>
          </colab-tooltip-trigger><!----><!----> <md-icon-button touch-target="none" aria-describedby="button-toggle-edit-markdown-tooltip" data-aria-label="Modifier" command="toggle-edit-markdown" id="button-toggle-edit-markdown" toggle="" style="display: none;" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Modifier" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->edit</md-icon>
        <!--?lit$520294451$--><md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->edit_off</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="button-toggle-edit-markdown" id="button-toggle-edit-markdown-tooltip" message="Modifier"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Modifier</div><!----><!--?--></template>
      </colab-tooltip-trigger><!----><!----> <md-icon-button touch-target="none" aria-describedby="button-delete-cell-or-selection-tooltip" data-aria-label="Supprimer la cellule
⌘/Ctrl+M D" command="delete-cell-or-selection" id="button-delete-cell-or-selection" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Supprimer la cellule
⌘/Ctrl+M D">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->delete</md-icon>
        <!--?lit$520294451$-->
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="button-delete-cell-or-selection" id="button-delete-cell-or-selection-tooltip" message="Supprimer la cellule
⌘/Ctrl+M D"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Supprimer la cellule</div><!----><!----><div><!--?lit$520294451$-->⌘/Ctrl+M D</div><!----><!--?--></template>
      </colab-tooltip-trigger><!----><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" aria-describedby="button-more-actions-tooltip" data-aria-label="Plus d&#39;actions relatives à la cellule" class="cell-toolbar-more" id="button-more-actions" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Plus d&#39;actions relatives à la cellule" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template><md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_vert</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="button-more-actions" id="button-more-actions-tooltip" message="Plus d&#39;actions relatives à la cellule"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Plus d'actions relatives à la cellule</div><!----><!--?--></template>
      </colab-tooltip-trigger><!--?--></template></colab-cell-toolbar></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class="cell-execution focused stale">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><div class="editor flex monaco" data-keybinding-context="1" data-mode-id="notebook-python" style="height: 67px; --vscode-editorCodeLens-lineHeight: 16px; --vscode-editorCodeLens-fontSize: 12px; --vscode-editorCodeLens-fontFeatureSettings: &quot;liga&quot; off, &quot;calt&quot; off;"><div class="monaco-editor no-user-select mac  showUnused showDeprecated vs-dark" role="code" data-uri="inmemory://model/3" style="width: 575px; height: 67px;"><div data-mprt="3" class="overflow-guard" style="width: 575px; height: 67px; overflow: clip;"><div class="margin" role="presentation" aria-hidden="true" style="position: absolute; contain: strict; will-change: unset; top: 0px; height: 67px; width: 6px;"><div class="glyph-margin" style="left: 0px; width: 0px; height: 67px;"></div><div class="margin-view-zones" role="presentation" aria-hidden="true" style="position: absolute;"></div><div class="margin-view-overlays" role="presentation" aria-hidden="true" style="position: absolute; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; width: 6px; height: 67px;"><div style="position:absolute;top:0px;width:100%;height:19px;"><div class="current-line current-line-margin-both" style="width:6px; height:19px;"></div></div><div style="position:absolute;top:19px;width:100%;height:19px;"></div><div style="position:absolute;top:38px;width:100%;height:19px;"></div></div><div class="glyph-margin-widgets" style="position: absolute; top: 0px;"></div></div><div class="monaco-scrollable-element editor-scrollable vs-dark mac" role="presentation" data-mprt="5" style="position: absolute; overflow: hidden; left: 6px; width: 569px; height: 67px;"><div class="lines-content monaco-editor-background" style="position: absolute; overflow: hidden; width: 1e+06px; height: 67px; contain: strict; will-change: unset; top: 0px; left: 0px;"><div class="view-overlays" role="presentation" aria-hidden="true" style="position: absolute; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; height: 0px; width: 569px;"><div style="position:absolute;top:0px;width:100%;height:19px;"><div class="current-line" style="width:569px; height:19px;"></div></div><div style="position:absolute;top:19px;width:100%;height:19px;"></div><div style="position:absolute;top:38px;width:100%;height:19px;"></div></div><div role="presentation" aria-hidden="true" class="view-rulers"></div><div class="view-zones" role="presentation" aria-hidden="true" style="position: absolute;"></div><div class="view-lines monaco-mouse-cursor-text" role="presentation" aria-hidden="true" data-mprt="7" style="position: absolute; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; width: 569px; height: 67px;"><div style="top:0px;height:19px;" class="view-line"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;transformers</span></span></div><div style="top:19px;height:19px;" class="view-line"><span><span class="mtk17">print</span><span class="mtk14 bracket-highlighting-0">(</span><span class="mtk1">transformers.</span><span class="mtk4">__version__</span><span class="mtk14 bracket-highlighting-0">)</span></span></div><div style="top:38px;height:19px;" class="view-line"><span><span></span></span></div></div><div data-mprt="1" class="contentWidgets" style="position: absolute; top: 0px;"></div><div role="presentation" aria-hidden="true" class="cursors-layer cursor-line-style cursor-solid"><div class="cursor monaco-mouse-cursor-text " style="height: 19px; top: 0px; left: 0px; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; display: block; visibility: hidden; padding-left: 0px; width: 2px;"></div></div></div><div role="presentation" aria-hidden="true" class="invisible scrollbar horizontal" style="position: absolute; width: 555px; height: 10px; left: 0px; bottom: 0px;"><div class="slider" style="position: absolute; top: 0px; left: 0px; height: 10px; transform: translate3d(0px, 0px, 0px); contain: strict; will-change: unset; width: 555px;"></div></div><canvas class="decorationsOverviewRuler" aria-hidden="true" width="28" height="134" style="position: absolute; transform: translate3d(0px, 0px, 0px); contain: strict; top: 0px; right: 0px; width: 14px; height: 67px; will-change: unset; display: block;"></canvas><div role="presentation" aria-hidden="true" class="invisible scrollbar vertical" style="position: absolute; width: 14px; height: 67px; right: 0px; top: 0px;"><div class="slider" style="position: absolute; top: 0px; left: 0px; width: 14px; transform: translate3d(0px, 0px, 0px); contain: strict; will-change: unset; height: 67px;"></div></div></div><div role="presentation" aria-hidden="true" style="width: 575px;"></div><textarea data-mprt="6" class="inputarea monaco-mouse-cursor-text" wrap="on" autocorrect="off" autocapitalize="off" autocomplete="off" spellcheck="false" aria-label="Editor content;Press Alt+F1 for Accessibility Options." tabindex="0" role="textbox" aria-roledescription="editor" aria-multiline="true" aria-haspopup="false" aria-autocomplete="both" style="tab-size: 16.8594px; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; top: 0px; left: 6px; width: 84297px; height: 19px;"></textarea><div style="position: absolute; top: 0px; left: 0px; width: 0px; height: 0px;" class="monaco-editor-background textAreaCover"></div><div data-mprt="4" class="overlayWidgets" style="width: 575px;"></div><div data-mprt="8" class="minimap slider-mouseover" role="presentation" aria-hidden="true" style="position: absolute; left: 0px; width: 0px; height: 67px;"><div class="minimap-shadow-hidden" style="height: 67px;"></div><canvas width="0" height="134" style="position: absolute; left: 0px; width: 0px; height: 67px;"></canvas><canvas class="minimap-decorations-layer" width="0" height="134" style="position: absolute; left: 0px; width: 0px; height: 67px;"></canvas><div class="minimap-slider" style="position: absolute; transform: translate3d(0px, 0px, 0px); contain: strict; width: 0px; will-change: unset;"><div class="minimap-slider-horizontal" style="position: absolute; width: 0px; height: 0px;"></div></div></div><div role="presentation" aria-hidden="true" class="blockDecorations-container"></div></div><div data-mprt="2" class="overflowingContentWidgets" style="display: none;"><div widgetid="editor.contrib.resizableContentHoverWidget" style="position: fixed; height: 10px; width: 10px; z-index: 50; display: none; visibility: hidden; max-width: 1185px;"><div class="monaco-sash mac vertical" style="left: 8px;"></div><div class="monaco-sash mac vertical" style="left: -2px;"></div><div class="monaco-sash orthogonal-edge-north mac horizontal" style="top: -2px;"><div class="orthogonal-drag-handle start"></div><div class="orthogonal-drag-handle end"></div></div><div class="monaco-sash orthogonal-edge-south mac horizontal" style="top: 8px;"><div class="orthogonal-drag-handle start"></div><div class="orthogonal-drag-handle end"></div></div><div class="monaco-hover hidden" role="tooltip" tabindex="0"><div class="monaco-scrollable-element  mac" role="presentation" style="position: relative; overflow: hidden;"><div class="monaco-hover-content" style="overflow: hidden; font-size: 14px; line-height: 1.35714; max-width: 500px; max-height: 250px;"></div><div role="presentation" aria-hidden="true" class="invisible scrollbar horizontal" style="position: absolute;"><div class="slider" style="position: absolute; top: 0px; left: 0px; height: 10px; transform: translate3d(0px, 0px, 0px); contain: strict;"></div></div><div role="presentation" aria-hidden="true" class="invisible scrollbar vertical" style="position: absolute;"><div class="slider" style="position: absolute; top: 0px; left: 0px; width: 10px; transform: translate3d(0px, 0px, 0px); contain: strict;"></div></div><div class="shadow"></div><div class="shadow"></div><div class="shadow"></div></div></div></div></div><div class=".in-cell-overflowing"><div widgetid="editor.contrib.quickInputWidget" style="position: absolute; top: 0px; right: 50%;"></div></div></div></div></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 0" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class="menu-button focused" data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>4.57.3
</pre></div></div><div></div></colab-static-output-renderer></div></div><div><div></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <div class="add-cell-buttons">
        <md-outlined-button class="add-code add-button" data-aria-label="Ajouter une cellule de code
⌘/Ctrl+M B" title="Ajouter une cellule de code
⌘/Ctrl+M B" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$--><div class="outline"></div>
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button" aria-label="Ajouter une cellule de code
⌘/Ctrl+M B">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
          <md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>add</md-icon>
          <!--?lit$520294451$-->Code
        </md-outlined-button>
        <md-outlined-button class="add-text add-button" data-aria-label="Ajouter une cellule de texte" title="Ajouter une cellule de texte" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$--><div class="outline"></div>
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button" aria-label="Ajouter une cellule de texte">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
          <md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>add</md-icon>
          <!--?lit$520294451$-->Texte
        </md-outlined-button>
        <!--?lit$520294451$-->
        <!--?lit$520294451$-->
      </div><hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-W4sPkXtAAJS4" role="region" aria-label="Cellule 1 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class="cell-execution stale">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><div class="editor flex monaco" data-keybinding-context="2" data-mode-id="notebook-python" style="height: 29px; --vscode-editorCodeLens-lineHeight: 16px; --vscode-editorCodeLens-fontSize: 12px; --vscode-editorCodeLens-fontFeatureSettings: &quot;liga&quot; off, &quot;calt&quot; off;"><div class="monaco-editor no-user-select mac  showUnused showDeprecated vs-dark" role="code" data-uri="inmemory://model/4" style="width: 575px; height: 29px;"><div data-mprt="3" class="overflow-guard" style="width: 575px; height: 29px; overflow: clip;"><div class="margin" role="presentation" aria-hidden="true" style="position: absolute; contain: strict; will-change: unset; top: 0px; height: 29px; width: 6px;"><div class="glyph-margin" style="left: 0px; width: 0px; height: 29px;"></div><div class="margin-view-zones" role="presentation" aria-hidden="true" style="position: absolute;"></div><div class="margin-view-overlays" role="presentation" aria-hidden="true" style="position: absolute; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; width: 6px; height: 29px;"><div style="position:absolute;top:0px;width:100%;height:19px;"><div class="current-line current-line-margin-both" style="width:6px; height:19px;"></div></div></div><div class="glyph-margin-widgets" style="position: absolute; top: 0px;"></div></div><div class="monaco-scrollable-element editor-scrollable vs-dark mac" role="presentation" data-mprt="5" style="position: absolute; overflow: hidden; left: 6px; width: 569px; height: 29px;"><div class="lines-content monaco-editor-background" style="position: absolute; overflow: hidden; width: 1e+06px; height: 29px; contain: strict; will-change: unset; top: 0px; left: 0px;"><div class="view-overlays" role="presentation" aria-hidden="true" style="position: absolute; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; height: 0px; width: 924px;"><div style="position:absolute;top:0px;width:100%;height:19px;"><div class="current-line" style="width:924px; height:19px;"></div></div></div><div role="presentation" aria-hidden="true" class="view-rulers"><div class="view-ruler" style="width: 2px; height: 29px; left: 674.375px;"></div></div><div class="view-zones" role="presentation" aria-hidden="true" style="position: absolute;"></div><div class="view-lines monaco-mouse-cursor-text" role="presentation" aria-hidden="true" data-mprt="7" style="position: absolute; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; width: 924px; height: 29px;"><div style="top:0px;height:19px;" class="view-line"><span><span class="mtk19">!</span><span class="mtk1">pip&nbsp;-q&nbsp;install&nbsp;-U&nbsp;transformers&nbsp;datasets&nbsp;accelerate</span><span class="mtk1">&nbsp;evaluate&nbsp;sacrebleu&nbsp;sentencepiece&nbsp;scikit-learn&nbsp;job</span><span class="mtk1">lib</span></span></div></div><div data-mprt="1" class="contentWidgets" style="position: absolute; top: 0px;"></div><div role="presentation" aria-hidden="true" class="cursors-layer cursor-line-style cursor-solid"><div class="cursor monaco-mouse-cursor-text " style="height: 19px; top: 0px; left: 0px; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; display: block; visibility: hidden; padding-left: 0px; width: 2px;"></div></div></div><div role="presentation" aria-hidden="true" class="visible scrollbar horizontal" style="position: absolute; width: 555px; height: 10px; left: 0px; bottom: 0px;"><div class="slider" style="position: absolute; top: 0px; left: 0px; height: 10px; transform: translate3d(0px, 0px, 0px); contain: strict; will-change: unset; width: 341px;"></div></div><canvas class="decorationsOverviewRuler" aria-hidden="true" width="28" height="58" style="position: absolute; transform: translate3d(0px, 0px, 0px); contain: strict; top: 0px; right: 0px; width: 14px; height: 29px; will-change: unset; display: block;"></canvas><div role="presentation" aria-hidden="true" class="invisible scrollbar vertical" style="position: absolute; width: 14px; height: 29px; right: 0px; top: 0px;"><div class="slider" style="position: absolute; top: 0px; left: 0px; width: 14px; transform: translate3d(0px, 0px, 0px); contain: strict; will-change: unset; height: 29px;"></div></div></div><div role="presentation" aria-hidden="true" style="width: 575px;"></div><textarea data-mprt="6" class="inputarea monaco-mouse-cursor-text" wrap="on" autocorrect="off" autocapitalize="off" autocomplete="off" spellcheck="false" aria-label="Editor content;Press Alt+F1 for Accessibility Options." tabindex="0" role="textbox" aria-roledescription="editor" aria-multiline="true" aria-haspopup="false" aria-autocomplete="both" style="tab-size: 16.8594px; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; top: 0px; left: 6px; width: 84297px; height: 19px;"></textarea><div style="position: absolute; top: 0px; left: 0px; width: 0px; height: 0px;" class="monaco-editor-background textAreaCover"></div><div data-mprt="4" class="overlayWidgets" style="width: 575px;"><div widgetid="editor.contrib.quickInputWidget" style="position: absolute; top: 0px; right: 50%;"></div></div><div data-mprt="8" class="minimap slider-mouseover" role="presentation" aria-hidden="true" style="position: absolute; left: 0px; width: 0px; height: 29px;"><div class="minimap-shadow-hidden" style="height: 29px;"></div><canvas width="0" height="58" style="position: absolute; left: 0px; width: 0px; height: 29px;"></canvas><canvas class="minimap-decorations-layer" width="0" height="58" style="position: absolute; left: 0px; width: 0px; height: 29px;"></canvas><div class="minimap-slider" style="position: absolute; transform: translate3d(0px, 0px, 0px); contain: strict; width: 0px; will-change: unset;"><div class="minimap-slider-horizontal" style="position: absolute; width: 0px; height: 0px;"></div></div></div><div role="presentation" aria-hidden="true" class="blockDecorations-container"></div></div><div data-mprt="2" class="overflowingContentWidgets"><div widgetid="editor.contrib.resizableContentHoverWidget" style="position: fixed; height: 10px; width: 10px; z-index: 50; display: none; visibility: hidden; max-width: 1185px;"><div class="monaco-sash mac vertical" style="left: 8px;"></div><div class="monaco-sash mac vertical" style="left: -2px;"></div><div class="monaco-sash orthogonal-edge-north mac horizontal" style="top: -2px;"><div class="orthogonal-drag-handle start"></div><div class="orthogonal-drag-handle end"></div></div><div class="monaco-sash orthogonal-edge-south mac horizontal" style="top: 8px;"><div class="orthogonal-drag-handle start"></div><div class="orthogonal-drag-handle end"></div></div><div class="monaco-hover hidden" role="tooltip" tabindex="0"><div class="monaco-scrollable-element  mac" role="presentation" style="position: relative; overflow: hidden;"><div class="monaco-hover-content" style="overflow: hidden; font-size: 14px; line-height: 1.35714; max-width: 500px; max-height: 250px;"></div><div role="presentation" aria-hidden="true" class="invisible scrollbar horizontal" style="position: absolute;"><div class="slider" style="position: absolute; top: 0px; left: 0px; height: 10px; transform: translate3d(0px, 0px, 0px); contain: strict;"></div></div><div role="presentation" aria-hidden="true" class="invisible scrollbar vertical" style="position: absolute;"><div class="slider" style="position: absolute; top: 0px; left: 0px; width: 10px; transform: translate3d(0px, 0px, 0px); contain: strict;"></div></div><div class="shadow"></div><div class="shadow"></div><div class="shadow"></div></div></div></div></div><div class=".in-cell-overflowing"></div></div></div></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 1" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class="menu-button" data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>     <span style="color: var(--ansi-bright-black);">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span><span> </span><span style="color: var(--ansi-green);">44.0/44.0 kB</span><span> </span><span style="color: var(--ansi-red);">2.7 MB/s</span><span> eta </span><span style="color: var(--ansi-cyan);">0:00:00</span><span>
</span>   <span style="color: var(--ansi-bright-black);">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span><span> </span><span style="color: var(--ansi-green);">12.0/12.0 MB</span><span> </span><span style="color: var(--ansi-red);">45.4 MB/s</span><span> eta </span><span style="color: var(--ansi-cyan);">0:00:00</span><span>
</span>   <span style="color: var(--ansi-bright-black);">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span><span> </span><span style="color: var(--ansi-green);">515.2/515.2 kB</span><span> </span><span style="color: var(--ansi-red);">30.0 MB/s</span><span> eta </span><span style="color: var(--ansi-cyan);">0:00:00</span><span>
</span>   <span style="color: var(--ansi-bright-black);">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span><span> </span><span style="color: var(--ansi-green);">84.1/84.1 kB</span><span> </span><span style="color: var(--ansi-red);">5.9 MB/s</span><span> eta </span><span style="color: var(--ansi-cyan);">0:00:00</span><span>
</span>   <span style="color: var(--ansi-bright-black);">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span><span> </span><span style="color: var(--ansi-green);">100.8/100.8 kB</span><span> </span><span style="color: var(--ansi-red);">10.5 MB/s</span><span> eta </span><span style="color: var(--ansi-cyan);">0:00:00</span><span>
</span>   <span style="color: var(--ansi-bright-black);">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span><span> </span><span style="color: var(--ansi-green);">8.9/8.9 MB</span><span> </span><span style="color: var(--ansi-red);">77.0 MB/s</span><span> eta </span><span style="color: var(--ansi-cyan);">0:00:00</span><span>
</span>   <span style="color: var(--ansi-bright-black);">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span><span> </span><span style="color: var(--ansi-green);">47.6/47.6 MB</span><span> </span><span style="color: var(--ansi-red);">15.1 MB/s</span><span> eta </span><span style="color: var(--ansi-cyan);">0:00:00</span><span>
</span></pre></div></div><div></div></colab-static-output-renderer></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <div class="add-cell-buttons">
        <md-outlined-button class="add-code add-button" data-aria-label="Ajouter une cellule de code
⌘/Ctrl+M B" title="Ajouter une cellule de code
⌘/Ctrl+M B" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$--><div class="outline"></div>
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button" aria-label="Ajouter une cellule de code
⌘/Ctrl+M B">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
          <md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>add</md-icon>
          <!--?lit$520294451$-->Code
        </md-outlined-button>
        <md-outlined-button class="add-text add-button" data-aria-label="Ajouter une cellule de texte" title="Ajouter une cellule de texte" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$--><div class="outline"></div>
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button" aria-label="Ajouter une cellule de texte">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
          <md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>add</md-icon>
          <!--?lit$520294451$-->Texte
        </md-outlined-button>
        <!--?lit$520294451$-->
        <!--?lit$520294451$-->
      </div><hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-c9hT9jWkHgs8" role="region" aria-label="Cellule 2 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class="cell-execution stale">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><div class="editor flex monaco" data-keybinding-context="3" data-mode-id="notebook-python" style="height: 504px; --vscode-editorCodeLens-lineHeight: 16px; --vscode-editorCodeLens-fontSize: 12px; --vscode-editorCodeLens-fontFeatureSettings: &quot;liga&quot; off, &quot;calt&quot; off;"><div class="monaco-editor no-user-select mac  showUnused showDeprecated vs-dark" role="code" data-uri="inmemory://model/5" style="width: 575px; height: 504px;"><div data-mprt="3" class="overflow-guard" style="width: 575px; height: 504px; overflow: clip;"><div class="margin" role="presentation" aria-hidden="true" style="position: absolute; contain: strict; will-change: unset; top: 0px; height: 504px; width: 6px;"><div class="glyph-margin" style="left: 0px; width: 0px; height: 504px;"></div><div class="margin-view-zones" role="presentation" aria-hidden="true" style="position: absolute;"></div><div class="margin-view-overlays" role="presentation" aria-hidden="true" style="position: absolute; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; width: 6px; height: 504px;"><div style="position:absolute;top:0px;width:100%;height:19px;"><div class="current-line current-line-margin-both" style="width:6px; height:19px;"></div></div><div style="position:absolute;top:19px;width:100%;height:19px;"></div><div style="position:absolute;top:38px;width:100%;height:19px;"></div><div style="position:absolute;top:57px;width:100%;height:19px;"></div><div style="position:absolute;top:76px;width:100%;height:19px;"></div><div style="position:absolute;top:95px;width:100%;height:19px;"></div><div style="position:absolute;top:114px;width:100%;height:19px;"></div><div style="position:absolute;top:133px;width:100%;height:19px;"></div><div style="position:absolute;top:152px;width:100%;height:19px;"></div><div style="position:absolute;top:171px;width:100%;height:19px;"></div><div style="position:absolute;top:190px;width:100%;height:19px;"></div><div style="position:absolute;top:209px;width:100%;height:19px;"></div><div style="position:absolute;top:228px;width:100%;height:19px;"></div><div style="position:absolute;top:247px;width:100%;height:19px;"></div><div style="position:absolute;top:266px;width:100%;height:19px;"></div><div style="position:absolute;top:285px;width:100%;height:19px;"></div><div style="position:absolute;top:304px;width:100%;height:19px;"></div><div style="position:absolute;top:323px;width:100%;height:19px;"></div><div style="position:absolute;top:342px;width:100%;height:19px;"></div><div style="position:absolute;top:361px;width:100%;height:19px;"></div><div style="position:absolute;top:380px;width:100%;height:19px;"></div><div style="position:absolute;top:399px;width:100%;height:19px;"></div><div style="position:absolute;top:418px;width:100%;height:19px;"></div><div style="position:absolute;top:437px;width:100%;height:19px;"></div><div style="position:absolute;top:456px;width:100%;height:19px;"></div><div style="position:absolute;top:475px;width:100%;height:19px;"></div></div><div class="glyph-margin-widgets" style="position: absolute; top: 0px;"></div></div><div class="monaco-scrollable-element editor-scrollable vs-dark mac" role="presentation" data-mprt="5" style="position: absolute; overflow: hidden; left: 6px; width: 569px; height: 504px;"><div class="lines-content monaco-editor-background" style="position: absolute; overflow: hidden; width: 1e+06px; height: 504px; contain: strict; will-change: unset; top: 0px; left: 0px;"><div class="view-overlays" role="presentation" aria-hidden="true" style="position: absolute; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; height: 0px; width: 696px;"><div style="position:absolute;top:0px;width:100%;height:19px;"><div class="current-line" style="width:696px; height:19px;"></div></div><div style="position:absolute;top:19px;width:100%;height:19px;"></div><div style="position:absolute;top:38px;width:100%;height:19px;"></div><div style="position:absolute;top:57px;width:100%;height:19px;"></div><div style="position:absolute;top:76px;width:100%;height:19px;"><div class="cdr squiggly-warning" style="left:59px;width:67px;height:19px;"></div></div><div style="position:absolute;top:95px;width:100%;height:19px;"></div><div style="position:absolute;top:114px;width:100%;height:19px;"></div><div style="position:absolute;top:133px;width:100%;height:19px;"></div><div style="position:absolute;top:152px;width:100%;height:19px;"></div><div style="position:absolute;top:171px;width:100%;height:19px;"></div><div style="position:absolute;top:190px;width:100%;height:19px;"></div><div style="position:absolute;top:209px;width:100%;height:19px;"></div><div style="position:absolute;top:228px;width:100%;height:19px;"></div><div style="position:absolute;top:247px;width:100%;height:19px;"></div><div style="position:absolute;top:266px;width:100%;height:19px;"></div><div style="position:absolute;top:285px;width:100%;height:19px;"></div><div style="position:absolute;top:304px;width:100%;height:19px;"></div><div style="position:absolute;top:323px;width:100%;height:19px;"></div><div style="position:absolute;top:342px;width:100%;height:19px;"></div><div style="position:absolute;top:361px;width:100%;height:19px;"></div><div style="position:absolute;top:380px;width:100%;height:19px;"></div><div style="position:absolute;top:399px;width:100%;height:19px;"></div><div style="position:absolute;top:418px;width:100%;height:19px;"></div><div style="position:absolute;top:437px;width:100%;height:19px;"></div><div style="position:absolute;top:456px;width:100%;height:19px;"></div><div style="position:absolute;top:475px;width:100%;height:19px;"></div></div><div role="presentation" aria-hidden="true" class="view-rulers"><div class="view-ruler" style="width: 2px; height: 504px; left: 674.375px;"></div></div><div class="view-zones" role="presentation" aria-hidden="true" style="position: absolute;"></div><div class="view-lines monaco-mouse-cursor-text" role="presentation" aria-hidden="true" data-mprt="7" style="position: absolute; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; width: 696px; height: 504px;"><div style="top:0px;height:19px;" class="view-line"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;os</span><span class="mtk14">,</span><span class="mtk1">&nbsp;json</span></span></div><div style="top:19px;height:19px;" class="view-line"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;numpy&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;np</span></span></div><div style="top:38px;height:19px;" class="view-line"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;torch</span></span></div><div style="top:57px;height:19px;" class="view-line"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;transformers</span></span></div><div style="top:76px;height:19px;" class="view-line"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;evaluate</span></span></div><div style="top:95px;height:19px;" class="view-line"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;joblib</span></span></div><div style="top:114px;height:19px;" class="view-line"><span><span></span></span></div><div style="top:133px;height:19px;" class="view-line"><span><span class="mtk20">from</span><span class="mtk1">&nbsp;datasets&nbsp;</span><span class="mtk20">import</span><span class="mtk1">&nbsp;load_dataset</span><span class="mtk14">,</span><span class="mtk1">&nbsp;DatasetDict</span></span></div><div style="top:152px;height:19px;" class="view-line"><span><span class="mtk20">from</span><span class="mtk1">&nbsp;transformers&nbsp;</span><span class="mtk20">import</span><span class="mtk1">&nbsp;</span><span class="mtk14 bracket-highlighting-0">(</span></span></div><div style="top:171px;height:19px;" class="view-line"><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;AutoTokenizer</span><span class="mtk14">,</span><span class="mtk1">&nbsp;AutoModelForSequenceClassification</span><span class="mtk14">,</span></span></div><div style="top:190px;height:19px;" class="view-line"><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;Trainer</span><span class="mtk14">,</span><span class="mtk1">&nbsp;DataCollatorWithPadding</span><span class="mtk14">,</span></span></div><div style="top:209px;height:19px;" class="view-line"><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;T5Tokenizer</span><span class="mtk14">,</span><span class="mtk1">&nbsp;T5ForConditionalGeneration</span><span class="mtk14">,</span></span></div><div style="top:228px;height:19px;" class="view-line"><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;Seq2SeqTrainingArguments</span><span class="mtk14">,</span><span class="mtk1">&nbsp;Seq2SeqTrainer</span><span class="mtk14">,</span></span></div><div style="top:247px;height:19px;" class="view-line"><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;DataCollatorForSeq2Seq</span></span></div><div style="top:266px;height:19px;" class="view-line"><span><span class="mtk14 bracket-highlighting-0">)</span></span></div><div style="top:285px;height:19px;" class="view-line"><span><span></span></span></div><div style="top:304px;height:19px;" class="view-line"><span><span class="mtk20">from</span><span class="mtk1">&nbsp;sklearn.model_selection&nbsp;</span><span class="mtk20">import</span><span class="mtk1">&nbsp;train_test_split</span></span></div><div style="top:323px;height:19px;" class="view-line"><span><span class="mtk20">from</span><span class="mtk1">&nbsp;sklearn.linear_model&nbsp;</span><span class="mtk20">import</span><span class="mtk1">&nbsp;LogisticRegression</span></span></div><div style="top:342px;height:19px;" class="view-line"><span><span class="mtk20">from</span><span class="mtk1">&nbsp;sklearn.metrics&nbsp;</span><span class="mtk20">import</span><span class="mtk1">&nbsp;classification_report</span><span class="mtk14">,</span><span class="mtk1">&nbsp;confusion_matrix</span><span class="mtk14">,</span><span class="mtk1">&nbsp;f1_score</span></span></div><div style="top:361px;height:19px;" class="view-line"><span><span></span></span></div><div style="top:380px;height:19px;" class="view-line"><span><span class="mtk17">print</span><span class="mtk14 bracket-highlighting-0">(</span><span class="mtk5">"transformers:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;transformers.</span><span class="mtk4">__version__</span><span class="mtk14 bracket-highlighting-0">)</span></span></div><div style="top:399px;height:19px;" class="view-line"><span><span class="mtk1">device&nbsp;=&nbsp;torch.device</span><span class="mtk14 bracket-highlighting-0">(</span><span class="mtk5">"cuda"</span><span class="mtk1">&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;torch.cuda.is_available</span><span class="mtk14 bracket-highlighting-1">(</span><span class="mtk14 bracket-highlighting-1">)</span><span class="mtk1">&nbsp;</span><span class="mtk20">else</span><span class="mtk1">&nbsp;</span><span class="mtk5">"cpu"</span><span class="mtk14 bracket-highlighting-0">)</span></span></div><div style="top:418px;height:19px;" class="view-line"><span><span class="mtk17">print</span><span class="mtk14 bracket-highlighting-0">(</span><span class="mtk5">"CUDA:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;torch.cuda.is_available</span><span class="mtk14 bracket-highlighting-1">(</span><span class="mtk14 bracket-highlighting-1">)</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"|&nbsp;device:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;device</span><span class="mtk14 bracket-highlighting-0">)</span></span></div><div style="top:437px;height:19px;" class="view-line"><span><span></span></span></div><div style="top:456px;height:19px;" class="view-line"><span><span class="mtk8">#&nbsp;SAFE&nbsp;import&nbsp;for&nbsp;TrainingArguments&nbsp;(avoids&nbsp;weird&nbsp;</span><span class="mtk8">shadowing)</span></span></div><div style="top:475px;height:19px;" class="view-line"><span><span class="mtk1">TrainingArguments&nbsp;=&nbsp;transformers.TrainingArguments</span></span></div></div><div data-mprt="1" class="contentWidgets" style="position: absolute; top: 0px;"><div class="lightBulbWidget codicon codicon-light-bulb" widgetid="LightBulbWidget" title="Show Code Actions (⌘.)" style="position: absolute; display: none; visibility: hidden; max-width: 569px;"></div></div><div role="presentation" aria-hidden="true" class="cursors-layer cursor-line-style cursor-solid"><div class="cursor monaco-mouse-cursor-text " style="height: 19px; top: 0px; left: 0px; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; display: block; visibility: hidden; padding-left: 0px; width: 2px;"></div></div></div><div role="presentation" aria-hidden="true" class="visible scrollbar horizontal" style="position: absolute; width: 555px; height: 10px; left: 0px; bottom: 0px;"><div class="slider" style="position: absolute; top: 0px; left: 0px; height: 10px; transform: translate3d(0px, 0px, 0px); contain: strict; will-change: unset; width: 453px;"></div></div><canvas class="decorationsOverviewRuler" aria-hidden="true" width="28" height="1008" style="position: absolute; transform: translate3d(0px, 0px, 0px); contain: strict; top: 0px; right: 0px; width: 14px; height: 504px; will-change: unset; display: block;"></canvas><div role="presentation" aria-hidden="true" class="invisible scrollbar vertical" style="position: absolute; width: 14px; height: 504px; right: 0px; top: 0px;"><div class="slider" style="position: absolute; top: 0px; left: 0px; width: 14px; transform: translate3d(0px, 0px, 0px); contain: strict; will-change: unset; height: 504px;"></div></div></div><div role="presentation" aria-hidden="true" style="width: 575px;"></div><textarea data-mprt="6" class="inputarea monaco-mouse-cursor-text" wrap="on" autocorrect="off" autocapitalize="off" autocomplete="off" spellcheck="false" aria-label="Editor content;Press Alt+F1 for Accessibility Options." tabindex="0" role="textbox" aria-roledescription="editor" aria-multiline="true" aria-haspopup="false" aria-autocomplete="both" style="tab-size: 16.8594px; font-family: monospace, Menlo, Monaco, &quot;Courier New&quot;, monospace; font-weight: normal; font-size: 14px; font-feature-settings: &quot;liga&quot; 0, &quot;calt&quot; 0; font-variation-settings: normal; line-height: 19px; letter-spacing: 0px; top: 0px; left: 6px; width: 84297px; height: 19px;"></textarea><div style="position: absolute; top: 0px; left: 0px; width: 0px; height: 0px;" class="monaco-editor-background textAreaCover"></div><div data-mprt="4" class="overlayWidgets" style="width: 575px;"><div widgetid="editor.contrib.quickInputWidget" style="position: absolute; top: 0px; right: 50%;"></div></div><div data-mprt="8" class="minimap slider-mouseover" role="presentation" aria-hidden="true" style="position: absolute; left: 0px; width: 0px; height: 504px;"><div class="minimap-shadow-hidden" style="height: 504px;"></div><canvas width="0" height="1008" style="position: absolute; left: 0px; width: 0px; height: 504px;"></canvas><canvas class="minimap-decorations-layer" width="0" height="1008" style="position: absolute; left: 0px; width: 0px; height: 504px;"></canvas><div class="minimap-slider" style="position: absolute; transform: translate3d(0px, 0px, 0px); contain: strict; width: 0px; will-change: unset;"><div class="minimap-slider-horizontal" style="position: absolute; width: 0px; height: 0px;"></div></div></div><div role="presentation" aria-hidden="true" class="blockDecorations-container"></div></div><div data-mprt="2" class="overflowingContentWidgets"><div widgetid="editor.contrib.resizableContentHoverWidget" style="position: fixed; height: 10px; width: 10px; z-index: 50; display: none; visibility: hidden; max-width: 1185px;"><div class="monaco-sash mac vertical" style="left: 8px;"></div><div class="monaco-sash mac vertical" style="left: -2px;"></div><div class="monaco-sash orthogonal-edge-north mac horizontal" style="top: -2px;"><div class="orthogonal-drag-handle start"></div><div class="orthogonal-drag-handle end"></div></div><div class="monaco-sash orthogonal-edge-south mac horizontal" style="top: 8px;"><div class="orthogonal-drag-handle start"></div><div class="orthogonal-drag-handle end"></div></div><div class="monaco-hover hidden" role="tooltip" tabindex="0"><div class="monaco-scrollable-element  mac" role="presentation" style="position: relative; overflow: hidden;"><div class="monaco-hover-content" style="overflow: hidden; font-size: 14px; line-height: 1.35714; max-width: 500px; max-height: 250px;"></div><div role="presentation" aria-hidden="true" class="invisible scrollbar horizontal" style="position: absolute;"><div class="slider" style="position: absolute; top: 0px; left: 0px; height: 10px; transform: translate3d(0px, 0px, 0px); contain: strict;"></div></div><div role="presentation" aria-hidden="true" class="invisible scrollbar vertical" style="position: absolute;"><div class="slider" style="position: absolute; top: 0px; left: 0px; width: 10px; transform: translate3d(0px, 0px, 0px); contain: strict;"></div></div><div class="shadow"></div><div class="shadow"></div><div class="shadow"></div></div></div></div></div><div class=".in-cell-overflowing"></div></div></div></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 2" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class="menu-button" data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>transformers: 4.57.3
CUDA: True | device: cuda
</pre></div></div><div></div></colab-static-output-renderer></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-JyuxhXJAHiAs" role="region" aria-label="Cellule 3 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;2:&nbsp;Load&nbsp;dataset&nbsp;+&nbsp;Clean</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk1">dataset&nbsp;=&nbsp;load_dataset</span><span class="mtk14">(</span><span class="mtk5">"bitext/Bitext-customer-support-llm-chatbot-traini</span><span class="mtk5">ng-dataset"</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">remove_cols&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk1">c&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;c&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk14">[</span><span class="mtk5">"flags"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"category"</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;c&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;dataset</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">]</span><span class="mtk1">.column_names</span><span class="mtk14">]</span></span><br><span><span class="mtk20">if</span><span class="mtk1">&nbsp;remove_cols</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;dataset.remove_columns</span><span class="mtk14">(</span><span class="mtk1">remove_cols</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">full&nbsp;=&nbsp;dataset</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">]</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Columns:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;full.column_names</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Total&nbsp;samples:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">full</span><span class="mtk14">))</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Example:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;full</span><span class="mtk14">[</span><span class="mtk6">0</span><span class="mtk14">])</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 3" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div style="height: 289px;"><div class="outputview" style="height: 294px;"><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe.html" class="" style="height: 294px;"></iframe></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-mx9-QlZxHjVt" role="region" aria-label="Cellule 4 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;3:&nbsp;Split&nbsp;train/val/meta_dev/eval</span></span><br><span><span class="mtk8">#&nbsp;70%&nbsp;train_full,&nbsp;30%&nbsp;temp</span></span><br><span><span class="mtk8">#&nbsp;temp&nbsp;-&gt;&nbsp;50/50&nbsp;=&gt;&nbsp;meta_dev,&nbsp;eval</span></span><br><span><span class="mtk8">#&nbsp;train_full&nbsp;-&gt;&nbsp;90/10&nbsp;=&gt;&nbsp;train,&nbsp;val</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk1">split_main&nbsp;=&nbsp;full.train_test_split</span><span class="mtk14">(</span><span class="mtk1">test_size=</span><span class="mtk6">0.30</span><span class="mtk14">,</span><span class="mtk1">&nbsp;seed=</span><span class="mtk6">42</span><span class="mtk14">)</span></span><br><span><span class="mtk1">train_full&nbsp;=&nbsp;split_main</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">temp&nbsp;=&nbsp;split_main</span><span class="mtk14">[</span><span class="mtk5">"test"</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">split_temp&nbsp;=&nbsp;temp.train_test_split</span><span class="mtk14">(</span><span class="mtk1">test_size=</span><span class="mtk6">0.5</span><span class="mtk14">,</span><span class="mtk1">&nbsp;seed=</span><span class="mtk6">42</span><span class="mtk14">)</span></span><br><span><span class="mtk1">meta_dev&nbsp;=&nbsp;split_temp</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">eval_ds&nbsp;=&nbsp;split_temp</span><span class="mtk14">[</span><span class="mtk5">"test"</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">split_base&nbsp;=&nbsp;train_full.train_test_split</span><span class="mtk14">(</span><span class="mtk1">test_size=</span><span class="mtk6">0.1</span><span class="mtk14">,</span><span class="mtk1">&nbsp;seed=</span><span class="mtk6">42</span><span class="mtk14">)</span></span><br><span><span class="mtk1">train_ds&nbsp;=&nbsp;split_base</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">val_ds&nbsp;=&nbsp;split_base</span><span class="mtk14">[</span><span class="mtk5">"test"</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">data_splits&nbsp;=&nbsp;DatasetDict</span><span class="mtk14">({</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"train"</span><span class="mtk14">:</span><span class="mtk1">&nbsp;train_ds</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"val"</span><span class="mtk14">:</span><span class="mtk1">&nbsp;val_ds</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"meta_dev"</span><span class="mtk14">:</span><span class="mtk1">&nbsp;meta_dev</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"eval"</span><span class="mtk14">:</span><span class="mtk1">&nbsp;eval_ds</span></span><br><span><span class="mtk14">})</span></span><br><span><span></span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"train:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">data_splits</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">]))</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"val:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">data_splits</span><span class="mtk14">[</span><span class="mtk5">"val"</span><span class="mtk14">]))</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"meta_dev:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">data_splits</span><span class="mtk14">[</span><span class="mtk5">"meta_dev"</span><span class="mtk14">]))</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"eval:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">data_splits</span><span class="mtk14">[</span><span class="mtk5">"eval"</span><span class="mtk14">]))</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 4" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>train: 16929
val: 1881
meta_dev: 4031
eval: 4031
</pre></div></div><div></div></colab-static-output-renderer></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-dJ1EJLHxHmLF" role="region" aria-label="Cellule 5 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;4:&nbsp;Label&nbsp;mapping&nbsp;for&nbsp;intent&nbsp;(from&nbsp;TRAIN&nbsp;onl</span><span class="mtk8">y)</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk1">intents&nbsp;=&nbsp;</span><span class="mtk17">sorted</span><span class="mtk14">(</span><span class="mtk16">list</span><span class="mtk14">(</span><span class="mtk16">set</span><span class="mtk14">(</span><span class="mtk1">data_splits</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">][</span><span class="mtk5">"intent"</span><span class="mtk14">])))</span></span><br><span><span class="mtk1">label2id&nbsp;=&nbsp;</span><span class="mtk14">{</span><span class="mtk1">lbl</span><span class="mtk14">:</span><span class="mtk1">&nbsp;i&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;i</span><span class="mtk14">,</span><span class="mtk1">&nbsp;lbl&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk17">enumerate</span><span class="mtk14">(</span><span class="mtk1">intents</span><span class="mtk14">)}</span></span><br><span><span class="mtk1">id2label&nbsp;=&nbsp;</span><span class="mtk14">{</span><span class="mtk1">i</span><span class="mtk14">:</span><span class="mtk1">&nbsp;lbl&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;lbl</span><span class="mtk14">,</span><span class="mtk1">&nbsp;i&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;label2id.items</span><span class="mtk14">()}</span></span><br><span><span></span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Number&nbsp;of&nbsp;intents:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">intents</span><span class="mtk14">))</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"label2id&nbsp;sample:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">list</span><span class="mtk14">(</span><span class="mtk1">label2id.items</span><span class="mtk14">())[:</span><span class="mtk6">10</span><span class="mtk14">])</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;sanity&nbsp;check</span></span><br><span><span class="mtk1">unseen_val&nbsp;=&nbsp;</span><span class="mtk16">set</span><span class="mtk14">(</span><span class="mtk1">data_splits</span><span class="mtk14">[</span><span class="mtk5">"val"</span><span class="mtk14">][</span><span class="mtk5">"intent"</span><span class="mtk14">])</span><span class="mtk1">&nbsp;-&nbsp;</span><span class="mtk16">set</span><span class="mtk14">(</span><span class="mtk1">intents</span><span class="mtk14">)</span></span><br><span><span class="mtk1">unseen_eval&nbsp;=&nbsp;</span><span class="mtk16">set</span><span class="mtk14">(</span><span class="mtk1">data_splits</span><span class="mtk14">[</span><span class="mtk5">"eval"</span><span class="mtk14">][</span><span class="mtk5">"intent"</span><span class="mtk14">])</span><span class="mtk1">&nbsp;-&nbsp;</span><span class="mtk16">set</span><span class="mtk14">(</span><span class="mtk1">intents</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Unseen&nbsp;intents&nbsp;in&nbsp;val:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;unseen_val</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Unseen&nbsp;intents&nbsp;in&nbsp;eval:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;unseen_eval</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">add_label</span><span class="mtk1">(</span><span class="mtk4">ex</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;ex</span><span class="mtk14">[</span><span class="mtk5">"label"</span><span class="mtk14">]</span><span class="mtk1">&nbsp;=&nbsp;label2id</span><span class="mtk14">[</span><span class="mtk1">ex</span><span class="mtk14">[</span><span class="mtk5">"intent"</span><span class="mtk14">]]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;ex</span></span><br><span><span></span></span><br><span><span class="mtk20">for</span><span class="mtk1">&nbsp;split&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"val"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"meta_dev"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"eval"</span><span class="mtk14">]:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;data_splits</span><span class="mtk14">[</span><span class="mtk1">split</span><span class="mtk14">]</span><span class="mtk1">&nbsp;=&nbsp;data_splits</span><span class="mtk14">[</span><span class="mtk1">split</span><span class="mtk14">]</span><span class="mtk1">.</span><span class="mtk17">map</span><span class="mtk14">(</span><span class="mtk1">add_label</span><span class="mtk14">)</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 5" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div style="height: 234px;"><div class="outputview" style="height: 236px;"><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(1).html" class="" style="height: 236px;"></iframe></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-7KZNOiWsHnqU" role="region" aria-label="Cellule 6 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;5:&nbsp;Tokenize&nbsp;for&nbsp;BERT</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk1">bert_name&nbsp;=&nbsp;</span><span class="mtk5">"bert-base-uncased"</span></span><br><span><span class="mtk1">bert_tok&nbsp;=&nbsp;AutoTokenizer.from_pretrained</span><span class="mtk14">(</span><span class="mtk1">bert_name</span><span class="mtk14">)</span></span><br><span><span class="mtk1">MAX_LEN_BERT&nbsp;=&nbsp;</span><span class="mtk6">128</span></span><br><span><span></span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">tok_bert</span><span class="mtk1">(</span><span class="mtk4">batch</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;bert_tok</span><span class="mtk14">(</span><span class="mtk1">batch</span><span class="mtk14">[</span><span class="mtk5">"instruction"</span><span class="mtk14">],</span><span class="mtk1">&nbsp;truncation=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_length=MAX_LEN_BERT</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">tokenized_bert&nbsp;=&nbsp;data_splits.</span><span class="mtk17">map</span><span class="mtk14">(</span><span class="mtk1">tok_bert</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batched=</span><span class="mtk9">True</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;remove&nbsp;text&nbsp;columns&nbsp;from&nbsp;tokenized</span></span><br><span><span class="mtk1">text_cols&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk1">c&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;c&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk14">[</span><span class="mtk5">"instruction"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"intent"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"response"</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;c&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;tokenized_bert</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">]</span><span class="mtk1">.column_names</span><span class="mtk14">]</span></span><br><span><span class="mtk20">for</span><span class="mtk1">&nbsp;split&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"val"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"meta_dev"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"eval"</span><span class="mtk14">]:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;tokenized_bert</span><span class="mtk14">[</span><span class="mtk1">split</span><span class="mtk14">]</span><span class="mtk1">&nbsp;=&nbsp;tokenized_bert</span><span class="mtk14">[</span><span class="mtk1">split</span><span class="mtk14">]</span><span class="mtk1">.remove_columns</span><span class="mtk14">(</span><span class="mtk1">text_cols</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;tokenized_bert</span><span class="mtk14">[</span><span class="mtk1">split</span><span class="mtk14">]</span><span class="mtk1">.set_format</span><span class="mtk14">(</span><span class="mtk16">type</span><span class="mtk1">=</span><span class="mtk5">"torch"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;columns=</span><span class="mtk14">[</span><span class="mtk5">"input_ids"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"attention_mask"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"label"</span><span class="mtk14">])</span></span><br><span><span></span></span><br><span><span class="mtk1">bert_collator&nbsp;=&nbsp;DataCollatorWithPadding</span><span class="mtk14">(</span><span class="mtk1">tokenizer=bert_tok</span><span class="mtk14">)</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 6" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div style="height: 273px;"><div class="outputview" style="height: 273px;"><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(2).html" class="" style="height: 273px;"></iframe></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-P68avB5-Hpol" role="region" aria-label="Cellule 7 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;6:&nbsp;Train&nbsp;BERT&nbsp;Intent&nbsp;Classifier</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk1">bert_model&nbsp;=&nbsp;AutoModelForSequenceClassification.fr</span><span class="mtk1">om_pretrained</span><span class="mtk14">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;bert_name</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;num_labels=</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">intents</span><span class="mtk14">),</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;id2label=id2label</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;label2id=label2id</span></span><br><span><span class="mtk14">)</span><span class="mtk1">.to</span><span class="mtk14">(</span><span class="mtk1">device</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">acc_metric&nbsp;=&nbsp;evaluate.load</span><span class="mtk14">(</span><span class="mtk5">"accuracy"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">f1_metric&nbsp;=&nbsp;evaluate.load</span><span class="mtk14">(</span><span class="mtk5">"f1"</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">compute_metrics_intent</span><span class="mtk1">(</span><span class="mtk4">eval_pred</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;logits</span><span class="mtk14">,</span><span class="mtk1">&nbsp;labels&nbsp;=&nbsp;eval_pred</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;preds&nbsp;=&nbsp;np.argmax</span><span class="mtk14">(</span><span class="mtk1">logits</span><span class="mtk14">,</span><span class="mtk1">&nbsp;axis=</span><span class="mtk6">-1</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;acc&nbsp;=&nbsp;acc_metric.compute</span><span class="mtk14">(</span><span class="mtk1">predictions=preds</span><span class="mtk14">,</span><span class="mtk1">&nbsp;references=labels</span><span class="mtk14">)[</span><span class="mtk5">"accuracy"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;f1m&nbsp;=&nbsp;f1_metric.compute</span><span class="mtk14">(</span><span class="mtk1">predictions=preds</span><span class="mtk14">,</span><span class="mtk1">&nbsp;references=labels</span><span class="mtk14">,</span><span class="mtk1">&nbsp;average=</span><span class="mtk5">"macro"</span><span class="mtk14">)[</span><span class="mtk5">"f1"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;</span><span class="mtk14">{</span><span class="mtk5">"accuracy"</span><span class="mtk14">:</span><span class="mtk1">&nbsp;acc</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"f1_macro"</span><span class="mtk14">:</span><span class="mtk1">&nbsp;f1m</span><span class="mtk14">}</span></span><br><span><span></span></span><br><span><span class="mtk1">bert_args&nbsp;=&nbsp;TrainingArguments</span><span class="mtk14">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;output_dir=</span><span class="mtk5">"./bert_intent"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;eval_strategy=</span><span class="mtk5">"steps"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;eval_steps=</span><span class="mtk6">500</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;save_strategy=</span><span class="mtk5">"steps"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;save_steps=</span><span class="mtk6">500</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;learning_rate=</span><span class="mtk6">2e-5</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;per_device_train_batch_size=</span><span class="mtk6">2</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;per_device_eval_batch_size=</span><span class="mtk6">2</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;gradient_accumulation_steps=</span><span class="mtk6">8</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;max_steps=</span><span class="mtk6">2000</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;logging_steps=</span><span class="mtk6">50</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;load_best_model_at_end=</span><span class="mtk9">True</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;metric_for_best_model=</span><span class="mtk5">"accuracy"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;report_to=</span><span class="mtk5">"none"</span></span><br><span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span></span></span><br><span><span class="mtk1">bert_trainer&nbsp;=&nbsp;Trainer</span><span class="mtk14">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;model=bert_model</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;args=bert_args</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;train_dataset=tokenized_bert</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">],</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;eval_dataset=tokenized_bert</span><span class="mtk14">[</span><span class="mtk5">"val"</span><span class="mtk14">],</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;tokenizer=bert_tok</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;data_collator=bert_collator</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;compute_metrics=compute_metrics_intent</span></span><br><span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">bert_trainer.train</span><span class="mtk14">()</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"VAL:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;bert_trainer.evaluate</span><span class="mtk14">(</span><span class="mtk1">tokenized_bert</span><span class="mtk14">[</span><span class="mtk5">"val"</span><span class="mtk14">]))</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"EVAL:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;bert_trainer.evaluate</span><span class="mtk14">(</span><span class="mtk1">tokenized_bert</span><span class="mtk14">[</span><span class="mtk5">"eval"</span><span class="mtk14">]))</span></span><br><span><span></span></span><br><span><span class="mtk1">bert_best_dir&nbsp;=&nbsp;</span><span class="mtk5">"./bert_intent_best"</span></span><br><span><span class="mtk1">bert_trainer.save_model</span><span class="mtk14">(</span><span class="mtk1">bert_best_dir</span><span class="mtk14">)</span></span><br><span><span class="mtk1">bert_tok.save_pretrained</span><span class="mtk14">(</span><span class="mtk1">bert_best_dir</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Saved&nbsp;BERT&nbsp;to:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;bert_best_dir</span><span class="mtk14">)</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 7" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div style="height: 342px;"><div class="outputview" style="height: 366px;"><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(3).html" class="" style="height: 366px;"></iframe></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-dV6AGwxYHyPE" role="region" aria-label="Cellule 8 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;7:&nbsp;Predict&nbsp;intent&nbsp;helper&nbsp;(batch)</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk17">@torch.no_grad</span><span class="mtk14">()</span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">predict_intents</span><span class="mtk1">(</span><span class="mtk4">texts</span><span class="mtk1">,&nbsp;</span><span class="mtk4">batch_size</span><span class="mtk1">=</span><span class="mtk6">64</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;bert_model.</span><span class="mtk17">eval</span><span class="mtk14">()</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;=&nbsp;</span><span class="mtk14">[]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;i&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk17">range</span><span class="mtk14">(</span><span class="mtk6">0</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">texts</span><span class="mtk14">),</span><span class="mtk1">&nbsp;batch_size</span><span class="mtk14">):</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;batch&nbsp;=&nbsp;texts</span><span class="mtk14">[</span><span class="mtk1">i</span><span class="mtk14">:</span><span class="mtk1">i+batch_size</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enc&nbsp;=&nbsp;bert_tok</span><span class="mtk14">(</span><span class="mtk1">batch</span><span class="mtk14">,</span><span class="mtk1">&nbsp;return_tensors=</span><span class="mtk5">"pt"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;padding=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;truncation=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_length=MAX_LEN_BERT</span><span class="mtk14">)</span><span class="mtk1">.to</span><span class="mtk14">(</span><span class="mtk1">device</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logits&nbsp;=&nbsp;bert_model</span><span class="mtk14">(</span><span class="mtk1">**enc</span><span class="mtk14">)</span><span class="mtk1">.logits</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pred_ids&nbsp;=&nbsp;torch.argmax</span><span class="mtk14">(</span><span class="mtk1">logits</span><span class="mtk14">,</span><span class="mtk1">&nbsp;dim=</span><span class="mtk6">-1</span><span class="mtk14">)</span><span class="mtk1">.cpu</span><span class="mtk14">()</span><span class="mtk1">.tolist</span><span class="mtk14">()</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.extend</span><span class="mtk14">([</span><span class="mtk1">id2label</span><span class="mtk14">[</span><span class="mtk1">j</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;j&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;pred_ids</span><span class="mtk14">])</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;out</span></span><br><span><span></span></span><br><span><span class="mtk1">demo&nbsp;=&nbsp;</span><span class="mtk5">"I&nbsp;want&nbsp;to&nbsp;reset&nbsp;my&nbsp;password&nbsp;but&nbsp;I&nbsp;can't&nbsp;access&nbsp;my</span><span class="mtk5">&nbsp;email"</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Demo&nbsp;intent:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;predict_intents</span><span class="mtk14">([</span><span class="mtk1">demo</span><span class="mtk14">])[</span><span class="mtk6">0</span><span class="mtk14">])</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 8" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>Demo intent: recover_password
</pre></div></div><div></div></colab-static-output-renderer></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-qkEQlo75H1ct" role="region" aria-label="Cellule 9 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;8:&nbsp;T5&nbsp;SIMPLE&nbsp;training&nbsp;(instruction&nbsp;-&gt;&nbsp;respo</span><span class="mtk8">nse)</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk1">t5_name&nbsp;=&nbsp;</span><span class="mtk5">"t5-small"</span></span><br><span><span class="mtk1">t5_tok&nbsp;=&nbsp;T5Tokenizer.from_pretrained</span><span class="mtk14">(</span><span class="mtk1">t5_name</span><span class="mtk14">)</span></span><br><span><span class="mtk1">t5_simple_model&nbsp;=&nbsp;T5ForConditionalGeneration.from_</span><span class="mtk1">pretrained</span><span class="mtk14">(</span><span class="mtk1">t5_name</span><span class="mtk14">)</span><span class="mtk1">.to</span><span class="mtk14">(</span><span class="mtk1">device</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">MAX_IN_SIMPLE&nbsp;=&nbsp;</span><span class="mtk6">128</span></span><br><span><span class="mtk1">MAX_OUT_SIMPLE&nbsp;=&nbsp;</span><span class="mtk6">128</span></span><br><span><span></span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">preprocess_t5_simple</span><span class="mtk1">(</span><span class="mtk4">batch</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;inputs&nbsp;=&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"instruction"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;targets&nbsp;=&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"response"</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;model_inputs&nbsp;=&nbsp;t5_tok</span><span class="mtk14">(</span><span class="mtk1">inputs</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_length=MAX_IN_SIMPLE</span><span class="mtk14">,</span><span class="mtk1">&nbsp;truncation=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;padding=</span><span class="mtk5">"max_length"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;labels&nbsp;=&nbsp;t5_tok</span><span class="mtk14">(</span><span class="mtk1">text_target=targets</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_length=MAX_OUT_SIMPLE</span><span class="mtk14">,</span><span class="mtk1">&nbsp;truncation=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;padding=</span><span class="mtk5">"max_length"</span><span class="mtk14">)[</span><span class="mtk5">"input_ids"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;labels&nbsp;=&nbsp;</span><span class="mtk14">[[</span><span class="mtk1">tok&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;tok&nbsp;!=&nbsp;t5_tok.pad_token_id&nbsp;</span><span class="mtk20">else</span><span class="mtk1">&nbsp;</span><span class="mtk6">-100</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;tok&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;seq</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;seq&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;labels</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;model_inputs</span><span class="mtk14">[</span><span class="mtk5">"labels"</span><span class="mtk14">]</span><span class="mtk1">&nbsp;=&nbsp;labels</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;model_inputs</span></span><br><span><span></span></span><br><span><span class="mtk1">t5_simple_train&nbsp;=&nbsp;data_splits</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">]</span><span class="mtk1">.</span><span class="mtk17">map</span><span class="mtk14">(</span><span class="mtk1">preprocess_t5_simple</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batched=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;remove_columns=data_splits</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">]</span><span class="mtk1">.column_names</span><span class="mtk14">)</span></span><br><span><span class="mtk1">t5_simple_val&nbsp;&nbsp;&nbsp;=&nbsp;data_splits</span><span class="mtk14">[</span><span class="mtk5">"val"</span><span class="mtk14">]</span><span class="mtk1">.</span><span class="mtk17">map</span><span class="mtk14">(</span><span class="mtk1">preprocess_t5_simple</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batched=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;remove_columns=data_splits</span><span class="mtk14">[</span><span class="mtk5">"val"</span><span class="mtk14">]</span><span class="mtk1">.column_names</span><span class="mtk14">)</span></span><br><span><span class="mtk1">t5_simple_train.set_format</span><span class="mtk14">(</span><span class="mtk16">type</span><span class="mtk1">=</span><span class="mtk5">"torch"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">t5_simple_val.set_format</span><span class="mtk14">(</span><span class="mtk16">type</span><span class="mtk1">=</span><span class="mtk5">"torch"</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">bleu_metric&nbsp;=&nbsp;evaluate.load</span><span class="mtk14">(</span><span class="mtk5">"sacrebleu"</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">compute_bleu</span><span class="mtk1">(</span><span class="mtk4">eval_pred</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;preds</span><span class="mtk14">,</span><span class="mtk1">&nbsp;labels&nbsp;=&nbsp;eval_pred</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;pred_text&nbsp;=&nbsp;t5_tok.batch_decode</span><span class="mtk14">(</span><span class="mtk1">preds</span><span class="mtk14">,</span><span class="mtk1">&nbsp;skip_special_tokens=</span><span class="mtk9">True</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;labels&nbsp;=&nbsp;np.where</span><span class="mtk14">(</span><span class="mtk1">labels&nbsp;!=&nbsp;</span><span class="mtk6">-100</span><span class="mtk14">,</span><span class="mtk1">&nbsp;labels</span><span class="mtk14">,</span><span class="mtk1">&nbsp;t5_tok.pad_token_id</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;label_text&nbsp;=&nbsp;t5_tok.batch_decode</span><span class="mtk14">(</span><span class="mtk1">labels</span><span class="mtk14">,</span><span class="mtk1">&nbsp;skip_special_tokens=</span><span class="mtk9">True</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;score&nbsp;=&nbsp;bleu_metric.compute</span><span class="mtk14">(</span><span class="mtk1">predictions=pred_text</span><span class="mtk14">,</span><span class="mtk1">&nbsp;references=</span><span class="mtk14">[[</span><span class="mtk1">t</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;t&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;label_text</span><span class="mtk14">])[</span><span class="mtk5">"score"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;</span><span class="mtk14">{</span><span class="mtk5">"bleu"</span><span class="mtk14">:</span><span class="mtk1">&nbsp;score</span><span class="mtk14">}</span></span><br><span><span></span></span><br><span><span class="mtk1">simple_args&nbsp;=&nbsp;Seq2SeqTrainingArguments</span><span class="mtk14">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;output_dir=</span><span class="mtk5">"./t5_simple"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;eval_strategy=</span><span class="mtk5">"steps"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;eval_steps=</span><span class="mtk6">200</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;save_strategy=</span><span class="mtk5">"steps"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;save_steps=</span><span class="mtk6">200</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;learning_rate=</span><span class="mtk6">3e-4</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;per_device_train_batch_size=</span><span class="mtk6">2</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;per_device_eval_batch_size=</span><span class="mtk6">2</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;gradient_accumulation_steps=</span><span class="mtk6">8</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;max_steps=</span><span class="mtk6">800</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;predict_with_generate=</span><span class="mtk9">True</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;logging_steps=</span><span class="mtk6">50</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;report_to=</span><span class="mtk5">"none"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;load_best_model_at_end=</span><span class="mtk9">True</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;metric_for_best_model=</span><span class="mtk5">"bleu"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;greater_is_better=</span><span class="mtk9">True</span></span><br><span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">t5_collator_simple&nbsp;=&nbsp;DataCollatorForSeq2Seq</span><span class="mtk14">(</span><span class="mtk1">tokenizer=t5_tok</span><span class="mtk14">,</span><span class="mtk1">&nbsp;model=t5_simple_model</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">simple_trainer&nbsp;=&nbsp;Seq2SeqTrainer</span><span class="mtk14">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;model=t5_simple_model</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;args=simple_args</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;train_dataset=t5_simple_train</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;eval_dataset=t5_simple_val</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;tokenizer=t5_tok</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;data_collator=t5_collator_simple</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;compute_metrics=compute_bleu</span></span><br><span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">simple_trainer.train</span><span class="mtk14">()</span></span><br><span><span></span></span><br><span><span class="mtk1">t5_simple_best_dir&nbsp;=&nbsp;</span><span class="mtk5">"./t5_simple_best"</span></span><br><span><span class="mtk1">simple_trainer.save_model</span><span class="mtk14">(</span><span class="mtk1">t5_simple_best_dir</span><span class="mtk14">)</span></span><br><span><span class="mtk1">t5_tok.save_pretrained</span><span class="mtk14">(</span><span class="mtk1">t5_simple_best_dir</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Saved:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;t5_simple_best_dir</span><span class="mtk14">)</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 9" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div style="height: 562px;"><div class="outputview" style="height: 564px;"><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(4).html" class="" style="height: 564px;"></iframe></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-3N-07rDfH6vc" role="region" aria-label="Cellule 10 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;9:&nbsp;Add&nbsp;intent_pred&nbsp;to&nbsp;all&nbsp;splits</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">add_intent_pred</span><span class="mtk1">(</span><span class="mtk4">batch</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;texts&nbsp;=&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"instruction"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"intent_pred"</span><span class="mtk14">]</span><span class="mtk1">&nbsp;=&nbsp;predict_intents</span><span class="mtk14">(</span><span class="mtk1">texts</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batch_size=</span><span class="mtk6">64</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;batch</span></span><br><span><span></span></span><br><span><span class="mtk1">train_i&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;data_splits</span><span class="mtk14">[</span><span class="mtk5">"train"</span><span class="mtk14">]</span><span class="mtk1">.</span><span class="mtk17">map</span><span class="mtk14">(</span><span class="mtk1">add_intent_pred</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batched=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batch_size=</span><span class="mtk6">64</span><span class="mtk14">)</span></span><br><span><span class="mtk1">val_i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;data_splits</span><span class="mtk14">[</span><span class="mtk5">"val"</span><span class="mtk14">]</span><span class="mtk1">.</span><span class="mtk17">map</span><span class="mtk14">(</span><span class="mtk1">add_intent_pred</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batched=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batch_size=</span><span class="mtk6">64</span><span class="mtk14">)</span></span><br><span><span class="mtk1">meta_dev_i&nbsp;=&nbsp;data_splits</span><span class="mtk14">[</span><span class="mtk5">"meta_dev"</span><span class="mtk14">]</span><span class="mtk1">.</span><span class="mtk17">map</span><span class="mtk14">(</span><span class="mtk1">add_intent_pred</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batched=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batch_size=</span><span class="mtk6">64</span><span class="mtk14">)</span></span><br><span><span class="mtk1">eval_i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;data_splits</span><span class="mtk14">[</span><span class="mtk5">"eval"</span><span class="mtk14">]</span><span class="mtk1">.</span><span class="mtk17">map</span><span class="mtk14">(</span><span class="mtk1">add_intent_pred</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batched=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batch_size=</span><span class="mtk6">64</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Example&nbsp;with&nbsp;intent_pred:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;meta_dev_i</span><span class="mtk14">[</span><span class="mtk6">0</span><span class="mtk14">])</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 10" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div style="height: 182px;"><div class="outputview" style="height: 183px;"><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(5).html" class="" style="height: 183px;"></iframe></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-MhsJv9KgH8k9" role="region" aria-label="Cellule 11 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;10:&nbsp;T5&nbsp;COMPLEX&nbsp;training&nbsp;(intent_pred&nbsp;+&nbsp;inst</span><span class="mtk8">ruction&nbsp;-&gt;&nbsp;response)</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk1">t5_complex_model&nbsp;=&nbsp;T5ForConditionalGeneration.from</span><span class="mtk1">_pretrained</span><span class="mtk14">(</span><span class="mtk1">t5_name</span><span class="mtk14">)</span><span class="mtk1">.to</span><span class="mtk14">(</span><span class="mtk1">device</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">MAX_IN_COMPLEX&nbsp;=&nbsp;</span><span class="mtk6">256</span></span><br><span><span class="mtk1">MAX_OUT_COMPLEX&nbsp;=&nbsp;</span><span class="mtk6">256</span></span><br><span><span></span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">preprocess_t5_complex</span><span class="mtk1">(</span><span class="mtk4">batch</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;inputs&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk10">f</span><span class="mtk5">"intent:&nbsp;</span><span class="mtk14">{</span><span class="mtk1">ip</span><span class="mtk14">}</span><span class="mtk5">&nbsp;</span><span class="mtk1">|</span><span class="mtk5">&nbsp;</span><span class="mtk14">{</span><span class="mtk1">ins</span><span class="mtk14">}</span><span class="mtk5">"</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;ip</span><span class="mtk14">,</span><span class="mtk1">&nbsp;ins&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk17">zip</span><span class="mtk14">(</span><span class="mtk1">batch</span><span class="mtk14">[</span><span class="mtk5">"intent_pred"</span><span class="mtk14">],</span><span class="mtk1">&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"instruction"</span><span class="mtk14">])]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;targets&nbsp;=&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"response"</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;model_inputs&nbsp;=&nbsp;t5_tok</span><span class="mtk14">(</span><span class="mtk1">inputs</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_length=MAX_IN_COMPLEX</span><span class="mtk14">,</span><span class="mtk1">&nbsp;truncation=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;padding=</span><span class="mtk5">"max_length"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;labels&nbsp;=&nbsp;t5_tok</span><span class="mtk14">(</span><span class="mtk1">text_target=targets</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_length=MAX_OUT_COMPLEX</span><span class="mtk14">,</span><span class="mtk1">&nbsp;truncation=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;padding=</span><span class="mtk5">"max_length"</span><span class="mtk14">)[</span><span class="mtk5">"input_ids"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;labels&nbsp;=&nbsp;</span><span class="mtk14">[[</span><span class="mtk1">tok&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;tok&nbsp;!=&nbsp;t5_tok.pad_token_id&nbsp;</span><span class="mtk20">else</span><span class="mtk1">&nbsp;</span><span class="mtk6">-100</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;tok&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;seq</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;seq&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;labels</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;model_inputs</span><span class="mtk14">[</span><span class="mtk5">"labels"</span><span class="mtk14">]</span><span class="mtk1">&nbsp;=&nbsp;labels</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;model_inputs</span></span><br><span><span></span></span><br><span><span class="mtk1">t5_complex_train&nbsp;=&nbsp;train_i.</span><span class="mtk17">map</span><span class="mtk14">(</span><span class="mtk1">preprocess_t5_complex</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batched=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;remove_columns=train_i.column_names</span><span class="mtk14">)</span></span><br><span><span class="mtk1">t5_complex_val&nbsp;&nbsp;&nbsp;=&nbsp;val_i.</span><span class="mtk17">map</span><span class="mtk14">(</span><span class="mtk1">preprocess_t5_complex</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batched=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;remove_columns=val_i.column_names</span><span class="mtk14">)</span></span><br><span><span class="mtk1">t5_complex_train.set_format</span><span class="mtk14">(</span><span class="mtk16">type</span><span class="mtk1">=</span><span class="mtk5">"torch"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">t5_complex_val.set_format</span><span class="mtk14">(</span><span class="mtk16">type</span><span class="mtk1">=</span><span class="mtk5">"torch"</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">complex_args&nbsp;=&nbsp;Seq2SeqTrainingArguments</span><span class="mtk14">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;output_dir=</span><span class="mtk5">"./t5_complex"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;eval_strategy=</span><span class="mtk5">"steps"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;eval_steps=</span><span class="mtk6">200</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;save_steps=</span><span class="mtk6">200</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;learning_rate=</span><span class="mtk6">3e-4</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;per_device_train_batch_size=</span><span class="mtk6">2</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;per_device_eval_batch_size=</span><span class="mtk6">2</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;gradient_accumulation_steps=</span><span class="mtk6">8</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;max_steps=</span><span class="mtk6">800</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;predict_with_generate=</span><span class="mtk9">True</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;logging_steps=</span><span class="mtk6">50</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;report_to=</span><span class="mtk5">"none"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;load_best_model_at_end=</span><span class="mtk9">True</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;metric_for_best_model=</span><span class="mtk5">"bleu"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;greater_is_better=</span><span class="mtk9">True</span></span><br><span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span></span></span><br><span><span class="mtk1">t5_collator_complex&nbsp;=&nbsp;DataCollatorForSeq2Seq</span><span class="mtk14">(</span><span class="mtk1">tokenizer=t5_tok</span><span class="mtk14">,</span><span class="mtk1">&nbsp;model=t5_complex_model</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">complex_trainer&nbsp;=&nbsp;Seq2SeqTrainer</span><span class="mtk14">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;model=t5_complex_model</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;args=complex_args</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;train_dataset=t5_complex_train</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;eval_dataset=t5_complex_val</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;tokenizer=t5_tok</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;data_collator=t5_collator_complex</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;compute_metrics=compute_bleu</span></span><br><span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">complex_trainer.train</span><span class="mtk14">()</span></span><br><span><span></span></span><br><span><span class="mtk1">t5_complex_best_dir&nbsp;=&nbsp;</span><span class="mtk5">"./t5_complex_best"</span></span><br><span><span class="mtk1">complex_trainer.save_model</span><span class="mtk14">(</span><span class="mtk1">t5_complex_best_dir</span><span class="mtk14">)</span></span><br><span><span class="mtk1">t5_tok.save_pretrained</span><span class="mtk14">(</span><span class="mtk1">t5_complex_best_dir</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Saved:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;t5_complex_best_dir</span><span class="mtk14">)</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 11" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div style="height: 334px;"><div class="outputview" style="height: 356px;"><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(6).html" class="" style="height: 356px;"></iframe></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell" id="cell-3rlpz2OEH-1M" role="region" aria-label="Cellule 12 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;11:&nbsp;Load&nbsp;best&nbsp;T5&nbsp;models&nbsp;+&nbsp;generation&nbsp;helper</span><span class="mtk8">s</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk1">t5_simple&nbsp;=&nbsp;T5ForConditionalGeneration.from_pretra</span><span class="mtk1">ined</span><span class="mtk14">(</span><span class="mtk1">t5_simple_best_dir</span><span class="mtk14">)</span><span class="mtk1">.to</span><span class="mtk14">(</span><span class="mtk1">device</span><span class="mtk14">)</span><span class="mtk1">.</span><span class="mtk17">eval</span><span class="mtk14">()</span></span><br><span><span class="mtk1">t5_complex&nbsp;=&nbsp;T5ForConditionalGeneration.from_pretr</span><span class="mtk1">ained</span><span class="mtk14">(</span><span class="mtk1">t5_complex_best_dir</span><span class="mtk14">)</span><span class="mtk1">.to</span><span class="mtk14">(</span><span class="mtk1">device</span><span class="mtk14">)</span><span class="mtk1">.</span><span class="mtk17">eval</span><span class="mtk14">()</span></span><br><span><span></span></span><br><span><span class="mtk17">@torch.no_grad</span><span class="mtk14">()</span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">generate_simple</span><span class="mtk1">(</span><span class="mtk4">texts</span><span class="mtk1">,&nbsp;</span><span class="mtk4">max_new_tokens</span><span class="mtk1">=</span><span class="mtk6">64</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;enc&nbsp;=&nbsp;t5_tok</span><span class="mtk14">(</span><span class="mtk1">texts</span><span class="mtk14">,</span><span class="mtk1">&nbsp;padding=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;truncation=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;return_tensors=</span><span class="mtk5">"pt"</span><span class="mtk14">)</span><span class="mtk1">.to</span><span class="mtk14">(</span><span class="mtk1">device</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;outs&nbsp;=&nbsp;t5_simple.generate</span><span class="mtk14">(</span><span class="mtk1">**enc</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_new_tokens=max_new_tokens</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;t5_tok.batch_decode</span><span class="mtk14">(</span><span class="mtk1">outs</span><span class="mtk14">,</span><span class="mtk1">&nbsp;skip_special_tokens=</span><span class="mtk9">True</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk17">@torch.no_grad</span><span class="mtk14">()</span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">generate_complex</span><span class="mtk1">(</span><span class="mtk4">intent_preds</span><span class="mtk1">,&nbsp;</span><span class="mtk4">texts</span><span class="mtk1">,&nbsp;</span><span class="mtk4">max_new_tokens</span><span class="mtk1">=</span><span class="mtk6">64</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;inputs&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk10">f</span><span class="mtk5">"intent:&nbsp;</span><span class="mtk14">{</span><span class="mtk1">i</span><span class="mtk14">}</span><span class="mtk5">&nbsp;</span><span class="mtk1">|</span><span class="mtk5">&nbsp;</span><span class="mtk14">{</span><span class="mtk1">t</span><span class="mtk14">}</span><span class="mtk5">"</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;i</span><span class="mtk14">,</span><span class="mtk1">&nbsp;t&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk17">zip</span><span class="mtk14">(</span><span class="mtk1">intent_preds</span><span class="mtk14">,</span><span class="mtk1">&nbsp;texts</span><span class="mtk14">)]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;enc&nbsp;=&nbsp;t5_tok</span><span class="mtk14">(</span><span class="mtk1">inputs</span><span class="mtk14">,</span><span class="mtk1">&nbsp;padding=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;truncation=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;return_tensors=</span><span class="mtk5">"pt"</span><span class="mtk14">)</span><span class="mtk1">.to</span><span class="mtk14">(</span><span class="mtk1">device</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;outs&nbsp;=&nbsp;t5_complex.generate</span><span class="mtk14">(</span><span class="mtk1">**enc</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_new_tokens=max_new_tokens</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;t5_tok.batch_decode</span><span class="mtk14">(</span><span class="mtk1">outs</span><span class="mtk14">,</span><span class="mtk1">&nbsp;skip_special_tokens=</span><span class="mtk9">True</span><span class="mtk14">)</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 12" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content" hidden="">
          <div class="output-info"> </div>
          <div class="output-iframe-container" hidden="">
            <div class="output-iframe-sizer"> </div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-W8cLhWAxIBNU" role="region" aria-label="Cellule 13 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;12:&nbsp;Meta-dev&nbsp;labeling&nbsp;using&nbsp;per-example&nbsp;BLE</span><span class="mtk8">U</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">label_meta_dev</span><span class="mtk1">(</span><span class="mtk4">batch</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;texts&nbsp;=&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"instruction"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;refs&nbsp;=&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"response"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;intents_pred&nbsp;=&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"intent_pred"</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;ps&nbsp;=&nbsp;generate_simple</span><span class="mtk14">(</span><span class="mtk1">texts</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;pc&nbsp;=&nbsp;generate_complex</span><span class="mtk14">(</span><span class="mtk1">intents_pred</span><span class="mtk14">,</span><span class="mtk1">&nbsp;texts</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;labels&nbsp;=&nbsp;</span><span class="mtk14">[]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;s</span><span class="mtk14">,</span><span class="mtk1">&nbsp;c</span><span class="mtk14">,</span><span class="mtk1">&nbsp;r&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk17">zip</span><span class="mtk14">(</span><span class="mtk1">ps</span><span class="mtk14">,</span><span class="mtk1">&nbsp;pc</span><span class="mtk14">,</span><span class="mtk1">&nbsp;refs</span><span class="mtk14">):</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bs&nbsp;=&nbsp;bleu_metric.compute</span><span class="mtk14">(</span><span class="mtk1">predictions=</span><span class="mtk14">[</span><span class="mtk1">s</span><span class="mtk14">],</span><span class="mtk1">&nbsp;references=</span><span class="mtk14">[[</span><span class="mtk1">r</span><span class="mtk14">]])[</span><span class="mtk5">"score"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bc&nbsp;=&nbsp;bleu_metric.compute</span><span class="mtk14">(</span><span class="mtk1">predictions=</span><span class="mtk14">[</span><span class="mtk1">c</span><span class="mtk14">],</span><span class="mtk1">&nbsp;references=</span><span class="mtk14">[[</span><span class="mtk1">r</span><span class="mtk14">]])[</span><span class="mtk5">"score"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;labels.append</span><span class="mtk14">(</span><span class="mtk5">"complex"</span><span class="mtk1">&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;bc&nbsp;&gt;&nbsp;bs&nbsp;</span><span class="mtk20">else</span><span class="mtk1">&nbsp;</span><span class="mtk5">"simple"</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"route_label"</span><span class="mtk14">]</span><span class="mtk1">&nbsp;=&nbsp;labels</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;batch</span></span><br><span><span></span></span><br><span><span class="mtk1">meta_labeled&nbsp;=&nbsp;meta_dev_i.</span><span class="mtk17">map</span><span class="mtk14">(</span><span class="mtk1">label_meta_dev</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batched=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batch_size=</span><span class="mtk6">8</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk20">from</span><span class="mtk1">&nbsp;collections&nbsp;</span><span class="mtk20">import</span><span class="mtk1">&nbsp;Counter</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Route&nbsp;label&nbsp;distribution:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;Counter</span><span class="mtk14">(</span><span class="mtk1">meta_labeled</span><span class="mtk14">[</span><span class="mtk5">"route_label"</span><span class="mtk14">]))</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Example:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;meta_labeled</span><span class="mtk14">[</span><span class="mtk6">0</span><span class="mtk14">])</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 13" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div style="height: 138px;"><div class="outputview" style="height: 140px;"><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(7).html" class="" style="height: 140px;"></iframe></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-O-IimeNcICgN" role="region" aria-label="Cellule 14 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;13:&nbsp;Router&nbsp;features&nbsp;from&nbsp;BERT&nbsp;uncertainty</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk17">@torch.no_grad</span><span class="mtk14">()</span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">add_router_features</span><span class="mtk1">(</span><span class="mtk4">batch</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;texts&nbsp;=&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"instruction"</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;enc&nbsp;=&nbsp;bert_tok</span><span class="mtk14">(</span><span class="mtk1">texts</span><span class="mtk14">,</span><span class="mtk1">&nbsp;padding=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;truncation=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_length=MAX_LEN_BERT</span><span class="mtk14">,</span><span class="mtk1">&nbsp;return_tensors=</span><span class="mtk5">"pt"</span><span class="mtk14">)</span><span class="mtk1">.to</span><span class="mtk14">(</span><span class="mtk1">device</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;logits&nbsp;=&nbsp;bert_model</span><span class="mtk14">(</span><span class="mtk1">**enc</span><span class="mtk14">)</span><span class="mtk1">.logits</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;probs&nbsp;=&nbsp;torch.softmax</span><span class="mtk14">(</span><span class="mtk1">logits</span><span class="mtk14">,</span><span class="mtk1">&nbsp;dim=</span><span class="mtk6">-1</span><span class="mtk14">)</span><span class="mtk1">.cpu</span><span class="mtk14">()</span><span class="mtk1">.numpy</span><span class="mtk14">()</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;conf&nbsp;=&nbsp;probs.</span><span class="mtk17">max</span><span class="mtk14">(</span><span class="mtk1">axis=</span><span class="mtk6">1</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;top2&nbsp;=&nbsp;np.sort</span><span class="mtk14">(</span><span class="mtk1">probs</span><span class="mtk14">,</span><span class="mtk1">&nbsp;axis=</span><span class="mtk6">1</span><span class="mtk14">)[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">-2</span><span class="mtk14">:]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;margin&nbsp;=&nbsp;top2</span><span class="mtk14">[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">1</span><span class="mtk14">]</span><span class="mtk1">&nbsp;-&nbsp;top2</span><span class="mtk14">[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">0</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;entropy&nbsp;=&nbsp;-</span><span class="mtk14">(</span><span class="mtk1">probs&nbsp;*&nbsp;np.log</span><span class="mtk14">(</span><span class="mtk1">probs&nbsp;+&nbsp;</span><span class="mtk6">1e-12</span><span class="mtk14">))</span><span class="mtk1">.</span><span class="mtk17">sum</span><span class="mtk14">(</span><span class="mtk1">axis=</span><span class="mtk6">1</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;lengths&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">bert_tok</span><span class="mtk14">(</span><span class="mtk1">t</span><span class="mtk14">)[</span><span class="mtk5">"input_ids"</span><span class="mtk14">])</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;t&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;texts</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"feat_conf"</span><span class="mtk14">]</span><span class="mtk1">&nbsp;=&nbsp;conf.tolist</span><span class="mtk14">()</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"feat_margin"</span><span class="mtk14">]</span><span class="mtk1">&nbsp;=&nbsp;margin.tolist</span><span class="mtk14">()</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"feat_entropy"</span><span class="mtk14">]</span><span class="mtk1">&nbsp;=&nbsp;entropy.tolist</span><span class="mtk14">()</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"feat_len"</span><span class="mtk14">]</span><span class="mtk1">&nbsp;=&nbsp;lengths</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"y"</span><span class="mtk14">]</span><span class="mtk1">&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk6">1</span><span class="mtk1">&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;lbl&nbsp;==&nbsp;</span><span class="mtk5">"complex"</span><span class="mtk1">&nbsp;</span><span class="mtk20">else</span><span class="mtk1">&nbsp;</span><span class="mtk6">0</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;lbl&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;batch</span><span class="mtk14">[</span><span class="mtk5">"route_label"</span><span class="mtk14">]]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;batch</span></span><br><span><span></span></span><br><span><span class="mtk1">meta_feat&nbsp;=&nbsp;meta_labeled.</span><span class="mtk17">map</span><span class="mtk14">(</span><span class="mtk1">add_router_features</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batched=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batch_size=</span><span class="mtk6">64</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">X&nbsp;=&nbsp;np.column_stack</span><span class="mtk14">([</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;meta_feat</span><span class="mtk14">[</span><span class="mtk5">"feat_conf"</span><span class="mtk14">],</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;meta_feat</span><span class="mtk14">[</span><span class="mtk5">"feat_margin"</span><span class="mtk14">],</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;meta_feat</span><span class="mtk14">[</span><span class="mtk5">"feat_entropy"</span><span class="mtk14">],</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;meta_feat</span><span class="mtk14">[</span><span class="mtk5">"feat_len"</span><span class="mtk14">]</span></span><br><span><span class="mtk14">])</span></span><br><span><span class="mtk1">y&nbsp;=&nbsp;np.array</span><span class="mtk14">(</span><span class="mtk1">meta_feat</span><span class="mtk14">[</span><span class="mtk5">"y"</span><span class="mtk14">])</span></span><br><span><span></span></span><br><span><span class="mtk1">X_train</span><span class="mtk14">,</span><span class="mtk1">&nbsp;X_test</span><span class="mtk14">,</span><span class="mtk1">&nbsp;y_train</span><span class="mtk14">,</span><span class="mtk1">&nbsp;y_test&nbsp;=&nbsp;train_test_split</span><span class="mtk14">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;X</span><span class="mtk14">,</span><span class="mtk1">&nbsp;y</span><span class="mtk14">,</span><span class="mtk1">&nbsp;test_size=</span><span class="mtk6">0.2</span><span class="mtk14">,</span><span class="mtk1">&nbsp;random_state=</span><span class="mtk6">42</span><span class="mtk14">,</span><span class="mtk1">&nbsp;stratify=y</span></span><br><span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">router&nbsp;=&nbsp;LogisticRegression</span><span class="mtk14">(</span><span class="mtk1">max_iter=</span><span class="mtk6">2000</span><span class="mtk14">)</span></span><br><span><span class="mtk1">router.fit</span><span class="mtk14">(</span><span class="mtk1">X_train</span><span class="mtk14">,</span><span class="mtk1">&nbsp;y_train</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">pred&nbsp;=&nbsp;router.predict</span><span class="mtk14">(</span><span class="mtk1">X_test</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk1">classification_report</span><span class="mtk14">(</span><span class="mtk1">y_test</span><span class="mtk14">,</span><span class="mtk1">&nbsp;pred</span><span class="mtk14">,</span><span class="mtk1">&nbsp;target_names=</span><span class="mtk14">[</span><span class="mtk5">"simple"</span><span class="mtk14">,</span><span class="mtk5">"complex"</span><span class="mtk14">]))</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Confusion&nbsp;matrix:\n"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;confusion_matrix</span><span class="mtk14">(</span><span class="mtk1">y_test</span><span class="mtk14">,</span><span class="mtk1">&nbsp;pred</span><span class="mtk14">))</span></span><br><span><span></span></span><br><span><span class="mtk1">joblib.dump</span><span class="mtk14">(</span><span class="mtk1">router</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"./router_lr.joblib"</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Saved:&nbsp;./router_lr.joblib"</span><span class="mtk14">)</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 14" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div style="height: 379px;"><div class="outputview" style="height: 408px;"><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(8).html" class="" style="height: 408px;"></iframe></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-ontfQW6PIELt" role="region" aria-label="Cellule 15 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;14:&nbsp;Threshold&nbsp;tuning&nbsp;+&nbsp;save/load</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk1">probs&nbsp;=&nbsp;router.predict_proba</span><span class="mtk14">(</span><span class="mtk1">X_test</span><span class="mtk14">)[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">1</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">thresholds&nbsp;=&nbsp;np.linspace</span><span class="mtk14">(</span><span class="mtk6">0.4</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">0.7</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">301</span><span class="mtk14">)</span></span><br><span><span class="mtk1">best_t&nbsp;=&nbsp;</span><span class="mtk9">None</span></span><br><span><span class="mtk1">best_score&nbsp;=&nbsp;</span><span class="mtk6">-1</span></span><br><span><span></span></span><br><span><span class="mtk20">for</span><span class="mtk1">&nbsp;t&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;thresholds</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;pred_t&nbsp;=&nbsp;</span><span class="mtk14">(</span><span class="mtk1">probs&nbsp;&gt;&nbsp;t</span><span class="mtk14">)</span><span class="mtk1">.astype</span><span class="mtk14">(</span><span class="mtk16">int</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;rate&nbsp;=&nbsp;pred_t.mean</span><span class="mtk14">()</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;</span><span class="mtk19">not</span><span class="mtk1">&nbsp;</span><span class="mtk14">(</span><span class="mtk6">0.05</span><span class="mtk1">&nbsp;&lt;&nbsp;rate&nbsp;&lt;&nbsp;</span><span class="mtk6">0.95</span><span class="mtk14">):</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">continue</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;score&nbsp;=&nbsp;f1_score</span><span class="mtk14">(</span><span class="mtk1">y_test</span><span class="mtk14">,</span><span class="mtk1">&nbsp;pred_t</span><span class="mtk14">,</span><span class="mtk1">&nbsp;average=</span><span class="mtk5">"macro"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;score&nbsp;&gt;&nbsp;best_score</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;best_score&nbsp;=&nbsp;score</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;best_t&nbsp;=&nbsp;</span><span class="mtk16">float</span><span class="mtk14">(</span><span class="mtk1">t</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">THRESHOLD&nbsp;=&nbsp;</span><span class="mtk16">float</span><span class="mtk14">(</span><span class="mtk1">best_t</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Best&nbsp;threshold:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk1">THRESHOLD</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">))</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Best&nbsp;macro-F1:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk1">best_score</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">))</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Complex&nbsp;rate:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(((</span><span class="mtk1">probs&nbsp;&gt;&nbsp;THRESHOLD</span><span class="mtk14">)</span><span class="mtk1">.astype</span><span class="mtk14">(</span><span class="mtk16">int</span><span class="mtk14">))</span><span class="mtk1">.mean</span><span class="mtk14">(),</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">))</span></span><br><span><span></span></span><br><span><span class="mtk20">with</span><span class="mtk1">&nbsp;</span><span class="mtk17">open</span><span class="mtk14">(</span><span class="mtk5">"./router_threshold.json"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"w"</span><span class="mtk14">)</span><span class="mtk1">&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;f</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;json.dump</span><span class="mtk14">({</span><span class="mtk5">"threshold"</span><span class="mtk14">:</span><span class="mtk1">&nbsp;THRESHOLD</span><span class="mtk14">},</span><span class="mtk1">&nbsp;f</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Saved&nbsp;threshold&nbsp;to&nbsp;./router_threshold.json"</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk20">with</span><span class="mtk1">&nbsp;</span><span class="mtk17">open</span><span class="mtk14">(</span><span class="mtk5">"./router_threshold.json"</span><span class="mtk14">)</span><span class="mtk1">&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;f</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;THRESHOLD&nbsp;=&nbsp;json.load</span><span class="mtk14">(</span><span class="mtk1">f</span><span class="mtk14">)[</span><span class="mtk5">"threshold"</span><span class="mtk14">]</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Using&nbsp;THRESHOLD&nbsp;="</span><span class="mtk14">,</span><span class="mtk1">&nbsp;THRESHOLD</span><span class="mtk14">)</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 15" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>Best threshold: 0.637
Best macro-F1: 0.527
Complex rate: 0.545
Saved threshold to ./router_threshold.json
Using THRESHOLD = 0.637
</pre></div></div><div></div></colab-static-output-renderer></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-o13Buj-yiMWn" role="region" aria-label="Cellule 16 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk20">from</span><span class="mtk1">&nbsp;sklearn.metrics&nbsp;</span><span class="mtk20">import</span><span class="mtk1">&nbsp;classification_report</span><span class="mtk14">,</span><span class="mtk1">&nbsp;confusion_matrix</span></span><br><span><span></span></span><br><span><span class="mtk1">pred_best&nbsp;=&nbsp;</span><span class="mtk14">(</span><span class="mtk1">probs&nbsp;&gt;&nbsp;THRESHOLD</span><span class="mtk14">)</span><span class="mtk1">.astype</span><span class="mtk14">(</span><span class="mtk16">int</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk1">classification_report</span><span class="mtk14">(</span><span class="mtk1">y_test</span><span class="mtk14">,</span><span class="mtk1">&nbsp;pred_best</span><span class="mtk14">,</span><span class="mtk1">&nbsp;target_names=</span><span class="mtk14">[</span><span class="mtk5">"simple"</span><span class="mtk14">,</span><span class="mtk5">"complex"</span><span class="mtk14">]))</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk1">confusion_matrix</span><span class="mtk14">(</span><span class="mtk1">y_test</span><span class="mtk14">,</span><span class="mtk1">&nbsp;pred_best</span><span class="mtk14">))</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 16" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>              precision    recall  f1-score   support

      simple       0.40      0.50      0.44       294
     complex       0.66      0.57      0.61       513

    accuracy                           0.54       807
   macro avg       0.53      0.53      0.53       807
weighted avg       0.57      0.54      0.55       807

[[146 148]
 [221 292]]
</pre></div></div><div></div></colab-static-output-renderer></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-H93SZic3IGnc" role="region" aria-label="Cellule 17 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk8">#&nbsp;CELL&nbsp;15:&nbsp;Apply&nbsp;router&nbsp;to&nbsp;EVAL&nbsp;+&nbsp;demo&nbsp;outputs</span></span><br><span><span class="mtk8">#&nbsp;=========================================</span></span><br><span><span class="mtk17">@torch.no_grad</span><span class="mtk14">()</span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">build_router_features</span><span class="mtk1">(</span><span class="mtk4">texts</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;enc&nbsp;=&nbsp;bert_tok</span><span class="mtk14">(</span><span class="mtk1">texts</span><span class="mtk14">,</span><span class="mtk1">&nbsp;padding=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;truncation=</span><span class="mtk9">True</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_length=MAX_LEN_BERT</span><span class="mtk14">,</span><span class="mtk1">&nbsp;return_tensors=</span><span class="mtk5">"pt"</span><span class="mtk14">)</span><span class="mtk1">.to</span><span class="mtk14">(</span><span class="mtk1">device</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;logits&nbsp;=&nbsp;bert_model</span><span class="mtk14">(</span><span class="mtk1">**enc</span><span class="mtk14">)</span><span class="mtk1">.logits</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;probs_&nbsp;=&nbsp;torch.softmax</span><span class="mtk14">(</span><span class="mtk1">logits</span><span class="mtk14">,</span><span class="mtk1">&nbsp;dim=</span><span class="mtk6">-1</span><span class="mtk14">)</span><span class="mtk1">.cpu</span><span class="mtk14">()</span><span class="mtk1">.numpy</span><span class="mtk14">()</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;conf_&nbsp;=&nbsp;probs_.</span><span class="mtk17">max</span><span class="mtk14">(</span><span class="mtk1">axis=</span><span class="mtk6">1</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;top2_&nbsp;=&nbsp;np.sort</span><span class="mtk14">(</span><span class="mtk1">probs_</span><span class="mtk14">,</span><span class="mtk1">&nbsp;axis=</span><span class="mtk6">1</span><span class="mtk14">)[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">-2</span><span class="mtk14">:]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;margin_&nbsp;=&nbsp;top2_</span><span class="mtk14">[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">1</span><span class="mtk14">]</span><span class="mtk1">&nbsp;-&nbsp;top2_</span><span class="mtk14">[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">0</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;entropy_&nbsp;=&nbsp;-</span><span class="mtk14">(</span><span class="mtk1">probs_&nbsp;*&nbsp;np.log</span><span class="mtk14">(</span><span class="mtk1">probs_&nbsp;+&nbsp;</span><span class="mtk6">1e-12</span><span class="mtk14">))</span><span class="mtk1">.</span><span class="mtk17">sum</span><span class="mtk14">(</span><span class="mtk1">axis=</span><span class="mtk6">1</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;len_&nbsp;=&nbsp;np.array</span><span class="mtk14">([</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">bert_tok</span><span class="mtk14">(</span><span class="mtk1">t</span><span class="mtk14">)[</span><span class="mtk5">"input_ids"</span><span class="mtk14">])</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;t&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;texts</span><span class="mtk14">])</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;np.column_stack</span><span class="mtk14">([</span><span class="mtk1">conf_</span><span class="mtk14">,</span><span class="mtk1">&nbsp;margin_</span><span class="mtk14">,</span><span class="mtk1">&nbsp;entropy_</span><span class="mtk14">,</span><span class="mtk1">&nbsp;len_</span><span class="mtk14">])</span></span><br><span><span></span></span><br><span><span class="mtk1">eval_texts&nbsp;=&nbsp;</span><span class="mtk16">list</span><span class="mtk14">(</span><span class="mtk1">eval_i</span><span class="mtk14">[</span><span class="mtk5">"instruction"</span><span class="mtk14">])</span></span><br><span><span></span></span><br><span><span class="mtk1">X_eval&nbsp;=&nbsp;build_router_features</span><span class="mtk14">(</span><span class="mtk1">eval_texts</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">probs_eval&nbsp;=&nbsp;router.predict_proba</span><span class="mtk14">(</span><span class="mtk1">X_eval</span><span class="mtk14">)[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">1</span><span class="mtk14">]</span></span><br><span><span class="mtk1">route_eval&nbsp;=&nbsp;</span><span class="mtk14">(</span><span class="mtk1">probs_eval&nbsp;&gt;&nbsp;THRESHOLD</span><span class="mtk14">)</span><span class="mtk1">.astype</span><span class="mtk14">(</span><span class="mtk16">int</span><span class="mtk14">)</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk8">#&nbsp;1=complex,&nbsp;0=simple</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Complex&nbsp;rate&nbsp;on&nbsp;EVAL:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;route_eval.mean</span><span class="mtk14">())</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;show&nbsp;a&nbsp;few&nbsp;examples</span></span><br><span><span class="mtk1">idxs&nbsp;=&nbsp;</span><span class="mtk16">list</span><span class="mtk14">(</span><span class="mtk17">range</span><span class="mtk14">(</span><span class="mtk6">5</span><span class="mtk14">))</span></span><br><span><span class="mtk1">sample_texts&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk1">eval_texts</span><span class="mtk14">[</span><span class="mtk1">i</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;i&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;idxs</span><span class="mtk14">]</span></span><br><span><span class="mtk1">sample_intents&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk1">eval_i</span><span class="mtk14">[</span><span class="mtk5">"intent_pred"</span><span class="mtk14">][</span><span class="mtk1">i</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;i&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;idxs</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">pred_s&nbsp;=&nbsp;generate_simple</span><span class="mtk14">(</span><span class="mtk1">sample_texts</span><span class="mtk14">)</span></span><br><span><span class="mtk1">pred_c&nbsp;=&nbsp;generate_complex</span><span class="mtk14">(</span><span class="mtk1">sample_intents</span><span class="mtk14">,</span><span class="mtk1">&nbsp;sample_texts</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk20">for</span><span class="mtk1">&nbsp;k</span><span class="mtk14">,</span><span class="mtk1">&nbsp;i&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk17">enumerate</span><span class="mtk14">(</span><span class="mtk1">idxs</span><span class="mtk14">):</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;</span><span class="mtk5">"complex"</span><span class="mtk1">&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;route_eval</span><span class="mtk14">[</span><span class="mtk1">i</span><span class="mtk14">]</span><span class="mtk1">&nbsp;==&nbsp;</span><span class="mtk6">1</span><span class="mtk1">&nbsp;</span><span class="mtk20">else</span><span class="mtk1">&nbsp;</span><span class="mtk5">"simple"</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"\n---"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Q:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;sample_texts</span><span class="mtk14">[</span><span class="mtk1">k</span><span class="mtk14">])</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"intent_pred:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;sample_intents</span><span class="mtk14">[</span><span class="mtk1">k</span><span class="mtk14">])</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"route:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;r</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"simple:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;pred_s</span><span class="mtk14">[</span><span class="mtk1">k</span><span class="mtk14">])</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"complex:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;pred_c</span><span class="mtk14">[</span><span class="mtk1">k</span><span class="mtk14">])</span></span><br><span><span></span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 17" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>Complex rate on EVAL: 0.5102952121061771

---
Q: assistance restoring the access key of my profile
intent_pred: recover_password
route: complex
simple: I'm here to assist you in restoring the access key of your profile. To restore your access key, please follow these steps: 1. Log in to your account on our website. 2. Navigate to the "My Account" or "Profile" section. 3. Look for the "Account Settings" or "
complex: I'm here to assist you in restoring the access key of your profile. To proceed with the restore, please follow these steps: 1. Log in to your profile on our website. 2. Navigate to the "Profile Recovery" or "Profile Recovery". 3. Look for the option to

---
Q: see the status of the reimbursement
intent_pred: track_refund
route: complex
simple: I'm here to assist you in checking the status of your reimbursement. To assist you further, could you please provide me with the specific details of your reimbursement? This will allow me to provide you with the most accurate information and provide you with the most accurate information.
complex: I'm here to assist you in checking the status of your reimbursement. To provide you with accurate information, could you please provide me with more details about the status of your reimbursement? This will enable me to provide you with the most up-to-date information.

---
Q: assistance to see the status of the rebate
intent_pred: track_refund
route: complex
simple: I'm here to assist you in checking the status of your rebate. To view the status of your rebate, please follow these steps: 1. Log in to your account on our website. 2. Navigate to the "Salutation" or "Profile" section. 3. Look for the "Refund Status
complex: I'm here to assist you in checking the status of your rebate. To provide you with accurate information, could you please provide me with more details about the status of your rebate? This will enable me to provide you with the most up-to-date information.

---
Q: I don't know what I need to do to locate invoice #00108
intent_pred: check_invoice
route: simple
simple: I'm here to assist you in finding the invoice with the number #Invoice Number. To locate the invoice, you can visit our website and navigate to the "Invoices" section. There, you will find the invoice with the number #Invoice Number. If you encounter any difficulties
complex: I'm here to assist you in finding the invoice with the number #Invoice Number. To locate the invoice, you can visit our website and navigate to the "Invoices" section. There, you will find the information about the invoice number Invoice Number. If you encounter any

---
Q: where can i submit a new delivery address
intent_pred: set_up_shipping_address
route: complex
simple: I'm here to assist you in submitting a new delivery address. To submit your new delivery address, you can visit our website and navigate to the "My Account" or "Profile" section. There, you will find a list of the specific addresses you would like to submit. If you have
complex: I'm here to assist you in submitting a new delivery address. To proceed with the process, please follow these steps: 1. Log in to your account on our website. 2. Navigate to the "My Account" or "Profile" section. 3. Look for the "Shipping Addresses
</pre></div></div><div></div></colab-static-output-renderer></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell" id="cell-P-CJrm54kPO5" role="region" aria-label="Cellule 18 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;numpy&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;np</span></span><br><span><span class="mtk20">import</span><span class="mtk1">&nbsp;torch</span></span><br><span><span></span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">safe_text_list</span><span class="mtk1">(</span><span class="mtk4">x</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk8">#&nbsp;converts&nbsp;HF&nbsp;datasets&nbsp;column&nbsp;/&nbsp;np&nbsp;arrays&nbsp;to&nbsp;pure&nbsp;</span><span class="mtk8">python&nbsp;list[str]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;x&nbsp;</span><span class="mtk19">is</span><span class="mtk1">&nbsp;</span><span class="mtk9">None</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;</span><span class="mtk14">[]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;</span><span class="mtk19">not</span><span class="mtk1">&nbsp;</span><span class="mtk17">isinstance</span><span class="mtk14">(</span><span class="mtk1">x</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">list</span><span class="mtk14">):</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;</span><span class="mtk16">list</span><span class="mtk14">(</span><span class="mtk1">x</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk8">#&nbsp;ensure&nbsp;strings</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk5">""</span><span class="mtk1">&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;t&nbsp;</span><span class="mtk19">is</span><span class="mtk1">&nbsp;</span><span class="mtk9">None</span><span class="mtk1">&nbsp;</span><span class="mtk20">else</span><span class="mtk1">&nbsp;</span><span class="mtk16">str</span><span class="mtk14">(</span><span class="mtk1">t</span><span class="mtk14">)</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;t&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;x</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;x</span></span><br><span><span></span></span><br><span><span class="mtk17">@torch.no_grad</span><span class="mtk14">()</span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">build_router_features</span><span class="mtk1">(</span><span class="mtk4">texts</span><span class="mtk1">,&nbsp;</span><span class="mtk4">bert_tok</span><span class="mtk1">,&nbsp;</span><span class="mtk4">bert_model</span><span class="mtk1">,&nbsp;</span><span class="mtk4">device</span><span class="mtk1">,&nbsp;</span><span class="mtk4">max_len</span><span class="mtk1">=</span><span class="mtk6">128</span><span class="mtk1">,&nbsp;</span><span class="mtk4">batch_size</span><span class="mtk1">=</span><span class="mtk6">64</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;texts&nbsp;=&nbsp;safe_text_list</span><span class="mtk14">(</span><span class="mtk1">texts</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;feats&nbsp;=&nbsp;</span><span class="mtk14">[]</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;i&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk17">range</span><span class="mtk14">(</span><span class="mtk6">0</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">texts</span><span class="mtk14">),</span><span class="mtk1">&nbsp;batch_size</span><span class="mtk14">):</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;batch&nbsp;=&nbsp;texts</span><span class="mtk14">[</span><span class="mtk1">i</span><span class="mtk14">:</span><span class="mtk1">i+batch_size</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enc&nbsp;=&nbsp;bert_tok</span><span class="mtk14">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;batch</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding=</span><span class="mtk9">True</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;truncation=</span><span class="mtk9">True</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_length=max_len</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return_tensors=</span><span class="mtk5">"pt"</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk14">)</span><span class="mtk1">.to</span><span class="mtk14">(</span><span class="mtk1">device</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logits&nbsp;=&nbsp;bert_model</span><span class="mtk14">(</span><span class="mtk1">**enc</span><span class="mtk14">)</span><span class="mtk1">.logits&nbsp;&nbsp;</span><span class="mtk8">#&nbsp;[B,&nbsp;num_labels]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;probs&nbsp;=&nbsp;torch.softmax</span><span class="mtk14">(</span><span class="mtk1">logits</span><span class="mtk14">,</span><span class="mtk1">&nbsp;dim=</span><span class="mtk6">-1</span><span class="mtk14">)</span><span class="mtk1">.detach</span><span class="mtk14">()</span><span class="mtk1">.cpu</span><span class="mtk14">()</span><span class="mtk1">.numpy</span><span class="mtk14">()</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conf&nbsp;=&nbsp;probs.</span><span class="mtk17">max</span><span class="mtk14">(</span><span class="mtk1">axis=</span><span class="mtk6">1</span><span class="mtk14">)</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk8">#&nbsp;max&nbsp;prob</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;top2&nbsp;=&nbsp;np.sort</span><span class="mtk14">(</span><span class="mtk1">probs</span><span class="mtk14">,</span><span class="mtk1">&nbsp;axis=</span><span class="mtk6">1</span><span class="mtk14">)[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">-2</span><span class="mtk14">:]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin&nbsp;=&nbsp;top2</span><span class="mtk14">[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">1</span><span class="mtk14">]</span><span class="mtk1">&nbsp;-&nbsp;top2</span><span class="mtk14">[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">0</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entropy&nbsp;=&nbsp;-</span><span class="mtk14">(</span><span class="mtk1">probs&nbsp;*&nbsp;np.log</span><span class="mtk14">(</span><span class="mtk1">probs&nbsp;+&nbsp;</span><span class="mtk6">1e-12</span><span class="mtk14">))</span><span class="mtk1">.</span><span class="mtk17">sum</span><span class="mtk14">(</span><span class="mtk1">axis=</span><span class="mtk6">1</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk8">#&nbsp;token&nbsp;length&nbsp;of&nbsp;each&nbsp;text&nbsp;(approx,&nbsp;not&nbsp;padded)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lens&nbsp;=&nbsp;np.array</span><span class="mtk14">([</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">bert_tok</span><span class="mtk14">(</span><span class="mtk1">t</span><span class="mtk14">)[</span><span class="mtk5">"input_ids"</span><span class="mtk14">])</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;t&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;batch</span><span class="mtk14">])</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feats.append</span><span class="mtk14">(</span><span class="mtk1">np.column_stack</span><span class="mtk14">([</span><span class="mtk1">conf</span><span class="mtk14">,</span><span class="mtk1">&nbsp;margin</span><span class="mtk14">,</span><span class="mtk1">&nbsp;entropy</span><span class="mtk14">,</span><span class="mtk1">&nbsp;lens</span><span class="mtk14">]))</span></span><br><span><span></span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;np.vstack</span><span class="mtk14">(</span><span class="mtk1">feats</span><span class="mtk14">)</span><span class="mtk1">&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">feats</span><span class="mtk14">)</span><span class="mtk1">&nbsp;</span><span class="mtk20">else</span><span class="mtk1">&nbsp;np.zeros</span><span class="mtk14">((</span><span class="mtk6">0</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">4</span><span class="mtk14">),</span><span class="mtk1">&nbsp;dtype=</span><span class="mtk16">float</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">route_with_threshold</span><span class="mtk1">(</span><span class="mtk4">router</span><span class="mtk1">,&nbsp;</span><span class="mtk4">X</span><span class="mtk1">,&nbsp;</span><span class="mtk4">threshold</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;probs&nbsp;=&nbsp;router.predict_proba</span><span class="mtk14">(</span><span class="mtk1">X</span><span class="mtk14">)[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">1</span><span class="mtk14">]</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk8">#&nbsp;P(complex)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;route&nbsp;=&nbsp;</span><span class="mtk14">(</span><span class="mtk1">probs&nbsp;&gt;&nbsp;</span><span class="mtk16">float</span><span class="mtk14">(</span><span class="mtk1">threshold</span><span class="mtk14">))</span><span class="mtk1">.astype</span><span class="mtk14">(</span><span class="mtk16">int</span><span class="mtk14">)</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk8">#&nbsp;1=complex,0=simple</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;probs</span><span class="mtk14">,</span><span class="mtk1">&nbsp;route</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 18" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content" hidden="">
          <div class="output-info"> </div>
          <div class="output-iframe-container" hidden="">
            <div class="output-iframe-sizer"> </div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-bYjkqv2-kdI4" role="region" aria-label="Cellule 19 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;numpy&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;np</span></span><br><span><span></span></span><br><span><span class="mtk1">eval_texts&nbsp;=&nbsp;safe_text_list</span><span class="mtk14">(</span><span class="mtk1">eval_i</span><span class="mtk14">[</span><span class="mtk5">"instruction"</span><span class="mtk14">])</span></span><br><span><span class="mtk1">X_eval&nbsp;=&nbsp;build_router_features</span><span class="mtk14">(</span><span class="mtk1">eval_texts</span><span class="mtk14">,</span><span class="mtk1">&nbsp;bert_tok</span><span class="mtk14">,</span><span class="mtk1">&nbsp;bert_model</span><span class="mtk14">,</span><span class="mtk1">&nbsp;device</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_len=</span><span class="mtk6">128</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batch_size=</span><span class="mtk6">64</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">probs_eval</span><span class="mtk14">,</span><span class="mtk1">&nbsp;route_eval&nbsp;=&nbsp;route_with_threshold</span><span class="mtk14">(</span><span class="mtk1">router</span><span class="mtk14">,</span><span class="mtk1">&nbsp;X_eval</span><span class="mtk14">,</span><span class="mtk1">&nbsp;THRESHOLD</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"EVAL&nbsp;size:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">eval_texts</span><span class="mtk14">))</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Threshold:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;THRESHOLD</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Complex&nbsp;rate:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk1">route_eval.mean</span><span class="mtk14">(),</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">))</span></span><br><span><span></span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"\nProbability&nbsp;summary&nbsp;(P(complex)):"</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"&nbsp;min:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk16">float</span><span class="mtk14">(</span><span class="mtk1">probs_eval.</span><span class="mtk17">min</span><span class="mtk14">()),</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">),</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"&nbsp;p25:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk16">float</span><span class="mtk14">(</span><span class="mtk1">np.quantile</span><span class="mtk14">(</span><span class="mtk1">probs_eval</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">0.25</span><span class="mtk14">)),</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">),</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"&nbsp;median:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk16">float</span><span class="mtk14">(</span><span class="mtk1">np.median</span><span class="mtk14">(</span><span class="mtk1">probs_eval</span><span class="mtk14">)),</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">),</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"&nbsp;p75:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk16">float</span><span class="mtk14">(</span><span class="mtk1">np.quantile</span><span class="mtk14">(</span><span class="mtk1">probs_eval</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">0.75</span><span class="mtk14">)),</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">),</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"&nbsp;max:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk16">float</span><span class="mtk14">(</span><span class="mtk1">probs_eval.</span><span class="mtk17">max</span><span class="mtk14">()),</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">))</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;sanity:&nbsp;are&nbsp;we&nbsp;in&nbsp;a&nbsp;non-degenerate&nbsp;regime?</span></span><br><span><span class="mtk20">if</span><span class="mtk1">&nbsp;route_eval.mean</span><span class="mtk14">()</span><span class="mtk1">&nbsp;&lt;&nbsp;</span><span class="mtk6">0.05</span><span class="mtk1">&nbsp;</span><span class="mtk19">or</span><span class="mtk1">&nbsp;route_eval.mean</span><span class="mtk14">()</span><span class="mtk1">&nbsp;&gt;&nbsp;</span><span class="mtk6">0.95</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"\n⚠️&nbsp;WARNING:&nbsp;routing&nbsp;is&nbsp;near-degenerate&nbsp;(almost&nbsp;</span><span class="mtk5">all&nbsp;one&nbsp;side).&nbsp;Consider&nbsp;re-tuning&nbsp;threshold."</span><span class="mtk14">)</span></span><br><span><span class="mtk20">else</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"\n✅&nbsp;Routing&nbsp;is&nbsp;non-degenerate&nbsp;(balanced&nbsp;enough)."</span><span class="mtk14">)</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 19" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>EVAL size: 4031
Threshold: 0.637
Complex rate: 0.51

Probability summary (P(complex)):
 min: 0.249  p25: 0.628  median: 0.637  p75: 0.645  max: 0.67

✅ Routing is non-degenerate (balanced enough).
</pre></div></div><div></div></colab-static-output-renderer></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell text notebook-cell" id="cell-e7SW_L7yloJJ" role="region" aria-label="Cellule 20 : Cellule de texte : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><!----> <div class="toolbar-root"></div>
      <div class="editor-container horizontal">
        <div class="editor-root"></div>
        <div class="text-top-div">
          <div class="markdown"><span><p>לכל intent:</p>
<p>כמה אחוז מהשאילתות נשלחות ל-complex</p>
</span></div>
        </div>
      </div>

      <div class="section-header" style="display: none;">
        <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution ">
      <button id="run-button" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--> <!--?lit$520294451$-->
    </div></template></colab-run-button>
        <div class="section-header-container" title="cliquer pour développer">
          <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>subdirectory_arrow_right</md-icon>
          <span>0&nbsp;cellule masquée</span>
        </div>
      </div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-lQRI3Y-9kn4Y" role="region" aria-label="Cellule 21 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk20">from</span><span class="mtk1">&nbsp;collections&nbsp;</span><span class="mtk20">import</span><span class="mtk1">&nbsp;Counter</span><span class="mtk14">,</span><span class="mtk1">&nbsp;defaultdict</span></span><br><span><span class="mtk20">import</span><span class="mtk1">&nbsp;numpy&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;np</span></span><br><span><span></span></span><br><span><span class="mtk1">eval_intents&nbsp;=&nbsp;safe_text_list</span><span class="mtk14">(</span><span class="mtk1">eval_i</span><span class="mtk14">[</span><span class="mtk5">"intent_pred"</span><span class="mtk14">])</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;guard:&nbsp;lengths&nbsp;must&nbsp;match</span></span><br><span><span class="mtk1">n&nbsp;=&nbsp;</span><span class="mtk17">min</span><span class="mtk14">(</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">eval_intents</span><span class="mtk14">),</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">route_eval</span><span class="mtk14">))</span></span><br><span><span class="mtk1">eval_intents&nbsp;=&nbsp;eval_intents</span><span class="mtk14">[:</span><span class="mtk1">n</span><span class="mtk14">]</span></span><br><span><span class="mtk1">route_eval_&nbsp;=&nbsp;route_eval</span><span class="mtk14">[:</span><span class="mtk1">n</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">counts&nbsp;=&nbsp;Counter</span><span class="mtk14">(</span><span class="mtk1">eval_intents</span><span class="mtk14">)</span></span><br><span><span class="mtk1">rates&nbsp;=&nbsp;defaultdict</span><span class="mtk14">(</span><span class="mtk16">list</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk20">for</span><span class="mtk1">&nbsp;intent</span><span class="mtk14">,</span><span class="mtk1">&nbsp;r&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk17">zip</span><span class="mtk14">(</span><span class="mtk1">eval_intents</span><span class="mtk14">,</span><span class="mtk1">&nbsp;route_eval_</span><span class="mtk14">):</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;rates</span><span class="mtk14">[</span><span class="mtk1">intent</span><span class="mtk14">]</span><span class="mtk1">.append</span><span class="mtk14">(</span><span class="mtk16">int</span><span class="mtk14">(</span><span class="mtk1">r</span><span class="mtk14">))</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;build&nbsp;a&nbsp;sorted&nbsp;table&nbsp;(top&nbsp;intents&nbsp;by&nbsp;frequency)</span></span><br><span><span class="mtk1">rows&nbsp;=&nbsp;</span><span class="mtk14">[]</span></span><br><span><span class="mtk20">for</span><span class="mtk1">&nbsp;intent</span><span class="mtk14">,</span><span class="mtk1">&nbsp;c&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;counts.most_common</span><span class="mtk14">(</span><span class="mtk6">30</span><span class="mtk14">):</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;cr&nbsp;=&nbsp;</span><span class="mtk16">float</span><span class="mtk14">(</span><span class="mtk1">np.mean</span><span class="mtk14">(</span><span class="mtk1">rates</span><span class="mtk14">[</span><span class="mtk1">intent</span><span class="mtk14">]))</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;rows.append</span><span class="mtk14">((</span><span class="mtk1">intent</span><span class="mtk14">,</span><span class="mtk1">&nbsp;c</span><span class="mtk14">,</span><span class="mtk1">&nbsp;cr</span><span class="mtk14">))</span></span><br><span><span></span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Top&nbsp;intents&nbsp;(by&nbsp;frequency)&nbsp;+&nbsp;Complex&nbsp;rate:"</span><span class="mtk14">)</span></span><br><span><span class="mtk20">for</span><span class="mtk1">&nbsp;intent</span><span class="mtk14">,</span><span class="mtk1">&nbsp;c</span><span class="mtk14">,</span><span class="mtk1">&nbsp;cr&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;rows</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk10">f</span><span class="mtk5">"</span><span class="mtk14">{</span><span class="mtk1">intent</span><span class="mtk6">:30s</span><span class="mtk14">}</span><span class="mtk5">&nbsp;</span><span class="mtk1">|</span><span class="mtk5">&nbsp;n=</span><span class="mtk14">{</span><span class="mtk1">c</span><span class="mtk6">:4d</span><span class="mtk14">}</span><span class="mtk5">&nbsp;</span><span class="mtk1">|</span><span class="mtk5">&nbsp;complex_rate=</span><span class="mtk14">{</span><span class="mtk1">cr</span><span class="mtk6">:.3f</span><span class="mtk14">}</span><span class="mtk5">"</span><span class="mtk14">)</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 21" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>Top intents (by frequency) + Complex rate:
contact_human_agent            | n= 174 | complex_rate=0.776
track_refund                   | n= 170 | complex_rate=0.188
place_order                    | n= 158 | complex_rate=0.778
switch_account                 | n= 156 | complex_rate=0.468
newsletter_subscription        | n= 156 | complex_rate=0.494
recover_password               | n= 155 | complex_rate=0.548
check_invoice                  | n= 153 | complex_rate=0.196
get_refund                     | n= 152 | complex_rate=0.474
check_payment_methods          | n= 152 | complex_rate=0.612
delivery_options               | n= 152 | complex_rate=0.461
review                         | n= 150 | complex_rate=0.527
payment_issue                  | n= 150 | complex_rate=0.580
edit_account                   | n= 149 | complex_rate=0.738
get_invoice                    | n= 148 | complex_rate=0.115
cancel_order                   | n= 148 | complex_rate=0.277
create_account                 | n= 147 | complex_rate=0.510
change_order                   | n= 147 | complex_rate=0.218
registration_problems          | n= 147 | complex_rate=0.531
contact_customer_service       | n= 145 | complex_rate=0.634
change_shipping_address        | n= 144 | complex_rate=0.785
delivery_period                | n= 144 | complex_rate=0.500
check_refund_policy            | n= 143 | complex_rate=0.322
complaint                      | n= 142 | complex_rate=0.761
set_up_shipping_address        | n= 140 | complex_rate=0.821
delete_account                 | n= 138 | complex_rate=0.377
check_cancellation_fee         | n= 138 | complex_rate=0.775
track_order                    | n= 133 | complex_rate=0.323
</pre></div></div><div></div></colab-static-output-renderer></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-RKCmel0lkslg" role="region" aria-label="Cellule 22 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;numpy&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;np</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;X_eval&nbsp;columns:&nbsp;[conf,&nbsp;margin,&nbsp;entropy,&nbsp;len]</span></span><br><span><span class="mtk1">conf</span><span class="mtk14">,</span><span class="mtk1">&nbsp;margin</span><span class="mtk14">,</span><span class="mtk1">&nbsp;entropy</span><span class="mtk14">,</span><span class="mtk1">&nbsp;length&nbsp;=&nbsp;X_eval</span><span class="mtk14">[:,</span><span class="mtk6">0</span><span class="mtk14">],</span><span class="mtk1">&nbsp;X_eval</span><span class="mtk14">[:,</span><span class="mtk6">1</span><span class="mtk14">],</span><span class="mtk1">&nbsp;X_eval</span><span class="mtk14">[:,</span><span class="mtk6">2</span><span class="mtk14">],</span><span class="mtk1">&nbsp;X_eval</span><span class="mtk14">[:,</span><span class="mtk6">3</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">summarize</span><span class="mtk1">(</span><span class="mtk4">name</span><span class="mtk1">,&nbsp;</span><span class="mtk4">arr</span><span class="mtk1">,&nbsp;</span><span class="mtk4">mask</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;arr</span><span class="mtk14">[</span><span class="mtk1">mask</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">a</span><span class="mtk14">)</span><span class="mtk1">&nbsp;==&nbsp;</span><span class="mtk6">0</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk1">name</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"EMPTY"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk10">f</span><span class="mtk5">"</span><span class="mtk14">{</span><span class="mtk1">name</span><span class="mtk6">:10s</span><span class="mtk14">}</span><span class="mtk5">&nbsp;</span><span class="mtk1">|</span><span class="mtk5">&nbsp;mean=</span><span class="mtk14">{</span><span class="mtk1">a.mean</span><span class="mtk14">()</span><span class="mtk6">:.4f</span><span class="mtk14">}</span><span class="mtk5">&nbsp;&nbsp;median=</span><span class="mtk14">{</span><span class="mtk1">np.median</span><span class="mtk14">(</span><span class="mtk1">a</span><span class="mtk14">)</span><span class="mtk6">:.4f</span><span class="mtk14">}</span><span class="mtk5">&nbsp;&nbsp;p25=</span><span class="mtk14">{</span><span class="mtk1">np.quantile</span><span class="mtk14">(</span><span class="mtk1">a</span><span class="mtk14">,</span><span class="mtk6">0.25</span><span class="mtk14">)</span><span class="mtk6">:.4f</span><span class="mtk14">}</span><span class="mtk5">&nbsp;&nbsp;p75=</span><span class="mtk14">{</span><span class="mtk1">np.quantile</span><span class="mtk14">(</span><span class="mtk1">a</span><span class="mtk14">,</span><span class="mtk6">0.75</span><span class="mtk14">)</span><span class="mtk6">:.4f</span><span class="mtk14">}</span><span class="mtk5">"</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">mask_c&nbsp;=&nbsp;</span><span class="mtk14">(</span><span class="mtk1">route_eval&nbsp;==&nbsp;</span><span class="mtk6">1</span><span class="mtk14">)</span></span><br><span><span class="mtk1">mask_s&nbsp;=&nbsp;</span><span class="mtk14">(</span><span class="mtk1">route_eval&nbsp;==&nbsp;</span><span class="mtk6">0</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"===&nbsp;Feature&nbsp;stats&nbsp;by&nbsp;routed&nbsp;class&nbsp;==="</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"\n---&nbsp;SIMPLE&nbsp;(routed)&nbsp;---"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">summarize</span><span class="mtk14">(</span><span class="mtk5">"conf"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;conf</span><span class="mtk14">,</span><span class="mtk1">&nbsp;mask_s</span><span class="mtk14">)</span></span><br><span><span class="mtk1">summarize</span><span class="mtk14">(</span><span class="mtk5">"margin"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;margin</span><span class="mtk14">,</span><span class="mtk1">&nbsp;mask_s</span><span class="mtk14">)</span></span><br><span><span class="mtk1">summarize</span><span class="mtk14">(</span><span class="mtk5">"entropy"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;entropy</span><span class="mtk14">,</span><span class="mtk1">&nbsp;mask_s</span><span class="mtk14">)</span></span><br><span><span class="mtk1">summarize</span><span class="mtk14">(</span><span class="mtk5">"len"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;length</span><span class="mtk14">,</span><span class="mtk1">&nbsp;mask_s</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"\n---&nbsp;COMPLEX&nbsp;(routed)&nbsp;---"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">summarize</span><span class="mtk14">(</span><span class="mtk5">"conf"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;conf</span><span class="mtk14">,</span><span class="mtk1">&nbsp;mask_c</span><span class="mtk14">)</span></span><br><span><span class="mtk1">summarize</span><span class="mtk14">(</span><span class="mtk5">"margin"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;margin</span><span class="mtk14">,</span><span class="mtk1">&nbsp;mask_c</span><span class="mtk14">)</span></span><br><span><span class="mtk1">summarize</span><span class="mtk14">(</span><span class="mtk5">"entropy"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;entropy</span><span class="mtk14">,</span><span class="mtk1">&nbsp;mask_c</span><span class="mtk14">)</span></span><br><span><span class="mtk1">summarize</span><span class="mtk14">(</span><span class="mtk5">"len"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;length</span><span class="mtk14">,</span><span class="mtk1">&nbsp;mask_c</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"\nExpected&nbsp;trends&nbsp;(good&nbsp;sign):"</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"-&nbsp;complex:&nbsp;higher&nbsp;entropy,&nbsp;lower&nbsp;margin/conf,&nbsp;lon</span><span class="mtk5">ger&nbsp;length&nbsp;(often)."</span><span class="mtk14">)</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 22" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>=== Feature stats by routed class ===

--- SIMPLE (routed) ---
conf       | mean=0.9917  median=0.9940  p25=0.9933  p75=0.9945
margin     | mean=0.9898  median=0.9933  p25=0.9924  p75=0.9940
entropy    | mean=0.0635  median=0.0550  p25=0.0506  p75=0.0596
len        | mean=15.7999  median=15.0000  p25=14.0000  p75=17.0000

--- COMPLEX (routed) ---
conf       | mean=0.9939  median=0.9943  p25=0.9934  p75=0.9946
margin     | mean=0.9932  median=0.9937  p25=0.9925  p75=0.9941
entropy    | mean=0.0557  median=0.0529  p25=0.0499  p75=0.0596
len        | mean=10.2183  median=11.0000  p25=9.0000  p75=12.0000

Expected trends (good sign):
- complex: higher entropy, lower margin/conf, longer length (often).
</pre></div></div><div></div></colab-static-output-renderer></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell text notebook-cell" id="cell-JwxZzYJAmA5R" role="region" aria-label="Cellule 23 : Cellule de texte : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><!----> <div class="toolbar-root"></div>
      <div class="editor-container horizontal">
        <div class="editor-root"></div>
        <div class="text-top-div">
          <div class="markdown"><span><p>מסקנה נכונה</p>
<p>Routing is influenced by higher-level semantic signals beyond token-level uncertainty.</p>
</span></div>
        </div>
      </div>

      <div class="section-header" style="display: none;">
        <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution ">
      <button id="run-button" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--> <!--?lit$520294451$-->
    </div></template></colab-run-button>
        <div class="section-header-container" title="cliquer pour développer">
          <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>subdirectory_arrow_right</md-icon>
          <span>0&nbsp;cellule masquée</span>
        </div>
      </div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-SXApaOnVkwAQ" role="region" aria-label="Cellule 24 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;numpy&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;np</span></span><br><span><span class="mtk20">from</span><span class="mtk1">&nbsp;sklearn.metrics&nbsp;</span><span class="mtk20">import</span><span class="mtk1">&nbsp;f1_score</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;assumes&nbsp;you&nbsp;have&nbsp;X_test,&nbsp;y_test&nbsp;from&nbsp;router&nbsp;spli</span><span class="mtk8">t</span></span><br><span><span class="mtk1">probs_test&nbsp;=&nbsp;router.predict_proba</span><span class="mtk14">(</span><span class="mtk1">X_test</span><span class="mtk14">)[:,</span><span class="mtk1">&nbsp;</span><span class="mtk6">1</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">thresholds&nbsp;=&nbsp;np.linspace</span><span class="mtk14">(</span><span class="mtk6">0.3</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">0.9</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">61</span><span class="mtk14">)</span></span><br><span><span class="mtk1">curve&nbsp;=&nbsp;</span><span class="mtk14">[]</span></span><br><span><span></span></span><br><span><span class="mtk20">for</span><span class="mtk1">&nbsp;t&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;thresholds</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;pred&nbsp;=&nbsp;</span><span class="mtk14">(</span><span class="mtk1">probs_test&nbsp;&gt;&nbsp;t</span><span class="mtk14">)</span><span class="mtk1">.astype</span><span class="mtk14">(</span><span class="mtk16">int</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;rate&nbsp;=&nbsp;pred.mean</span><span class="mtk14">()</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk8">#&nbsp;macro-F1&nbsp;gives&nbsp;equal&nbsp;weight&nbsp;to&nbsp;both&nbsp;classes</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;f1m&nbsp;=&nbsp;f1_score</span><span class="mtk14">(</span><span class="mtk1">y_test</span><span class="mtk14">,</span><span class="mtk1">&nbsp;pred</span><span class="mtk14">,</span><span class="mtk1">&nbsp;average=</span><span class="mtk5">"macro"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;curve.append</span><span class="mtk14">((</span><span class="mtk1">t</span><span class="mtk14">,</span><span class="mtk1">&nbsp;rate</span><span class="mtk14">,</span><span class="mtk1">&nbsp;f1m</span><span class="mtk14">))</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;print&nbsp;best&nbsp;by&nbsp;macro-F1&nbsp;but&nbsp;keep&nbsp;non-degenerate&nbsp;r</span><span class="mtk8">outing</span></span><br><span><span class="mtk1">curve_nd&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk1">x&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;x&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;curve&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;</span><span class="mtk6">0.05</span><span class="mtk1">&nbsp;&lt;&nbsp;x</span><span class="mtk14">[</span><span class="mtk6">1</span><span class="mtk14">]</span><span class="mtk1">&nbsp;&lt;&nbsp;</span><span class="mtk6">0.95</span><span class="mtk14">]</span></span><br><span><span class="mtk1">best&nbsp;=&nbsp;</span><span class="mtk17">max</span><span class="mtk14">(</span><span class="mtk1">curve_nd</span><span class="mtk14">,</span><span class="mtk1">&nbsp;key=</span><span class="mtk10">lambda</span><span class="mtk1">&nbsp;x</span><span class="mtk14">:</span><span class="mtk1">&nbsp;x</span><span class="mtk14">[</span><span class="mtk6">2</span><span class="mtk14">])</span></span><br><span><span></span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Best&nbsp;(non-degenerate)&nbsp;threshold&nbsp;by&nbsp;macro-F1:"</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"t&nbsp;="</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk1">best</span><span class="mtk14">[</span><span class="mtk6">0</span><span class="mtk14">],</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">),</span><span class="mtk1">&nbsp;</span><span class="mtk5">"|&nbsp;complex_rate&nbsp;="</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk1">best</span><span class="mtk14">[</span><span class="mtk6">1</span><span class="mtk14">],</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">),</span><span class="mtk1">&nbsp;</span><span class="mtk5">"|&nbsp;macroF1&nbsp;="</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk1">best</span><span class="mtk14">[</span><span class="mtk6">2</span><span class="mtk14">],</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">))</span></span><br><span><span></span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"\nSample&nbsp;points:"</span><span class="mtk14">)</span></span><br><span><span class="mtk20">for</span><span class="mtk1">&nbsp;t</span><span class="mtk14">,</span><span class="mtk1">&nbsp;rate</span><span class="mtk14">,</span><span class="mtk1">&nbsp;f1m&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;curve</span><span class="mtk14">[::</span><span class="mtk6">10</span><span class="mtk14">]:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"t="</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk1">t</span><span class="mtk14">,</span><span class="mtk6">3</span><span class="mtk14">),</span><span class="mtk1">&nbsp;</span><span class="mtk5">"&nbsp;rate="</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk1">rate</span><span class="mtk14">,</span><span class="mtk6">3</span><span class="mtk14">),</span><span class="mtk1">&nbsp;</span><span class="mtk5">"&nbsp;macroF1="</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk1">f1m</span><span class="mtk14">,</span><span class="mtk6">3</span><span class="mtk14">))</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 24" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>Best (non-degenerate) threshold by macro-F1:
t = 0.64 | complex_rate = 0.425 | macroF1 = 0.522

Sample points:
t= 0.3  rate= 1.0  macroF1= 0.389
t= 0.4  rate= 1.0  macroF1= 0.389
t= 0.5  rate= 1.0  macroF1= 0.389
t= 0.6  rate= 0.981  macroF1= 0.414
t= 0.7  rate= 0.0  macroF1= 0.267
t= 0.8  rate= 0.0  macroF1= 0.267
t= 0.9  rate= 0.0  macroF1= 0.267
</pre></div></div><div></div></colab-static-output-renderer></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-3w1jcwR6k0WY" role="region" aria-label="Cellule 25 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;random</span></span><br><span><span class="mtk20">import</span><span class="mtk1">&nbsp;numpy&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;np</span></span><br><span><span></span></span><br><span><span class="mtk10">def</span><span class="mtk1">&nbsp;</span><span class="mtk17">perturb</span><span class="mtk1">(</span><span class="mtk4">text</span><span class="mtk1">)</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk8">#&nbsp;very&nbsp;light&nbsp;perturbations</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;options&nbsp;=&nbsp;</span><span class="mtk14">[</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk10">lambda</span><span class="mtk1">&nbsp;s</span><span class="mtk14">:</span><span class="mtk1">&nbsp;s.strip</span><span class="mtk14">(),</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk10">lambda</span><span class="mtk1">&nbsp;s</span><span class="mtk14">:</span><span class="mtk1">&nbsp;</span><span class="mtk5">"please&nbsp;"</span><span class="mtk1">&nbsp;+&nbsp;s</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk10">lambda</span><span class="mtk1">&nbsp;s</span><span class="mtk14">:</span><span class="mtk1">&nbsp;s&nbsp;+&nbsp;</span><span class="mtk5">"&nbsp;thanks"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk10">lambda</span><span class="mtk1">&nbsp;s</span><span class="mtk14">:</span><span class="mtk1">&nbsp;s.replace</span><span class="mtk14">(</span><span class="mtk5">"?"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">""</span><span class="mtk14">)</span><span class="mtk1">.strip</span><span class="mtk14">(),</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk10">lambda</span><span class="mtk1">&nbsp;s</span><span class="mtk14">:</span><span class="mtk1">&nbsp;s.replace</span><span class="mtk14">(</span><span class="mtk5">"&nbsp;&nbsp;"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"&nbsp;"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk14">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;=&nbsp;random.choice</span><span class="mtk14">(</span><span class="mtk1">options</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">return</span><span class="mtk1">&nbsp;f</span><span class="mtk14">(</span><span class="mtk1">text</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">sample_n&nbsp;=&nbsp;</span><span class="mtk6">200</span></span><br><span><span class="mtk1">idxs&nbsp;=&nbsp;</span><span class="mtk16">list</span><span class="mtk14">(</span><span class="mtk17">range</span><span class="mtk14">(</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">eval_texts</span><span class="mtk14">)))</span></span><br><span><span class="mtk1">random.shuffle</span><span class="mtk14">(</span><span class="mtk1">idxs</span><span class="mtk14">)</span></span><br><span><span class="mtk1">idxs&nbsp;=&nbsp;idxs</span><span class="mtk14">[:</span><span class="mtk17">min</span><span class="mtk14">(</span><span class="mtk1">sample_n</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">idxs</span><span class="mtk14">))]</span></span><br><span><span></span></span><br><span><span class="mtk1">orig&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk1">eval_texts</span><span class="mtk14">[</span><span class="mtk1">i</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;i&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;idxs</span><span class="mtk14">]</span></span><br><span><span class="mtk1">pert&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk1">perturb</span><span class="mtk14">(</span><span class="mtk1">t</span><span class="mtk14">)</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;t&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;orig</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">X_o&nbsp;=&nbsp;build_router_features</span><span class="mtk14">(</span><span class="mtk1">orig</span><span class="mtk14">,</span><span class="mtk1">&nbsp;bert_tok</span><span class="mtk14">,</span><span class="mtk1">&nbsp;bert_model</span><span class="mtk14">,</span><span class="mtk1">&nbsp;device</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_len=</span><span class="mtk6">128</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batch_size=</span><span class="mtk6">64</span><span class="mtk14">)</span></span><br><span><span class="mtk1">X_p&nbsp;=&nbsp;build_router_features</span><span class="mtk14">(</span><span class="mtk1">pert</span><span class="mtk14">,</span><span class="mtk1">&nbsp;bert_tok</span><span class="mtk14">,</span><span class="mtk1">&nbsp;bert_model</span><span class="mtk14">,</span><span class="mtk1">&nbsp;device</span><span class="mtk14">,</span><span class="mtk1">&nbsp;max_len=</span><span class="mtk6">128</span><span class="mtk14">,</span><span class="mtk1">&nbsp;batch_size=</span><span class="mtk6">64</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">_</span><span class="mtk14">,</span><span class="mtk1">&nbsp;r_o&nbsp;=&nbsp;route_with_threshold</span><span class="mtk14">(</span><span class="mtk1">router</span><span class="mtk14">,</span><span class="mtk1">&nbsp;X_o</span><span class="mtk14">,</span><span class="mtk1">&nbsp;THRESHOLD</span><span class="mtk14">)</span></span><br><span><span class="mtk1">_</span><span class="mtk14">,</span><span class="mtk1">&nbsp;r_p&nbsp;=&nbsp;route_with_threshold</span><span class="mtk14">(</span><span class="mtk1">router</span><span class="mtk14">,</span><span class="mtk1">&nbsp;X_p</span><span class="mtk14">,</span><span class="mtk1">&nbsp;THRESHOLD</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">flip_rate&nbsp;=&nbsp;</span><span class="mtk14">(</span><span class="mtk1">r_o&nbsp;!=&nbsp;r_p</span><span class="mtk14">)</span><span class="mtk1">.mean</span><span class="mtk14">()</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Robustness&nbsp;test&nbsp;on"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">orig</span><span class="mtk14">),</span><span class="mtk1">&nbsp;</span><span class="mtk5">"samples"</span><span class="mtk14">)</span></span><br><span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"Flip&nbsp;rate&nbsp;(routing&nbsp;changed):"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk17">round</span><span class="mtk14">(</span><span class="mtk16">float</span><span class="mtk14">(</span><span class="mtk1">flip_rate</span><span class="mtk14">),</span><span class="mtk1">&nbsp;</span><span class="mtk6">3</span><span class="mtk14">))</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;show&nbsp;a&nbsp;few&nbsp;flips</span></span><br><span><span class="mtk1">flips&nbsp;=&nbsp;np.where</span><span class="mtk14">(</span><span class="mtk1">r_o&nbsp;!=&nbsp;r_p</span><span class="mtk14">)[</span><span class="mtk6">0</span><span class="mtk14">][:</span><span class="mtk6">10</span><span class="mtk14">]</span></span><br><span><span class="mtk20">for</span><span class="mtk1">&nbsp;j&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;flips</span><span class="mtk14">:</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"\n---&nbsp;FLIP&nbsp;EXAMPLE&nbsp;---"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"orig&nbsp;:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;orig</span><span class="mtk14">[</span><span class="mtk1">j</span><span class="mtk14">])</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"pert&nbsp;:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;pert</span><span class="mtk14">[</span><span class="mtk1">j</span><span class="mtk14">])</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk17">print</span><span class="mtk14">(</span><span class="mtk5">"route&nbsp;orig:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"complex"</span><span class="mtk1">&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;r_o</span><span class="mtk14">[</span><span class="mtk1">j</span><span class="mtk14">]</span><span class="mtk1">==</span><span class="mtk6">1</span><span class="mtk1">&nbsp;</span><span class="mtk20">else</span><span class="mtk1">&nbsp;</span><span class="mtk5">"simple"</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"|&nbsp;route&nbsp;pert:"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"complex"</span><span class="mtk1">&nbsp;</span><span class="mtk20">if</span><span class="mtk1">&nbsp;r_p</span><span class="mtk14">[</span><span class="mtk1">j</span><span class="mtk14">]</span><span class="mtk1">==</span><span class="mtk6">1</span><span class="mtk1">&nbsp;</span><span class="mtk20">else</span><span class="mtk1">&nbsp;</span><span class="mtk5">"simple"</span><span class="mtk14">)</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 25" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div><div><colab-static-output-renderer role="group" tabindex="0"><div><div class="stream output_text"><pre>Robustness test on 200 samples
Flip rate (routing changed): 0.05

--- FLIP EXAMPLE ---
orig : modify info on {{Account Type}} account
pert : please modify info on {{Account Type}} account
route orig: complex | route pert: simple

--- FLIP EXAMPLE ---
orig : i need help to check what payment methods are available
pert : please i need help to check what payment methods are available
route orig: complex | route pert: simple

--- FLIP EXAMPLE ---
orig : can I report errors with a fucking sign-up?
pert : please can I report errors with a fucking sign-up?
route orig: complex | route pert: simple

--- FLIP EXAMPLE ---
orig : where can I report a problem with sign-up?
pert : please where can I report a problem with sign-up?
route orig: complex | route pert: simple

--- FLIP EXAMPLE ---
orig : are charges for services reimbursable?
pert : are charges for services reimbursable? thanks
route orig: complex | route pert: simple

--- FLIP EXAMPLE ---
orig : edit information on {{Account Category}} account
pert : please edit information on {{Account Category}} account
route orig: complex | route pert: simple

--- FLIP EXAMPLE ---
orig : switch something of order {{Order Number}}
pert : switch something of order {{Order Number}} thanks
route orig: complex | route pert: simple

--- FLIP EXAMPLE ---
orig : send me bill from {{Person Name}}
pert : send me bill from {{Person Name}} thanks
route orig: complex | route pert: simple

--- FLIP EXAMPLE ---
orig : ohw to cancel order {{Order Number}}
pert : ohw to cancel order {{Order Number}} thanks
route orig: complex | route pert: simple

--- FLIP EXAMPLE ---
orig : want assistance to receive an refund of my money
pert : want assistance to receive an refund of my money thanks
route orig: complex | route pert: simple
</pre></div></div><div></div></colab-static-output-renderer></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell text notebook-cell" id="cell-iVO1_IpsmvzH" role="region" aria-label="Cellule 26 : Cellule de texte : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><!----> <div class="toolbar-root"></div>
      <div class="editor-container horizontal">
        <div class="editor-root"></div>
        <div class="text-top-div">
          <div class="markdown"><span><p>איך לפרש את הגרף (למאמר)</p>
<p>Macro-F1 מייצג איכות routing</p>
<p>Complex Rate מייצג עלות חישובית</p>
<p>הקו האנכי = threshold שנבחר</p>
<p>רואים בבירור trade-off:</p>
<p>threshold נמוך → איכות ↑ אבל עלות ↑</p>
<p>threshold גבוה → עלות ↓ אבל איכות ↓</p>
</span></div>
        </div>
      </div>

      <div class="section-header" style="display: none;">
        <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution ">
      <button id="run-button" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--> <!--?lit$520294451$-->
    </div></template></colab-run-button>
        <div class="section-header-container" title="cliquer pour développer">
          <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>subdirectory_arrow_right</md-icon>
          <span>0&nbsp;cellule masquée</span>
        </div>
      </div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-DX7Mw7TEmppq" role="region" aria-label="Cellule 27 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;matplotlib.pyplot&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;plt</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;unpack&nbsp;curve</span></span><br><span><span class="mtk1">ts&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk1">x</span><span class="mtk14">[</span><span class="mtk6">0</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;x&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;curve</span><span class="mtk14">]</span></span><br><span><span class="mtk1">complex_rates&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk1">x</span><span class="mtk14">[</span><span class="mtk6">1</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;x&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;curve</span><span class="mtk14">]</span></span><br><span><span class="mtk1">macro_f1s&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk1">x</span><span class="mtk14">[</span><span class="mtk6">2</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;x&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;curve</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">best_t</span><span class="mtk14">,</span><span class="mtk1">&nbsp;best_rate</span><span class="mtk14">,</span><span class="mtk1">&nbsp;best_f1&nbsp;=&nbsp;best</span></span><br><span><span></span></span><br><span><span class="mtk1">plt.figure</span><span class="mtk14">(</span><span class="mtk1">figsize=</span><span class="mtk14">(</span><span class="mtk6">8</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">5</span><span class="mtk14">))</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;macro-F1</span></span><br><span><span class="mtk1">plt.plot</span><span class="mtk14">(</span><span class="mtk1">ts</span><span class="mtk14">,</span><span class="mtk1">&nbsp;macro_f1s</span><span class="mtk14">,</span><span class="mtk1">&nbsp;label=</span><span class="mtk5">"Macro-F1"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;linewidth=</span><span class="mtk6">2</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;complex&nbsp;rate</span></span><br><span><span class="mtk1">plt.plot</span><span class="mtk14">(</span><span class="mtk1">ts</span><span class="mtk14">,</span><span class="mtk1">&nbsp;complex_rates</span><span class="mtk14">,</span><span class="mtk1">&nbsp;label=</span><span class="mtk5">"Complex&nbsp;Rate"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;linestyle=</span><span class="mtk5">"--"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;linewidth=</span><span class="mtk6">2</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;chosen&nbsp;threshold</span></span><br><span><span class="mtk1">plt.axvline</span><span class="mtk14">(</span><span class="mtk1">best_t</span><span class="mtk14">,</span><span class="mtk1">&nbsp;linestyle=</span><span class="mtk5">":"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;linewidth=</span><span class="mtk6">2</span><span class="mtk14">)</span></span><br><span><span class="mtk1">plt.scatter</span><span class="mtk14">([</span><span class="mtk1">best_t</span><span class="mtk14">],</span><span class="mtk1">&nbsp;</span><span class="mtk14">[</span><span class="mtk1">best_f1</span><span class="mtk14">],</span><span class="mtk1">&nbsp;zorder=</span><span class="mtk6">5</span><span class="mtk14">)</span></span><br><span><span class="mtk1">plt.scatter</span><span class="mtk14">([</span><span class="mtk1">best_t</span><span class="mtk14">],</span><span class="mtk1">&nbsp;</span><span class="mtk14">[</span><span class="mtk1">best_rate</span><span class="mtk14">],</span><span class="mtk1">&nbsp;zorder=</span><span class="mtk6">5</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">plt.xlabel</span><span class="mtk14">(</span><span class="mtk5">"Routing&nbsp;Threshold"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">plt.ylabel</span><span class="mtk14">(</span><span class="mtk5">"Score&nbsp;/&nbsp;Rate"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">plt.title</span><span class="mtk14">(</span><span class="mtk5">"Trade-off&nbsp;between&nbsp;Routing&nbsp;Quality&nbsp;and&nbsp;Computation</span><span class="mtk5">al&nbsp;Cost"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">plt.legend</span><span class="mtk14">()</span></span><br><span><span class="mtk1">plt.grid</span><span class="mtk14">(</span><span class="mtk9">True</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">plt.tight_layout</span><span class="mtk14">()</span></span><br><span><span class="mtk1">plt.show</span><span class="mtk14">()</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 27" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div style="height: 507px;"><div class="outputview" style="height: 375px;"><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(9).html" class="" style="height: 375px;"></iframe></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-dEokkn8WnNvA" role="region" aria-label="Cellule 28 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;numpy&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;np</span></span><br><span><span class="mtk20">import</span><span class="mtk1">&nbsp;matplotlib.pyplot&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;plt</span></span><br><span><span class="mtk20">from</span><span class="mtk1">&nbsp;collections&nbsp;</span><span class="mtk20">import</span><span class="mtk1">&nbsp;defaultdict</span><span class="mtk14">,</span><span class="mtk1">&nbsp;Counter</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;safety:&nbsp;ensure&nbsp;lists</span></span><br><span><span class="mtk1">intents&nbsp;=&nbsp;</span><span class="mtk16">list</span><span class="mtk14">(</span><span class="mtk1">eval_i</span><span class="mtk14">[</span><span class="mtk5">"intent_pred"</span><span class="mtk14">])</span></span><br><span><span class="mtk1">routes&nbsp;=&nbsp;route_eval.astype</span><span class="mtk14">(</span><span class="mtk16">int</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;align&nbsp;lengths&nbsp;just&nbsp;in&nbsp;case</span></span><br><span><span class="mtk1">n&nbsp;=&nbsp;</span><span class="mtk17">min</span><span class="mtk14">(</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">intents</span><span class="mtk14">),</span><span class="mtk1">&nbsp;</span><span class="mtk17">len</span><span class="mtk14">(</span><span class="mtk1">routes</span><span class="mtk14">))</span></span><br><span><span class="mtk1">intents&nbsp;=&nbsp;intents</span><span class="mtk14">[:</span><span class="mtk1">n</span><span class="mtk14">]</span></span><br><span><span class="mtk1">routes&nbsp;=&nbsp;routes</span><span class="mtk14">[:</span><span class="mtk1">n</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;compute&nbsp;complex&nbsp;rate&nbsp;per&nbsp;intent</span></span><br><span><span class="mtk1">counts&nbsp;=&nbsp;Counter</span><span class="mtk14">(</span><span class="mtk1">intents</span><span class="mtk14">)</span></span><br><span><span class="mtk1">complex_counts&nbsp;=&nbsp;defaultdict</span><span class="mtk14">(</span><span class="mtk16">int</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk20">for</span><span class="mtk1">&nbsp;intent</span><span class="mtk14">,</span><span class="mtk1">&nbsp;r&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk17">zip</span><span class="mtk14">(</span><span class="mtk1">intents</span><span class="mtk14">,</span><span class="mtk1">&nbsp;routes</span><span class="mtk14">):</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;complex_counts</span><span class="mtk14">[</span><span class="mtk1">intent</span><span class="mtk14">]</span><span class="mtk1">&nbsp;+=&nbsp;r</span></span><br><span><span></span></span><br><span><span class="mtk1">intent_rates&nbsp;=&nbsp;</span><span class="mtk14">[</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk14">(</span><span class="mtk1">intent</span><span class="mtk14">,</span><span class="mtk1">&nbsp;complex_counts</span><span class="mtk14">[</span><span class="mtk1">intent</span><span class="mtk14">]</span><span class="mtk1">&nbsp;/&nbsp;counts</span><span class="mtk14">[</span><span class="mtk1">intent</span><span class="mtk14">])</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;intent&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;counts</span></span><br><span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;sort&nbsp;by&nbsp;complex&nbsp;rate&nbsp;(descending)</span></span><br><span><span class="mtk1">intent_rates.sort</span><span class="mtk14">(</span><span class="mtk1">key=</span><span class="mtk10">lambda</span><span class="mtk1">&nbsp;x</span><span class="mtk14">:</span><span class="mtk1">&nbsp;x</span><span class="mtk14">[</span><span class="mtk6">1</span><span class="mtk14">],</span><span class="mtk1">&nbsp;reverse=</span><span class="mtk9">True</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;take&nbsp;top-N&nbsp;for&nbsp;readability&nbsp;(recommended&nbsp;for&nbsp;pape</span><span class="mtk8">r)</span></span><br><span><span class="mtk1">TOP_N&nbsp;=&nbsp;</span><span class="mtk6">20</span></span><br><span><span class="mtk1">intent_rates&nbsp;=&nbsp;intent_rates</span><span class="mtk14">[:</span><span class="mtk1">TOP_N</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk1">labels&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk1">x</span><span class="mtk14">[</span><span class="mtk6">0</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;x&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;intent_rates</span><span class="mtk14">]</span></span><br><span><span class="mtk1">rates&nbsp;=&nbsp;</span><span class="mtk14">[</span><span class="mtk1">x</span><span class="mtk14">[</span><span class="mtk6">1</span><span class="mtk14">]</span><span class="mtk1">&nbsp;</span><span class="mtk20">for</span><span class="mtk1">&nbsp;x&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;intent_rates</span><span class="mtk14">]</span></span><br><span><span></span></span><br><span><span class="mtk8">#&nbsp;plot</span></span><br><span><span class="mtk1">plt.figure</span><span class="mtk14">(</span><span class="mtk1">figsize=</span><span class="mtk14">(</span><span class="mtk6">10</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">5</span><span class="mtk14">))</span></span><br><span><span class="mtk1">plt.bar</span><span class="mtk14">(</span><span class="mtk1">labels</span><span class="mtk14">,</span><span class="mtk1">&nbsp;rates</span><span class="mtk14">)</span></span><br><span><span class="mtk1">plt.xticks</span><span class="mtk14">(</span><span class="mtk1">rotation=</span><span class="mtk6">45</span><span class="mtk14">,</span><span class="mtk1">&nbsp;ha=</span><span class="mtk5">"right"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">plt.ylabel</span><span class="mtk14">(</span><span class="mtk5">"Complex&nbsp;Routing&nbsp;Rate"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">plt.xlabel</span><span class="mtk14">(</span><span class="mtk5">"Intent"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">plt.title</span><span class="mtk14">(</span><span class="mtk5">"Complex&nbsp;Routing&nbsp;Rate&nbsp;per&nbsp;Intent&nbsp;(Top&nbsp;Intents)"</span><span class="mtk14">)</span></span><br><span><span class="mtk1">plt.ylim</span><span class="mtk14">(</span><span class="mtk6">0</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">1</span><span class="mtk14">)</span></span><br><span><span class="mtk1">plt.grid</span><span class="mtk14">(</span><span class="mtk1">axis=</span><span class="mtk5">"y"</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">plt.tight_layout</span><span class="mtk14">()</span></span><br><span><span class="mtk1">plt.show</span><span class="mtk14">()</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 28" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div style="height: 507px;"><div class="outputview" style="height: 305px;"><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(10).html" class="" style="height: 305px;"></iframe></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div><div class="cell code notebook-cell code-has-output" id="cell-oTNw964lpOjQ" role="region" aria-label="Cellule 29 : Cellule de code : " style="" tabindex="-1"><div class="cell-tag-editor sticky"></div><div class="agent-focus-label">
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      <!--?lit$520294451$-->Gemini
    </div><div class="cell-toolbar sticky"></div><div class="main-content"><div class="cell-contents"><div class="cell-mask"></div><span class="imported-info-area"></span><div class="codecell-input-output">
      <div class="inputarea horizontal layout code">
        <div class="cell-gutter">
          <!-- Bounding range for vertical scrolling of icons -->
          <div class="cell-execution-container">
            <colab-run-button><template shadowrootmode="open"><!----> <div class=" cell-execution stale ">
      <button id="run-button" aria-describedby="run-button-tooltip" aria-label="Exécuter la cellule" aria-disabled="false">
        <span aria-hidden="true" class="cell-execution-indicator"><!--?lit$520294451$-->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <!--?lit$520294451$-->
  <mask id="playSymbolMask">
    <rect width="100%" height="100%" fill="white"></rect>
    <polygon points="10,8 17,12 10,16" fill="black"></polygon>
  </mask>
  <circle cx="12" cy="12" r="7.8" mask="url(#playSymbolMask)" id="filledCircle"></circle>
</svg></span>
      </button>
      <!--?lit$520294451$--><colab-tooltip-trigger for="run-button" id="run-button-tooltip" aria-hidden="true" message="Exécuter la cellule (⌘/Ctrl+Enter)
cellule non exécutée au cours de cette session

exécuté à heure inconnue"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Exécuter la cellule (⌘/Ctrl+Enter)</div><!----><!----><div><!--?lit$520294451$-->cellule non exécutée au cours de cette session</div><!----><!----><br><!----><!----><div><!--?lit$520294451$-->exécuté à&nbsp;heure inconnue</div><!----><!--?--></template>
    </colab-tooltip-trigger> <!--?lit$520294451$--><div class="status">
      <div class="execution-count"><!--?lit$520294451$-->[ ]</div>
      <!--?lit$520294451$-->
    </div>
    </div></template></colab-run-button>
          </div>
        </div>
      <div class="editor flex lazy-editor" style=""><pre class="lazy-virtualized" style="font-size: 14px; line-height: 19px;" tabindex="0"><pre class="lazy-gutter"></pre><pre class="monaco-colorized colab-dark colab-dark" data-lang="notebook-python"><span><span class="mtk20">import</span><span class="mtk1">&nbsp;matplotlib.pyplot&nbsp;</span><span class="mtk20">as</span><span class="mtk1">&nbsp;plt</span></span><br><span><span></span></span><br><span><span class="mtk1">features&nbsp;=&nbsp;</span><span class="mtk14">{</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"Entropy"</span><span class="mtk14">:</span><span class="mtk1">&nbsp;entropy</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"Margin"</span><span class="mtk14">:</span><span class="mtk1">&nbsp;margin</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"Confidence"</span><span class="mtk14">:</span><span class="mtk1">&nbsp;conf</span><span class="mtk14">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk5">"Length"</span><span class="mtk14">:</span><span class="mtk1">&nbsp;length</span></span><br><span><span class="mtk14">}</span></span><br><span><span></span></span><br><span><span class="mtk1">fig</span><span class="mtk14">,</span><span class="mtk1">&nbsp;axes&nbsp;=&nbsp;plt.subplots</span><span class="mtk14">(</span><span class="mtk6">2</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">2</span><span class="mtk14">,</span><span class="mtk1">&nbsp;figsize=</span><span class="mtk14">(</span><span class="mtk6">12</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk6">8</span><span class="mtk14">))</span></span><br><span><span class="mtk1">axes&nbsp;=&nbsp;axes.flatten</span><span class="mtk14">()</span></span><br><span><span></span></span><br><span><span class="mtk20">for</span><span class="mtk1">&nbsp;ax</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk14">(</span><span class="mtk1">name</span><span class="mtk14">,</span><span class="mtk1">&nbsp;values</span><span class="mtk14">)</span><span class="mtk1">&nbsp;</span><span class="mtk19">in</span><span class="mtk1">&nbsp;</span><span class="mtk17">zip</span><span class="mtk14">(</span><span class="mtk1">axes</span><span class="mtk14">,</span><span class="mtk1">&nbsp;features.items</span><span class="mtk14">()):</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;ax.boxplot</span><span class="mtk14">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk14">[</span><span class="mtk1">values</span><span class="mtk14">[</span><span class="mtk1">route_eval&nbsp;==&nbsp;</span><span class="mtk6">0</span><span class="mtk14">],</span><span class="mtk1">&nbsp;values</span><span class="mtk14">[</span><span class="mtk1">route_eval&nbsp;==&nbsp;</span><span class="mtk6">1</span><span class="mtk14">]],</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;labels=</span><span class="mtk14">[</span><span class="mtk5">"Simple"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;</span><span class="mtk5">"Complex"</span><span class="mtk14">],</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;showfliers=</span><span class="mtk9">False</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_title</span><span class="mtk14">(</span><span class="mtk1">name</span><span class="mtk14">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;ax.grid</span><span class="mtk14">(</span><span class="mtk1">alpha=</span><span class="mtk6">0.3</span><span class="mtk14">)</span></span><br><span><span></span></span><br><span><span class="mtk1">fig.suptitle</span><span class="mtk14">(</span><span class="mtk5">"Feature&nbsp;Distributions&nbsp;by&nbsp;Routing&nbsp;Decision"</span><span class="mtk14">,</span><span class="mtk1">&nbsp;fontsize=</span><span class="mtk6">14</span><span class="mtk14">)</span></span><br><span><span class="mtk1">plt.tight_layout</span><span class="mtk14">()</span></span><br><span><span class="mtk1">plt.show</span><span class="mtk14">()</span></span><br><span><span></span></span><br></pre><colab-read-only-cell-placeholder style="display: none;"><template shadowrootmode="open"><!----><div><!--?lit$520294451$-->Commencez à coder ou à <span role="button" class="link" tabindex="0">générer</span> avec l'IA.</div></template></colab-read-only-cell-placeholder></pre></div><colab-form class="formview vertical layout flex"><div class="widget-area"></div></colab-form></div>
    <div class="output" aria-label="Sortie de la cellule 29" role="region"><!----> <div class="output-header"> </div>
        <div class="output-content">
          <div class="output-info"><colab-output-info><template shadowrootmode="open"><!----><!--?lit$520294451$--><md-icon-button toggle="" class="toggle-visibility-button" touch-target="none" data-aria-label="Afficher/Masquer le résultat" id="toggle-visibility-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Afficher/Masquer le résultat" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_down</md-icon>
        <md-icon slot="selected" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>keyboard_arrow_right</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-visibility-button" message="Afficher/Masquer le résultat"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Afficher/Masquer le résultat</div><!----><!--?--></template></colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button touch-target="none" data-aria-expanded="false" data-aria-haspopup="menu" class=" menu-button " data-aria-label="Actions sur la sortie des cellules de code" id="menu-button" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Actions sur la sortie des cellules de code" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_horiz</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="menu-button" message="Actions sur la sortie des cellules de code"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Actions sur la sortie des cellules de code</div><!----><!--?--></template></colab-tooltip-trigger><!--?--></template></colab-output-info></div>
          <div class="output-iframe-container">
            <div class="output-iframe-sizer"> <div style="height: 945px;"><div class="outputview" style="height: 563px;"><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(11).html" class="" style="height: 563px;"></iframe></div></div></div>
          </div>
        </div></div><colab-cell-next-steps><template shadowrootmode="open"><!----></template></colab-cell-next-steps></div></div></div><div class="add-cell">
      <hr>
    </div></div></div>
              </div>
            </div>
          </div>
          <!--?lit$520294451$--> <div class="footer-links">
      <a target="_blank" href="https://colab.research.google.com/signup?utm_source=footer&amp;utm_medium=link&amp;utm_campaign=footer_links">
        <!--?lit$520294451$-->Produits payants Colab
      </a>
      -
      <a href="https://colab.research.google.com/cancel-subscription" target="_blank">
        <!--?lit$520294451$-->Résilier les contrats ici
      </a>
    </div>
        </div>
      </colab-scroller>
    </div><div class="right-pane-snap-hint"></div></colab-tab></div>
  </div></colab-tab-pane>
      <colab-resizer style="height: 40%" class="sn-resize no-tabs"><div class="resizer-thumb"></div>
        <!--?lit$520294451$--><colab-tab-pane class="layout vertical grow no-tabs" align="horizontal"><!----> <div class="layout vertical grow">
    <div class="tab-pane-header layout horizontal noshrink">
      <md-tabs><template shadowrootmode="open"><!---->
      <div class="tabs">
        <slot></slot>
      </div>
      <md-divider part="divider"><template shadowrootmode="open"><!----></template></md-divider>
    </template></md-tabs>
      <div class="layout grow"></div>
      <div class="tab-pane-header-actions"></div>
      <!--?lit$520294451$--><md-icon-button data-aria-expanded="false" data-aria-haspopup="menu" id="tab-pane-2-more-actions-button" data-aria-label="Autres actions liées aux onglets" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Autres actions liées aux onglets" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_vert</md-icon>
    </md-icon-button>
    <colab-tooltip-trigger aria-hidden="true" for="tab-pane-2-more-actions-button" message="Autres actions liées aux onglets"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Autres actions liées aux onglets</div><!----><!--?--></template>
    </colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button id="tab-pane-2-close-all-button" data-aria-label="Fermer tous les onglets" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Fermer tous les onglets">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>close</md-icon>
    </md-icon-button>
    <colab-tooltip-trigger aria-hidden="true" for="tab-pane-2-close-all-button" message="Fermer tous les onglets"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Fermer tous les onglets</div><!----><!--?--></template>
    </colab-tooltip-trigger>
    </div>
    <div class="layout vertical grow tab-pane-container"> </div>
  </div></colab-tab-pane>
      </colab-resizer>
    </div>
      <colab-resizer style="width: 37%" class="we-resize"><div class="resizer-thumb"></div>
        <!--?lit$520294451$--> <div class="layout vertical tab-pane-parent">
      <!--?lit$520294451$--><colab-tab-pane class="layout vertical grow focused" align="horizontal"><!----> <div class="layout vertical grow">
    <div class="tab-pane-header layout horizontal noshrink">
      <md-tabs><template shadowrootmode="open"><!---->
      <div class="tabs">
        <slot></slot>
      </div>
      <md-divider part="divider"><template shadowrootmode="open"><!----></template></md-divider>
    </template><md-primary-tab noink="" aria-labelledby="tab-title-gDapSL0K0NJK" draggable="true" tabindex="0" class="selected-tab" md-tab="" active=""><template shadowrootmode="open"><!----><div class="button" role="presentation">
      <md-focus-ring part="focus-ring" inward="" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-elevation part="elevation" aria-hidden="true"><template shadowrootmode="open"><!----><span class="shadow"></span></template></md-elevation>
      <md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
      <div role="presentation" class="content  has-label stacked ">
        <slot name="icon"></slot>
        <slot></slot>
        <!--?lit$520294451$--><div class="indicator"></div>
      </div>
      <!--?lit$520294451$-->
    </div></template>
          <div class="colab-tab-header"> <!--?lit$520294451$--><div class="colab-tab-title">
      <!--?lit$520294451$-->
      <span id="tab-title-gDapSL0K0NJK"><!--?lit$520294451$--><!--?lit$520294451$-->Terminal<!--?--></span>
    </div> <!--?lit$520294451$--><md-icon-button class="tab-close" data-aria-label="Fermer" title="Fermer" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Fermer">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template><md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>close</md-icon></md-icon-button> </div>
        </md-primary-tab></md-tabs>
      <div class="layout grow"></div>
      <div class="tab-pane-header-actions"><!----><!--?lit$520294451$--><!--?--></div>
      <!--?lit$520294451$--><md-icon-button data-aria-expanded="false" data-aria-haspopup="menu" id="tab-pane-1-more-actions-button" data-aria-label="Autres actions liées aux onglets" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Autres actions liées aux onglets" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_vert</md-icon>
    </md-icon-button>
    <colab-tooltip-trigger aria-hidden="true" for="tab-pane-1-more-actions-button" message="Autres actions liées aux onglets"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Autres actions liées aux onglets</div><!----><!--?--></template>
    </colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button id="tab-pane-1-close-all-button" data-aria-label="Fermer tous les onglets" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Fermer tous les onglets">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>close</md-icon>
    </md-icon-button>
    <colab-tooltip-trigger aria-hidden="true" for="tab-pane-1-close-all-button" message="Fermer tous les onglets"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Fermer tous les onglets</div><!----><!--?--></template>
    </colab-tooltip-trigger>
    </div>
    <div class="layout vertical grow tab-pane-container"> <colab-tab class="layout vertical grow selected-tab"><colab-xterm-terminal><template shadowrootmode="open"><!----> <div class="colab-terminal"><div dir="ltr" class="terminal xterm xterm-dom-renderer-owner-2"><div class="xterm-accessibility" style="width: 343px; font-size: 15px;"><div role="list" class="xterm-accessibility-tree"><div role="listitem" tabindex="-1" aria-posinset="4" aria-setsize="35" style="height: 18px; transform: scaleX(0.999454);">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999508);" aria-posinset="5" aria-setsize="35">/content# ls -la</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="6" aria-setsize="35">total 16</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999499);" aria-posinset="7" aria-setsize="35">drwxr-xr-x 1 root root 4096 Feb  6 14:</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="8" aria-setsize="35">31 .</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999499);" aria-posinset="9" aria-setsize="35">drwxr-xr-x 1 root root 4096 Feb 15 10:</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="10" aria-setsize="35">20 ..</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999499);" aria-posinset="11" aria-setsize="35">drwxr-xr-x 4 root root 4096 Feb  6 14:</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="12" aria-setsize="35">31 .config</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999499);" aria-posinset="13" aria-setsize="35">drwxr-xr-x 1 root root 4096 Feb  6 14:</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="14" aria-setsize="35">31 sample_data</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="15" aria-setsize="35">/content# </div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="16" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="17" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="18" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="19" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="20" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="21" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="22" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="23" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="24" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="25" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="26" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="27" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="28" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="29" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="30" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="31" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="32" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="33" aria-setsize="35">&nbsp;</div><div role="listitem" tabindex="-1" style="height: 18px; transform: scaleX(0.999454);" aria-posinset="34" aria-setsize="35">&nbsp;</div></div><div class="live-region" aria-live="assertive"></div></div><div class="xterm-viewport"></div><div class="xterm-scrollable-element  mac" role="presentation" style="position: relative; background-color: rgb(40, 42, 44);"><div class="xterm-screen" style="width: 343px; height: 558px;"><div class="xterm-helpers"><textarea class="xterm-helper-textarea" aria-label="Terminal input" aria-multiline="false" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="left: 90.2632px; top: 180px; width: 9.02632px; height: 18px; line-height: 18px; z-index: -5;"></textarea><div class="composition-view"></div><div class="xterm-width-cache-measure-container" aria-hidden="true" style="white-space: pre; font-kerning: none; font-family: monospace; font-size: 15px;"><span class="xterm-char-measure-element" style="font-weight: normal;">33333333333333333333333333333333</span><span class="xterm-char-measure-element" style="font-weight: bold;">dddddddddddddddddddddddddddddddd</span><span class="xterm-char-measure-element" style="font-style: italic; font-weight: normal;"></span><span class="xterm-char-measure-element" style="font-weight: bold; font-style: italic;"></span></div></div><style>.xterm-dom-renderer-owner-2 .xterm-rows span{display:inline-block;height:100%;vertical-align:top;}</style><style>.xterm-dom-renderer-owner-2 .xterm-rows{pointer-events:none;color:#ffffff;font-family:monospace;font-size:15px;font-kerning:none;white-space:pre;}.xterm-dom-renderer-owner-2 .xterm-rows .xterm-dim{color:#ffffff80;}.xterm-dom-renderer-owner-2 span:not(.xterm-bold){font-weight:normal;}.xterm-dom-renderer-owner-2 span.xterm-bold{font-weight:bold;}.xterm-dom-renderer-owner-2 span.xterm-italic{font-style:italic;}@keyframes blink_underline_2 { }@keyframes blink_bar_2 { }@keyframes blink_block_2 { }.xterm-dom-renderer-owner-2 .xterm-rows.xterm-focus .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline{animation:blink_underline_2 1s step-end infinite;}.xterm-dom-renderer-owner-2 .xterm-rows.xterm-focus .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar{animation:blink_bar_2 1s step-end infinite;}.xterm-dom-renderer-owner-2 .xterm-rows.xterm-focus .xterm-cursor.xterm-cursor-blink.xterm-cursor-block{animation:blink_block_2 1s step-end infinite;}.xterm-dom-renderer-owner-2 .xterm-rows .xterm-cursor.xterm-cursor-block{background-color:#c8c8c8ff;color:#000000;}.xterm-dom-renderer-owner-2 .xterm-rows .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink){background-color:#c8c8c8ff !important;color:#000000 !important;}.xterm-dom-renderer-owner-2 .xterm-rows .xterm-cursor.xterm-cursor-outline{outline:1px solid #c8c8c8ff;outline-offset:-1px;}.xterm-dom-renderer-owner-2 .xterm-rows .xterm-cursor.xterm-cursor-bar{box-shadow:1px 0 0 #c8c8c8ff inset;}.xterm-dom-renderer-owner-2 .xterm-rows .xterm-cursor.xterm-cursor-underline{border-bottom:1px #c8c8c8ff;border-bottom-style:solid;height:calc(100% - 1px);}.xterm-dom-renderer-owner-2 .xterm-selection{position:absolute;top:0;left:0;z-index:1;pointer-events:none;}.xterm-dom-renderer-owner-2.focus .xterm-selection div{position:absolute;background-color:#696a6c;}.xterm-dom-renderer-owner-2 .xterm-selection div{position:absolute;background-color:#696a6c;}.xterm-dom-renderer-owner-2 .xterm-fg-0{color:#7f7f7f;}.xterm-dom-renderer-owner-2 .xterm-fg-0.xterm-dim{color:#7f7f7f80;}.xterm-dom-renderer-owner-2 .xterm-bg-0{background-color:#7f7f7f;}.xterm-dom-renderer-owner-2 .xterm-fg-1{color:#ff7a88;}.xterm-dom-renderer-owner-2 .xterm-fg-1.xterm-dim{color:#ff7a8880;}.xterm-dom-renderer-owner-2 .xterm-bg-1{background-color:#ff7a88;}.xterm-dom-renderer-owner-2 .xterm-fg-2{color:#57bb8a;}.xterm-dom-renderer-owner-2 .xterm-fg-2.xterm-dim{color:#57bb8a80;}.xterm-dom-renderer-owner-2 .xterm-bg-2{background-color:#57bb8a;}.xterm-dom-renderer-owner-2 .xterm-fg-3{color:#ffff66;}.xterm-dom-renderer-owner-2 .xterm-fg-3.xterm-dim{color:#ffff6680;}.xterm-dom-renderer-owner-2 .xterm-bg-3{background-color:#ffff66;}.xterm-dom-renderer-owner-2 .xterm-fg-4{color:#82b1ff;}.xterm-dom-renderer-owner-2 .xterm-fg-4.xterm-dim{color:#82b1ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-4{background-color:#82b1ff;}.xterm-dom-renderer-owner-2 .xterm-fg-5{color:#cd00cd;}.xterm-dom-renderer-owner-2 .xterm-fg-5.xterm-dim{color:#cd00cd80;}.xterm-dom-renderer-owner-2 .xterm-bg-5{background-color:#cd00cd;}.xterm-dom-renderer-owner-2 .xterm-fg-6{color:#99bbd7;}.xterm-dom-renderer-owner-2 .xterm-fg-6.xterm-dim{color:#99bbd780;}.xterm-dom-renderer-owner-2 .xterm-bg-6{background-color:#99bbd7;}.xterm-dom-renderer-owner-2 .xterm-fg-7{color:#d3d7cf;}.xterm-dom-renderer-owner-2 .xterm-fg-7.xterm-dim{color:#d3d7cf80;}.xterm-dom-renderer-owner-2 .xterm-bg-7{background-color:#d3d7cf;}.xterm-dom-renderer-owner-2 .xterm-fg-8{color:#7f7f7f;}.xterm-dom-renderer-owner-2 .xterm-fg-8.xterm-dim{color:#7f7f7f80;}.xterm-dom-renderer-owner-2 .xterm-bg-8{background-color:#7f7f7f;}.xterm-dom-renderer-owner-2 .xterm-fg-9{color:red;}.xterm-dom-renderer-owner-2 .xterm-fg-9.xterm-dim{color:#ff000080;}.xterm-dom-renderer-owner-2 .xterm-bg-9{background-color:red;}.xterm-dom-renderer-owner-2 .xterm-fg-10{color:#00ff00;}.xterm-dom-renderer-owner-2 .xterm-fg-10.xterm-dim{color:#00ff0080;}.xterm-dom-renderer-owner-2 .xterm-bg-10{background-color:#00ff00;}.xterm-dom-renderer-owner-2 .xterm-fg-11{color:#ffff00;}.xterm-dom-renderer-owner-2 .xterm-fg-11.xterm-dim{color:#ffff0080;}.xterm-dom-renderer-owner-2 .xterm-bg-11{background-color:#ffff00;}.xterm-dom-renderer-owner-2 .xterm-fg-12{color:#5c5cff;}.xterm-dom-renderer-owner-2 .xterm-fg-12.xterm-dim{color:#5c5cff80;}.xterm-dom-renderer-owner-2 .xterm-bg-12{background-color:#5c5cff;}.xterm-dom-renderer-owner-2 .xterm-fg-13{color:#ff00ff;}.xterm-dom-renderer-owner-2 .xterm-fg-13.xterm-dim{color:#ff00ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-13{background-color:#ff00ff;}.xterm-dom-renderer-owner-2 .xterm-fg-14{color:#00ffff;}.xterm-dom-renderer-owner-2 .xterm-fg-14.xterm-dim{color:#00ffff80;}.xterm-dom-renderer-owner-2 .xterm-bg-14{background-color:#00ffff;}.xterm-dom-renderer-owner-2 .xterm-fg-15{color:#eeeeec;}.xterm-dom-renderer-owner-2 .xterm-fg-15.xterm-dim{color:#eeeeec80;}.xterm-dom-renderer-owner-2 .xterm-bg-15{background-color:#eeeeec;}.xterm-dom-renderer-owner-2 .xterm-fg-16{color:#000000;}.xterm-dom-renderer-owner-2 .xterm-fg-16.xterm-dim{color:#00000080;}.xterm-dom-renderer-owner-2 .xterm-bg-16{background-color:#000000;}.xterm-dom-renderer-owner-2 .xterm-fg-17{color:#00005f;}.xterm-dom-renderer-owner-2 .xterm-fg-17.xterm-dim{color:#00005f80;}.xterm-dom-renderer-owner-2 .xterm-bg-17{background-color:#00005f;}.xterm-dom-renderer-owner-2 .xterm-fg-18{color:#000087;}.xterm-dom-renderer-owner-2 .xterm-fg-18.xterm-dim{color:#00008780;}.xterm-dom-renderer-owner-2 .xterm-bg-18{background-color:#000087;}.xterm-dom-renderer-owner-2 .xterm-fg-19{color:#0000af;}.xterm-dom-renderer-owner-2 .xterm-fg-19.xterm-dim{color:#0000af80;}.xterm-dom-renderer-owner-2 .xterm-bg-19{background-color:#0000af;}.xterm-dom-renderer-owner-2 .xterm-fg-20{color:#0000d7;}.xterm-dom-renderer-owner-2 .xterm-fg-20.xterm-dim{color:#0000d780;}.xterm-dom-renderer-owner-2 .xterm-bg-20{background-color:#0000d7;}.xterm-dom-renderer-owner-2 .xterm-fg-21{color:#0000ff;}.xterm-dom-renderer-owner-2 .xterm-fg-21.xterm-dim{color:#0000ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-21{background-color:#0000ff;}.xterm-dom-renderer-owner-2 .xterm-fg-22{color:#005f00;}.xterm-dom-renderer-owner-2 .xterm-fg-22.xterm-dim{color:#005f0080;}.xterm-dom-renderer-owner-2 .xterm-bg-22{background-color:#005f00;}.xterm-dom-renderer-owner-2 .xterm-fg-23{color:#005f5f;}.xterm-dom-renderer-owner-2 .xterm-fg-23.xterm-dim{color:#005f5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-23{background-color:#005f5f;}.xterm-dom-renderer-owner-2 .xterm-fg-24{color:#005f87;}.xterm-dom-renderer-owner-2 .xterm-fg-24.xterm-dim{color:#005f8780;}.xterm-dom-renderer-owner-2 .xterm-bg-24{background-color:#005f87;}.xterm-dom-renderer-owner-2 .xterm-fg-25{color:#005faf;}.xterm-dom-renderer-owner-2 .xterm-fg-25.xterm-dim{color:#005faf80;}.xterm-dom-renderer-owner-2 .xterm-bg-25{background-color:#005faf;}.xterm-dom-renderer-owner-2 .xterm-fg-26{color:#005fd7;}.xterm-dom-renderer-owner-2 .xterm-fg-26.xterm-dim{color:#005fd780;}.xterm-dom-renderer-owner-2 .xterm-bg-26{background-color:#005fd7;}.xterm-dom-renderer-owner-2 .xterm-fg-27{color:#005fff;}.xterm-dom-renderer-owner-2 .xterm-fg-27.xterm-dim{color:#005fff80;}.xterm-dom-renderer-owner-2 .xterm-bg-27{background-color:#005fff;}.xterm-dom-renderer-owner-2 .xterm-fg-28{color:#008700;}.xterm-dom-renderer-owner-2 .xterm-fg-28.xterm-dim{color:#00870080;}.xterm-dom-renderer-owner-2 .xterm-bg-28{background-color:#008700;}.xterm-dom-renderer-owner-2 .xterm-fg-29{color:#00875f;}.xterm-dom-renderer-owner-2 .xterm-fg-29.xterm-dim{color:#00875f80;}.xterm-dom-renderer-owner-2 .xterm-bg-29{background-color:#00875f;}.xterm-dom-renderer-owner-2 .xterm-fg-30{color:#008787;}.xterm-dom-renderer-owner-2 .xterm-fg-30.xterm-dim{color:#00878780;}.xterm-dom-renderer-owner-2 .xterm-bg-30{background-color:#008787;}.xterm-dom-renderer-owner-2 .xterm-fg-31{color:#0087af;}.xterm-dom-renderer-owner-2 .xterm-fg-31.xterm-dim{color:#0087af80;}.xterm-dom-renderer-owner-2 .xterm-bg-31{background-color:#0087af;}.xterm-dom-renderer-owner-2 .xterm-fg-32{color:#0087d7;}.xterm-dom-renderer-owner-2 .xterm-fg-32.xterm-dim{color:#0087d780;}.xterm-dom-renderer-owner-2 .xterm-bg-32{background-color:#0087d7;}.xterm-dom-renderer-owner-2 .xterm-fg-33{color:#0087ff;}.xterm-dom-renderer-owner-2 .xterm-fg-33.xterm-dim{color:#0087ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-33{background-color:#0087ff;}.xterm-dom-renderer-owner-2 .xterm-fg-34{color:#00af00;}.xterm-dom-renderer-owner-2 .xterm-fg-34.xterm-dim{color:#00af0080;}.xterm-dom-renderer-owner-2 .xterm-bg-34{background-color:#00af00;}.xterm-dom-renderer-owner-2 .xterm-fg-35{color:#00af5f;}.xterm-dom-renderer-owner-2 .xterm-fg-35.xterm-dim{color:#00af5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-35{background-color:#00af5f;}.xterm-dom-renderer-owner-2 .xterm-fg-36{color:#00af87;}.xterm-dom-renderer-owner-2 .xterm-fg-36.xterm-dim{color:#00af8780;}.xterm-dom-renderer-owner-2 .xterm-bg-36{background-color:#00af87;}.xterm-dom-renderer-owner-2 .xterm-fg-37{color:#00afaf;}.xterm-dom-renderer-owner-2 .xterm-fg-37.xterm-dim{color:#00afaf80;}.xterm-dom-renderer-owner-2 .xterm-bg-37{background-color:#00afaf;}.xterm-dom-renderer-owner-2 .xterm-fg-38{color:#00afd7;}.xterm-dom-renderer-owner-2 .xterm-fg-38.xterm-dim{color:#00afd780;}.xterm-dom-renderer-owner-2 .xterm-bg-38{background-color:#00afd7;}.xterm-dom-renderer-owner-2 .xterm-fg-39{color:#00afff;}.xterm-dom-renderer-owner-2 .xterm-fg-39.xterm-dim{color:#00afff80;}.xterm-dom-renderer-owner-2 .xterm-bg-39{background-color:#00afff;}.xterm-dom-renderer-owner-2 .xterm-fg-40{color:#00d700;}.xterm-dom-renderer-owner-2 .xterm-fg-40.xterm-dim{color:#00d70080;}.xterm-dom-renderer-owner-2 .xterm-bg-40{background-color:#00d700;}.xterm-dom-renderer-owner-2 .xterm-fg-41{color:#00d75f;}.xterm-dom-renderer-owner-2 .xterm-fg-41.xterm-dim{color:#00d75f80;}.xterm-dom-renderer-owner-2 .xterm-bg-41{background-color:#00d75f;}.xterm-dom-renderer-owner-2 .xterm-fg-42{color:#00d787;}.xterm-dom-renderer-owner-2 .xterm-fg-42.xterm-dim{color:#00d78780;}.xterm-dom-renderer-owner-2 .xterm-bg-42{background-color:#00d787;}.xterm-dom-renderer-owner-2 .xterm-fg-43{color:#00d7af;}.xterm-dom-renderer-owner-2 .xterm-fg-43.xterm-dim{color:#00d7af80;}.xterm-dom-renderer-owner-2 .xterm-bg-43{background-color:#00d7af;}.xterm-dom-renderer-owner-2 .xterm-fg-44{color:#00d7d7;}.xterm-dom-renderer-owner-2 .xterm-fg-44.xterm-dim{color:#00d7d780;}.xterm-dom-renderer-owner-2 .xterm-bg-44{background-color:#00d7d7;}.xterm-dom-renderer-owner-2 .xterm-fg-45{color:#00d7ff;}.xterm-dom-renderer-owner-2 .xterm-fg-45.xterm-dim{color:#00d7ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-45{background-color:#00d7ff;}.xterm-dom-renderer-owner-2 .xterm-fg-46{color:#00ff00;}.xterm-dom-renderer-owner-2 .xterm-fg-46.xterm-dim{color:#00ff0080;}.xterm-dom-renderer-owner-2 .xterm-bg-46{background-color:#00ff00;}.xterm-dom-renderer-owner-2 .xterm-fg-47{color:#00ff5f;}.xterm-dom-renderer-owner-2 .xterm-fg-47.xterm-dim{color:#00ff5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-47{background-color:#00ff5f;}.xterm-dom-renderer-owner-2 .xterm-fg-48{color:#00ff87;}.xterm-dom-renderer-owner-2 .xterm-fg-48.xterm-dim{color:#00ff8780;}.xterm-dom-renderer-owner-2 .xterm-bg-48{background-color:#00ff87;}.xterm-dom-renderer-owner-2 .xterm-fg-49{color:#00ffaf;}.xterm-dom-renderer-owner-2 .xterm-fg-49.xterm-dim{color:#00ffaf80;}.xterm-dom-renderer-owner-2 .xterm-bg-49{background-color:#00ffaf;}.xterm-dom-renderer-owner-2 .xterm-fg-50{color:#00ffd7;}.xterm-dom-renderer-owner-2 .xterm-fg-50.xterm-dim{color:#00ffd780;}.xterm-dom-renderer-owner-2 .xterm-bg-50{background-color:#00ffd7;}.xterm-dom-renderer-owner-2 .xterm-fg-51{color:#00ffff;}.xterm-dom-renderer-owner-2 .xterm-fg-51.xterm-dim{color:#00ffff80;}.xterm-dom-renderer-owner-2 .xterm-bg-51{background-color:#00ffff;}.xterm-dom-renderer-owner-2 .xterm-fg-52{color:#5f0000;}.xterm-dom-renderer-owner-2 .xterm-fg-52.xterm-dim{color:#5f000080;}.xterm-dom-renderer-owner-2 .xterm-bg-52{background-color:#5f0000;}.xterm-dom-renderer-owner-2 .xterm-fg-53{color:#5f005f;}.xterm-dom-renderer-owner-2 .xterm-fg-53.xterm-dim{color:#5f005f80;}.xterm-dom-renderer-owner-2 .xterm-bg-53{background-color:#5f005f;}.xterm-dom-renderer-owner-2 .xterm-fg-54{color:#5f0087;}.xterm-dom-renderer-owner-2 .xterm-fg-54.xterm-dim{color:#5f008780;}.xterm-dom-renderer-owner-2 .xterm-bg-54{background-color:#5f0087;}.xterm-dom-renderer-owner-2 .xterm-fg-55{color:#5f00af;}.xterm-dom-renderer-owner-2 .xterm-fg-55.xterm-dim{color:#5f00af80;}.xterm-dom-renderer-owner-2 .xterm-bg-55{background-color:#5f00af;}.xterm-dom-renderer-owner-2 .xterm-fg-56{color:#5f00d7;}.xterm-dom-renderer-owner-2 .xterm-fg-56.xterm-dim{color:#5f00d780;}.xterm-dom-renderer-owner-2 .xterm-bg-56{background-color:#5f00d7;}.xterm-dom-renderer-owner-2 .xterm-fg-57{color:#5f00ff;}.xterm-dom-renderer-owner-2 .xterm-fg-57.xterm-dim{color:#5f00ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-57{background-color:#5f00ff;}.xterm-dom-renderer-owner-2 .xterm-fg-58{color:#5f5f00;}.xterm-dom-renderer-owner-2 .xterm-fg-58.xterm-dim{color:#5f5f0080;}.xterm-dom-renderer-owner-2 .xterm-bg-58{background-color:#5f5f00;}.xterm-dom-renderer-owner-2 .xterm-fg-59{color:#5f5f5f;}.xterm-dom-renderer-owner-2 .xterm-fg-59.xterm-dim{color:#5f5f5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-59{background-color:#5f5f5f;}.xterm-dom-renderer-owner-2 .xterm-fg-60{color:#5f5f87;}.xterm-dom-renderer-owner-2 .xterm-fg-60.xterm-dim{color:#5f5f8780;}.xterm-dom-renderer-owner-2 .xterm-bg-60{background-color:#5f5f87;}.xterm-dom-renderer-owner-2 .xterm-fg-61{color:#5f5faf;}.xterm-dom-renderer-owner-2 .xterm-fg-61.xterm-dim{color:#5f5faf80;}.xterm-dom-renderer-owner-2 .xterm-bg-61{background-color:#5f5faf;}.xterm-dom-renderer-owner-2 .xterm-fg-62{color:#5f5fd7;}.xterm-dom-renderer-owner-2 .xterm-fg-62.xterm-dim{color:#5f5fd780;}.xterm-dom-renderer-owner-2 .xterm-bg-62{background-color:#5f5fd7;}.xterm-dom-renderer-owner-2 .xterm-fg-63{color:#5f5fff;}.xterm-dom-renderer-owner-2 .xterm-fg-63.xterm-dim{color:#5f5fff80;}.xterm-dom-renderer-owner-2 .xterm-bg-63{background-color:#5f5fff;}.xterm-dom-renderer-owner-2 .xterm-fg-64{color:#5f8700;}.xterm-dom-renderer-owner-2 .xterm-fg-64.xterm-dim{color:#5f870080;}.xterm-dom-renderer-owner-2 .xterm-bg-64{background-color:#5f8700;}.xterm-dom-renderer-owner-2 .xterm-fg-65{color:#5f875f;}.xterm-dom-renderer-owner-2 .xterm-fg-65.xterm-dim{color:#5f875f80;}.xterm-dom-renderer-owner-2 .xterm-bg-65{background-color:#5f875f;}.xterm-dom-renderer-owner-2 .xterm-fg-66{color:#5f8787;}.xterm-dom-renderer-owner-2 .xterm-fg-66.xterm-dim{color:#5f878780;}.xterm-dom-renderer-owner-2 .xterm-bg-66{background-color:#5f8787;}.xterm-dom-renderer-owner-2 .xterm-fg-67{color:#5f87af;}.xterm-dom-renderer-owner-2 .xterm-fg-67.xterm-dim{color:#5f87af80;}.xterm-dom-renderer-owner-2 .xterm-bg-67{background-color:#5f87af;}.xterm-dom-renderer-owner-2 .xterm-fg-68{color:#5f87d7;}.xterm-dom-renderer-owner-2 .xterm-fg-68.xterm-dim{color:#5f87d780;}.xterm-dom-renderer-owner-2 .xterm-bg-68{background-color:#5f87d7;}.xterm-dom-renderer-owner-2 .xterm-fg-69{color:#5f87ff;}.xterm-dom-renderer-owner-2 .xterm-fg-69.xterm-dim{color:#5f87ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-69{background-color:#5f87ff;}.xterm-dom-renderer-owner-2 .xterm-fg-70{color:#5faf00;}.xterm-dom-renderer-owner-2 .xterm-fg-70.xterm-dim{color:#5faf0080;}.xterm-dom-renderer-owner-2 .xterm-bg-70{background-color:#5faf00;}.xterm-dom-renderer-owner-2 .xterm-fg-71{color:#5faf5f;}.xterm-dom-renderer-owner-2 .xterm-fg-71.xterm-dim{color:#5faf5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-71{background-color:#5faf5f;}.xterm-dom-renderer-owner-2 .xterm-fg-72{color:#5faf87;}.xterm-dom-renderer-owner-2 .xterm-fg-72.xterm-dim{color:#5faf8780;}.xterm-dom-renderer-owner-2 .xterm-bg-72{background-color:#5faf87;}.xterm-dom-renderer-owner-2 .xterm-fg-73{color:#5fafaf;}.xterm-dom-renderer-owner-2 .xterm-fg-73.xterm-dim{color:#5fafaf80;}.xterm-dom-renderer-owner-2 .xterm-bg-73{background-color:#5fafaf;}.xterm-dom-renderer-owner-2 .xterm-fg-74{color:#5fafd7;}.xterm-dom-renderer-owner-2 .xterm-fg-74.xterm-dim{color:#5fafd780;}.xterm-dom-renderer-owner-2 .xterm-bg-74{background-color:#5fafd7;}.xterm-dom-renderer-owner-2 .xterm-fg-75{color:#5fafff;}.xterm-dom-renderer-owner-2 .xterm-fg-75.xterm-dim{color:#5fafff80;}.xterm-dom-renderer-owner-2 .xterm-bg-75{background-color:#5fafff;}.xterm-dom-renderer-owner-2 .xterm-fg-76{color:#5fd700;}.xterm-dom-renderer-owner-2 .xterm-fg-76.xterm-dim{color:#5fd70080;}.xterm-dom-renderer-owner-2 .xterm-bg-76{background-color:#5fd700;}.xterm-dom-renderer-owner-2 .xterm-fg-77{color:#5fd75f;}.xterm-dom-renderer-owner-2 .xterm-fg-77.xterm-dim{color:#5fd75f80;}.xterm-dom-renderer-owner-2 .xterm-bg-77{background-color:#5fd75f;}.xterm-dom-renderer-owner-2 .xterm-fg-78{color:#5fd787;}.xterm-dom-renderer-owner-2 .xterm-fg-78.xterm-dim{color:#5fd78780;}.xterm-dom-renderer-owner-2 .xterm-bg-78{background-color:#5fd787;}.xterm-dom-renderer-owner-2 .xterm-fg-79{color:#5fd7af;}.xterm-dom-renderer-owner-2 .xterm-fg-79.xterm-dim{color:#5fd7af80;}.xterm-dom-renderer-owner-2 .xterm-bg-79{background-color:#5fd7af;}.xterm-dom-renderer-owner-2 .xterm-fg-80{color:#5fd7d7;}.xterm-dom-renderer-owner-2 .xterm-fg-80.xterm-dim{color:#5fd7d780;}.xterm-dom-renderer-owner-2 .xterm-bg-80{background-color:#5fd7d7;}.xterm-dom-renderer-owner-2 .xterm-fg-81{color:#5fd7ff;}.xterm-dom-renderer-owner-2 .xterm-fg-81.xterm-dim{color:#5fd7ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-81{background-color:#5fd7ff;}.xterm-dom-renderer-owner-2 .xterm-fg-82{color:#5fff00;}.xterm-dom-renderer-owner-2 .xterm-fg-82.xterm-dim{color:#5fff0080;}.xterm-dom-renderer-owner-2 .xterm-bg-82{background-color:#5fff00;}.xterm-dom-renderer-owner-2 .xterm-fg-83{color:#5fff5f;}.xterm-dom-renderer-owner-2 .xterm-fg-83.xterm-dim{color:#5fff5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-83{background-color:#5fff5f;}.xterm-dom-renderer-owner-2 .xterm-fg-84{color:#5fff87;}.xterm-dom-renderer-owner-2 .xterm-fg-84.xterm-dim{color:#5fff8780;}.xterm-dom-renderer-owner-2 .xterm-bg-84{background-color:#5fff87;}.xterm-dom-renderer-owner-2 .xterm-fg-85{color:#5fffaf;}.xterm-dom-renderer-owner-2 .xterm-fg-85.xterm-dim{color:#5fffaf80;}.xterm-dom-renderer-owner-2 .xterm-bg-85{background-color:#5fffaf;}.xterm-dom-renderer-owner-2 .xterm-fg-86{color:#5fffd7;}.xterm-dom-renderer-owner-2 .xterm-fg-86.xterm-dim{color:#5fffd780;}.xterm-dom-renderer-owner-2 .xterm-bg-86{background-color:#5fffd7;}.xterm-dom-renderer-owner-2 .xterm-fg-87{color:#5fffff;}.xterm-dom-renderer-owner-2 .xterm-fg-87.xterm-dim{color:#5fffff80;}.xterm-dom-renderer-owner-2 .xterm-bg-87{background-color:#5fffff;}.xterm-dom-renderer-owner-2 .xterm-fg-88{color:#870000;}.xterm-dom-renderer-owner-2 .xterm-fg-88.xterm-dim{color:#87000080;}.xterm-dom-renderer-owner-2 .xterm-bg-88{background-color:#870000;}.xterm-dom-renderer-owner-2 .xterm-fg-89{color:#87005f;}.xterm-dom-renderer-owner-2 .xterm-fg-89.xterm-dim{color:#87005f80;}.xterm-dom-renderer-owner-2 .xterm-bg-89{background-color:#87005f;}.xterm-dom-renderer-owner-2 .xterm-fg-90{color:#870087;}.xterm-dom-renderer-owner-2 .xterm-fg-90.xterm-dim{color:#87008780;}.xterm-dom-renderer-owner-2 .xterm-bg-90{background-color:#870087;}.xterm-dom-renderer-owner-2 .xterm-fg-91{color:#8700af;}.xterm-dom-renderer-owner-2 .xterm-fg-91.xterm-dim{color:#8700af80;}.xterm-dom-renderer-owner-2 .xterm-bg-91{background-color:#8700af;}.xterm-dom-renderer-owner-2 .xterm-fg-92{color:#8700d7;}.xterm-dom-renderer-owner-2 .xterm-fg-92.xterm-dim{color:#8700d780;}.xterm-dom-renderer-owner-2 .xterm-bg-92{background-color:#8700d7;}.xterm-dom-renderer-owner-2 .xterm-fg-93{color:#8700ff;}.xterm-dom-renderer-owner-2 .xterm-fg-93.xterm-dim{color:#8700ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-93{background-color:#8700ff;}.xterm-dom-renderer-owner-2 .xterm-fg-94{color:#875f00;}.xterm-dom-renderer-owner-2 .xterm-fg-94.xterm-dim{color:#875f0080;}.xterm-dom-renderer-owner-2 .xterm-bg-94{background-color:#875f00;}.xterm-dom-renderer-owner-2 .xterm-fg-95{color:#875f5f;}.xterm-dom-renderer-owner-2 .xterm-fg-95.xterm-dim{color:#875f5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-95{background-color:#875f5f;}.xterm-dom-renderer-owner-2 .xterm-fg-96{color:#875f87;}.xterm-dom-renderer-owner-2 .xterm-fg-96.xterm-dim{color:#875f8780;}.xterm-dom-renderer-owner-2 .xterm-bg-96{background-color:#875f87;}.xterm-dom-renderer-owner-2 .xterm-fg-97{color:#875faf;}.xterm-dom-renderer-owner-2 .xterm-fg-97.xterm-dim{color:#875faf80;}.xterm-dom-renderer-owner-2 .xterm-bg-97{background-color:#875faf;}.xterm-dom-renderer-owner-2 .xterm-fg-98{color:#875fd7;}.xterm-dom-renderer-owner-2 .xterm-fg-98.xterm-dim{color:#875fd780;}.xterm-dom-renderer-owner-2 .xterm-bg-98{background-color:#875fd7;}.xterm-dom-renderer-owner-2 .xterm-fg-99{color:#875fff;}.xterm-dom-renderer-owner-2 .xterm-fg-99.xterm-dim{color:#875fff80;}.xterm-dom-renderer-owner-2 .xterm-bg-99{background-color:#875fff;}.xterm-dom-renderer-owner-2 .xterm-fg-100{color:#878700;}.xterm-dom-renderer-owner-2 .xterm-fg-100.xterm-dim{color:#87870080;}.xterm-dom-renderer-owner-2 .xterm-bg-100{background-color:#878700;}.xterm-dom-renderer-owner-2 .xterm-fg-101{color:#87875f;}.xterm-dom-renderer-owner-2 .xterm-fg-101.xterm-dim{color:#87875f80;}.xterm-dom-renderer-owner-2 .xterm-bg-101{background-color:#87875f;}.xterm-dom-renderer-owner-2 .xterm-fg-102{color:#878787;}.xterm-dom-renderer-owner-2 .xterm-fg-102.xterm-dim{color:#87878780;}.xterm-dom-renderer-owner-2 .xterm-bg-102{background-color:#878787;}.xterm-dom-renderer-owner-2 .xterm-fg-103{color:#8787af;}.xterm-dom-renderer-owner-2 .xterm-fg-103.xterm-dim{color:#8787af80;}.xterm-dom-renderer-owner-2 .xterm-bg-103{background-color:#8787af;}.xterm-dom-renderer-owner-2 .xterm-fg-104{color:#8787d7;}.xterm-dom-renderer-owner-2 .xterm-fg-104.xterm-dim{color:#8787d780;}.xterm-dom-renderer-owner-2 .xterm-bg-104{background-color:#8787d7;}.xterm-dom-renderer-owner-2 .xterm-fg-105{color:#8787ff;}.xterm-dom-renderer-owner-2 .xterm-fg-105.xterm-dim{color:#8787ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-105{background-color:#8787ff;}.xterm-dom-renderer-owner-2 .xterm-fg-106{color:#87af00;}.xterm-dom-renderer-owner-2 .xterm-fg-106.xterm-dim{color:#87af0080;}.xterm-dom-renderer-owner-2 .xterm-bg-106{background-color:#87af00;}.xterm-dom-renderer-owner-2 .xterm-fg-107{color:#87af5f;}.xterm-dom-renderer-owner-2 .xterm-fg-107.xterm-dim{color:#87af5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-107{background-color:#87af5f;}.xterm-dom-renderer-owner-2 .xterm-fg-108{color:#87af87;}.xterm-dom-renderer-owner-2 .xterm-fg-108.xterm-dim{color:#87af8780;}.xterm-dom-renderer-owner-2 .xterm-bg-108{background-color:#87af87;}.xterm-dom-renderer-owner-2 .xterm-fg-109{color:#87afaf;}.xterm-dom-renderer-owner-2 .xterm-fg-109.xterm-dim{color:#87afaf80;}.xterm-dom-renderer-owner-2 .xterm-bg-109{background-color:#87afaf;}.xterm-dom-renderer-owner-2 .xterm-fg-110{color:#87afd7;}.xterm-dom-renderer-owner-2 .xterm-fg-110.xterm-dim{color:#87afd780;}.xterm-dom-renderer-owner-2 .xterm-bg-110{background-color:#87afd7;}.xterm-dom-renderer-owner-2 .xterm-fg-111{color:#87afff;}.xterm-dom-renderer-owner-2 .xterm-fg-111.xterm-dim{color:#87afff80;}.xterm-dom-renderer-owner-2 .xterm-bg-111{background-color:#87afff;}.xterm-dom-renderer-owner-2 .xterm-fg-112{color:#87d700;}.xterm-dom-renderer-owner-2 .xterm-fg-112.xterm-dim{color:#87d70080;}.xterm-dom-renderer-owner-2 .xterm-bg-112{background-color:#87d700;}.xterm-dom-renderer-owner-2 .xterm-fg-113{color:#87d75f;}.xterm-dom-renderer-owner-2 .xterm-fg-113.xterm-dim{color:#87d75f80;}.xterm-dom-renderer-owner-2 .xterm-bg-113{background-color:#87d75f;}.xterm-dom-renderer-owner-2 .xterm-fg-114{color:#87d787;}.xterm-dom-renderer-owner-2 .xterm-fg-114.xterm-dim{color:#87d78780;}.xterm-dom-renderer-owner-2 .xterm-bg-114{background-color:#87d787;}.xterm-dom-renderer-owner-2 .xterm-fg-115{color:#87d7af;}.xterm-dom-renderer-owner-2 .xterm-fg-115.xterm-dim{color:#87d7af80;}.xterm-dom-renderer-owner-2 .xterm-bg-115{background-color:#87d7af;}.xterm-dom-renderer-owner-2 .xterm-fg-116{color:#87d7d7;}.xterm-dom-renderer-owner-2 .xterm-fg-116.xterm-dim{color:#87d7d780;}.xterm-dom-renderer-owner-2 .xterm-bg-116{background-color:#87d7d7;}.xterm-dom-renderer-owner-2 .xterm-fg-117{color:#87d7ff;}.xterm-dom-renderer-owner-2 .xterm-fg-117.xterm-dim{color:#87d7ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-117{background-color:#87d7ff;}.xterm-dom-renderer-owner-2 .xterm-fg-118{color:#87ff00;}.xterm-dom-renderer-owner-2 .xterm-fg-118.xterm-dim{color:#87ff0080;}.xterm-dom-renderer-owner-2 .xterm-bg-118{background-color:#87ff00;}.xterm-dom-renderer-owner-2 .xterm-fg-119{color:#87ff5f;}.xterm-dom-renderer-owner-2 .xterm-fg-119.xterm-dim{color:#87ff5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-119{background-color:#87ff5f;}.xterm-dom-renderer-owner-2 .xterm-fg-120{color:#87ff87;}.xterm-dom-renderer-owner-2 .xterm-fg-120.xterm-dim{color:#87ff8780;}.xterm-dom-renderer-owner-2 .xterm-bg-120{background-color:#87ff87;}.xterm-dom-renderer-owner-2 .xterm-fg-121{color:#87ffaf;}.xterm-dom-renderer-owner-2 .xterm-fg-121.xterm-dim{color:#87ffaf80;}.xterm-dom-renderer-owner-2 .xterm-bg-121{background-color:#87ffaf;}.xterm-dom-renderer-owner-2 .xterm-fg-122{color:#87ffd7;}.xterm-dom-renderer-owner-2 .xterm-fg-122.xterm-dim{color:#87ffd780;}.xterm-dom-renderer-owner-2 .xterm-bg-122{background-color:#87ffd7;}.xterm-dom-renderer-owner-2 .xterm-fg-123{color:#87ffff;}.xterm-dom-renderer-owner-2 .xterm-fg-123.xterm-dim{color:#87ffff80;}.xterm-dom-renderer-owner-2 .xterm-bg-123{background-color:#87ffff;}.xterm-dom-renderer-owner-2 .xterm-fg-124{color:#af0000;}.xterm-dom-renderer-owner-2 .xterm-fg-124.xterm-dim{color:#af000080;}.xterm-dom-renderer-owner-2 .xterm-bg-124{background-color:#af0000;}.xterm-dom-renderer-owner-2 .xterm-fg-125{color:#af005f;}.xterm-dom-renderer-owner-2 .xterm-fg-125.xterm-dim{color:#af005f80;}.xterm-dom-renderer-owner-2 .xterm-bg-125{background-color:#af005f;}.xterm-dom-renderer-owner-2 .xterm-fg-126{color:#af0087;}.xterm-dom-renderer-owner-2 .xterm-fg-126.xterm-dim{color:#af008780;}.xterm-dom-renderer-owner-2 .xterm-bg-126{background-color:#af0087;}.xterm-dom-renderer-owner-2 .xterm-fg-127{color:#af00af;}.xterm-dom-renderer-owner-2 .xterm-fg-127.xterm-dim{color:#af00af80;}.xterm-dom-renderer-owner-2 .xterm-bg-127{background-color:#af00af;}.xterm-dom-renderer-owner-2 .xterm-fg-128{color:#af00d7;}.xterm-dom-renderer-owner-2 .xterm-fg-128.xterm-dim{color:#af00d780;}.xterm-dom-renderer-owner-2 .xterm-bg-128{background-color:#af00d7;}.xterm-dom-renderer-owner-2 .xterm-fg-129{color:#af00ff;}.xterm-dom-renderer-owner-2 .xterm-fg-129.xterm-dim{color:#af00ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-129{background-color:#af00ff;}.xterm-dom-renderer-owner-2 .xterm-fg-130{color:#af5f00;}.xterm-dom-renderer-owner-2 .xterm-fg-130.xterm-dim{color:#af5f0080;}.xterm-dom-renderer-owner-2 .xterm-bg-130{background-color:#af5f00;}.xterm-dom-renderer-owner-2 .xterm-fg-131{color:#af5f5f;}.xterm-dom-renderer-owner-2 .xterm-fg-131.xterm-dim{color:#af5f5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-131{background-color:#af5f5f;}.xterm-dom-renderer-owner-2 .xterm-fg-132{color:#af5f87;}.xterm-dom-renderer-owner-2 .xterm-fg-132.xterm-dim{color:#af5f8780;}.xterm-dom-renderer-owner-2 .xterm-bg-132{background-color:#af5f87;}.xterm-dom-renderer-owner-2 .xterm-fg-133{color:#af5faf;}.xterm-dom-renderer-owner-2 .xterm-fg-133.xterm-dim{color:#af5faf80;}.xterm-dom-renderer-owner-2 .xterm-bg-133{background-color:#af5faf;}.xterm-dom-renderer-owner-2 .xterm-fg-134{color:#af5fd7;}.xterm-dom-renderer-owner-2 .xterm-fg-134.xterm-dim{color:#af5fd780;}.xterm-dom-renderer-owner-2 .xterm-bg-134{background-color:#af5fd7;}.xterm-dom-renderer-owner-2 .xterm-fg-135{color:#af5fff;}.xterm-dom-renderer-owner-2 .xterm-fg-135.xterm-dim{color:#af5fff80;}.xterm-dom-renderer-owner-2 .xterm-bg-135{background-color:#af5fff;}.xterm-dom-renderer-owner-2 .xterm-fg-136{color:#af8700;}.xterm-dom-renderer-owner-2 .xterm-fg-136.xterm-dim{color:#af870080;}.xterm-dom-renderer-owner-2 .xterm-bg-136{background-color:#af8700;}.xterm-dom-renderer-owner-2 .xterm-fg-137{color:#af875f;}.xterm-dom-renderer-owner-2 .xterm-fg-137.xterm-dim{color:#af875f80;}.xterm-dom-renderer-owner-2 .xterm-bg-137{background-color:#af875f;}.xterm-dom-renderer-owner-2 .xterm-fg-138{color:#af8787;}.xterm-dom-renderer-owner-2 .xterm-fg-138.xterm-dim{color:#af878780;}.xterm-dom-renderer-owner-2 .xterm-bg-138{background-color:#af8787;}.xterm-dom-renderer-owner-2 .xterm-fg-139{color:#af87af;}.xterm-dom-renderer-owner-2 .xterm-fg-139.xterm-dim{color:#af87af80;}.xterm-dom-renderer-owner-2 .xterm-bg-139{background-color:#af87af;}.xterm-dom-renderer-owner-2 .xterm-fg-140{color:#af87d7;}.xterm-dom-renderer-owner-2 .xterm-fg-140.xterm-dim{color:#af87d780;}.xterm-dom-renderer-owner-2 .xterm-bg-140{background-color:#af87d7;}.xterm-dom-renderer-owner-2 .xterm-fg-141{color:#af87ff;}.xterm-dom-renderer-owner-2 .xterm-fg-141.xterm-dim{color:#af87ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-141{background-color:#af87ff;}.xterm-dom-renderer-owner-2 .xterm-fg-142{color:#afaf00;}.xterm-dom-renderer-owner-2 .xterm-fg-142.xterm-dim{color:#afaf0080;}.xterm-dom-renderer-owner-2 .xterm-bg-142{background-color:#afaf00;}.xterm-dom-renderer-owner-2 .xterm-fg-143{color:#afaf5f;}.xterm-dom-renderer-owner-2 .xterm-fg-143.xterm-dim{color:#afaf5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-143{background-color:#afaf5f;}.xterm-dom-renderer-owner-2 .xterm-fg-144{color:#afaf87;}.xterm-dom-renderer-owner-2 .xterm-fg-144.xterm-dim{color:#afaf8780;}.xterm-dom-renderer-owner-2 .xterm-bg-144{background-color:#afaf87;}.xterm-dom-renderer-owner-2 .xterm-fg-145{color:#afafaf;}.xterm-dom-renderer-owner-2 .xterm-fg-145.xterm-dim{color:#afafaf80;}.xterm-dom-renderer-owner-2 .xterm-bg-145{background-color:#afafaf;}.xterm-dom-renderer-owner-2 .xterm-fg-146{color:#afafd7;}.xterm-dom-renderer-owner-2 .xterm-fg-146.xterm-dim{color:#afafd780;}.xterm-dom-renderer-owner-2 .xterm-bg-146{background-color:#afafd7;}.xterm-dom-renderer-owner-2 .xterm-fg-147{color:#afafff;}.xterm-dom-renderer-owner-2 .xterm-fg-147.xterm-dim{color:#afafff80;}.xterm-dom-renderer-owner-2 .xterm-bg-147{background-color:#afafff;}.xterm-dom-renderer-owner-2 .xterm-fg-148{color:#afd700;}.xterm-dom-renderer-owner-2 .xterm-fg-148.xterm-dim{color:#afd70080;}.xterm-dom-renderer-owner-2 .xterm-bg-148{background-color:#afd700;}.xterm-dom-renderer-owner-2 .xterm-fg-149{color:#afd75f;}.xterm-dom-renderer-owner-2 .xterm-fg-149.xterm-dim{color:#afd75f80;}.xterm-dom-renderer-owner-2 .xterm-bg-149{background-color:#afd75f;}.xterm-dom-renderer-owner-2 .xterm-fg-150{color:#afd787;}.xterm-dom-renderer-owner-2 .xterm-fg-150.xterm-dim{color:#afd78780;}.xterm-dom-renderer-owner-2 .xterm-bg-150{background-color:#afd787;}.xterm-dom-renderer-owner-2 .xterm-fg-151{color:#afd7af;}.xterm-dom-renderer-owner-2 .xterm-fg-151.xterm-dim{color:#afd7af80;}.xterm-dom-renderer-owner-2 .xterm-bg-151{background-color:#afd7af;}.xterm-dom-renderer-owner-2 .xterm-fg-152{color:#afd7d7;}.xterm-dom-renderer-owner-2 .xterm-fg-152.xterm-dim{color:#afd7d780;}.xterm-dom-renderer-owner-2 .xterm-bg-152{background-color:#afd7d7;}.xterm-dom-renderer-owner-2 .xterm-fg-153{color:#afd7ff;}.xterm-dom-renderer-owner-2 .xterm-fg-153.xterm-dim{color:#afd7ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-153{background-color:#afd7ff;}.xterm-dom-renderer-owner-2 .xterm-fg-154{color:#afff00;}.xterm-dom-renderer-owner-2 .xterm-fg-154.xterm-dim{color:#afff0080;}.xterm-dom-renderer-owner-2 .xterm-bg-154{background-color:#afff00;}.xterm-dom-renderer-owner-2 .xterm-fg-155{color:#afff5f;}.xterm-dom-renderer-owner-2 .xterm-fg-155.xterm-dim{color:#afff5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-155{background-color:#afff5f;}.xterm-dom-renderer-owner-2 .xterm-fg-156{color:#afff87;}.xterm-dom-renderer-owner-2 .xterm-fg-156.xterm-dim{color:#afff8780;}.xterm-dom-renderer-owner-2 .xterm-bg-156{background-color:#afff87;}.xterm-dom-renderer-owner-2 .xterm-fg-157{color:#afffaf;}.xterm-dom-renderer-owner-2 .xterm-fg-157.xterm-dim{color:#afffaf80;}.xterm-dom-renderer-owner-2 .xterm-bg-157{background-color:#afffaf;}.xterm-dom-renderer-owner-2 .xterm-fg-158{color:#afffd7;}.xterm-dom-renderer-owner-2 .xterm-fg-158.xterm-dim{color:#afffd780;}.xterm-dom-renderer-owner-2 .xterm-bg-158{background-color:#afffd7;}.xterm-dom-renderer-owner-2 .xterm-fg-159{color:#afffff;}.xterm-dom-renderer-owner-2 .xterm-fg-159.xterm-dim{color:#afffff80;}.xterm-dom-renderer-owner-2 .xterm-bg-159{background-color:#afffff;}.xterm-dom-renderer-owner-2 .xterm-fg-160{color:#d70000;}.xterm-dom-renderer-owner-2 .xterm-fg-160.xterm-dim{color:#d7000080;}.xterm-dom-renderer-owner-2 .xterm-bg-160{background-color:#d70000;}.xterm-dom-renderer-owner-2 .xterm-fg-161{color:#d7005f;}.xterm-dom-renderer-owner-2 .xterm-fg-161.xterm-dim{color:#d7005f80;}.xterm-dom-renderer-owner-2 .xterm-bg-161{background-color:#d7005f;}.xterm-dom-renderer-owner-2 .xterm-fg-162{color:#d70087;}.xterm-dom-renderer-owner-2 .xterm-fg-162.xterm-dim{color:#d7008780;}.xterm-dom-renderer-owner-2 .xterm-bg-162{background-color:#d70087;}.xterm-dom-renderer-owner-2 .xterm-fg-163{color:#d700af;}.xterm-dom-renderer-owner-2 .xterm-fg-163.xterm-dim{color:#d700af80;}.xterm-dom-renderer-owner-2 .xterm-bg-163{background-color:#d700af;}.xterm-dom-renderer-owner-2 .xterm-fg-164{color:#d700d7;}.xterm-dom-renderer-owner-2 .xterm-fg-164.xterm-dim{color:#d700d780;}.xterm-dom-renderer-owner-2 .xterm-bg-164{background-color:#d700d7;}.xterm-dom-renderer-owner-2 .xterm-fg-165{color:#d700ff;}.xterm-dom-renderer-owner-2 .xterm-fg-165.xterm-dim{color:#d700ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-165{background-color:#d700ff;}.xterm-dom-renderer-owner-2 .xterm-fg-166{color:#d75f00;}.xterm-dom-renderer-owner-2 .xterm-fg-166.xterm-dim{color:#d75f0080;}.xterm-dom-renderer-owner-2 .xterm-bg-166{background-color:#d75f00;}.xterm-dom-renderer-owner-2 .xterm-fg-167{color:#d75f5f;}.xterm-dom-renderer-owner-2 .xterm-fg-167.xterm-dim{color:#d75f5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-167{background-color:#d75f5f;}.xterm-dom-renderer-owner-2 .xterm-fg-168{color:#d75f87;}.xterm-dom-renderer-owner-2 .xterm-fg-168.xterm-dim{color:#d75f8780;}.xterm-dom-renderer-owner-2 .xterm-bg-168{background-color:#d75f87;}.xterm-dom-renderer-owner-2 .xterm-fg-169{color:#d75faf;}.xterm-dom-renderer-owner-2 .xterm-fg-169.xterm-dim{color:#d75faf80;}.xterm-dom-renderer-owner-2 .xterm-bg-169{background-color:#d75faf;}.xterm-dom-renderer-owner-2 .xterm-fg-170{color:#d75fd7;}.xterm-dom-renderer-owner-2 .xterm-fg-170.xterm-dim{color:#d75fd780;}.xterm-dom-renderer-owner-2 .xterm-bg-170{background-color:#d75fd7;}.xterm-dom-renderer-owner-2 .xterm-fg-171{color:#d75fff;}.xterm-dom-renderer-owner-2 .xterm-fg-171.xterm-dim{color:#d75fff80;}.xterm-dom-renderer-owner-2 .xterm-bg-171{background-color:#d75fff;}.xterm-dom-renderer-owner-2 .xterm-fg-172{color:#d78700;}.xterm-dom-renderer-owner-2 .xterm-fg-172.xterm-dim{color:#d7870080;}.xterm-dom-renderer-owner-2 .xterm-bg-172{background-color:#d78700;}.xterm-dom-renderer-owner-2 .xterm-fg-173{color:#d7875f;}.xterm-dom-renderer-owner-2 .xterm-fg-173.xterm-dim{color:#d7875f80;}.xterm-dom-renderer-owner-2 .xterm-bg-173{background-color:#d7875f;}.xterm-dom-renderer-owner-2 .xterm-fg-174{color:#d78787;}.xterm-dom-renderer-owner-2 .xterm-fg-174.xterm-dim{color:#d7878780;}.xterm-dom-renderer-owner-2 .xterm-bg-174{background-color:#d78787;}.xterm-dom-renderer-owner-2 .xterm-fg-175{color:#d787af;}.xterm-dom-renderer-owner-2 .xterm-fg-175.xterm-dim{color:#d787af80;}.xterm-dom-renderer-owner-2 .xterm-bg-175{background-color:#d787af;}.xterm-dom-renderer-owner-2 .xterm-fg-176{color:#d787d7;}.xterm-dom-renderer-owner-2 .xterm-fg-176.xterm-dim{color:#d787d780;}.xterm-dom-renderer-owner-2 .xterm-bg-176{background-color:#d787d7;}.xterm-dom-renderer-owner-2 .xterm-fg-177{color:#d787ff;}.xterm-dom-renderer-owner-2 .xterm-fg-177.xterm-dim{color:#d787ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-177{background-color:#d787ff;}.xterm-dom-renderer-owner-2 .xterm-fg-178{color:#d7af00;}.xterm-dom-renderer-owner-2 .xterm-fg-178.xterm-dim{color:#d7af0080;}.xterm-dom-renderer-owner-2 .xterm-bg-178{background-color:#d7af00;}.xterm-dom-renderer-owner-2 .xterm-fg-179{color:#d7af5f;}.xterm-dom-renderer-owner-2 .xterm-fg-179.xterm-dim{color:#d7af5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-179{background-color:#d7af5f;}.xterm-dom-renderer-owner-2 .xterm-fg-180{color:#d7af87;}.xterm-dom-renderer-owner-2 .xterm-fg-180.xterm-dim{color:#d7af8780;}.xterm-dom-renderer-owner-2 .xterm-bg-180{background-color:#d7af87;}.xterm-dom-renderer-owner-2 .xterm-fg-181{color:#d7afaf;}.xterm-dom-renderer-owner-2 .xterm-fg-181.xterm-dim{color:#d7afaf80;}.xterm-dom-renderer-owner-2 .xterm-bg-181{background-color:#d7afaf;}.xterm-dom-renderer-owner-2 .xterm-fg-182{color:#d7afd7;}.xterm-dom-renderer-owner-2 .xterm-fg-182.xterm-dim{color:#d7afd780;}.xterm-dom-renderer-owner-2 .xterm-bg-182{background-color:#d7afd7;}.xterm-dom-renderer-owner-2 .xterm-fg-183{color:#d7afff;}.xterm-dom-renderer-owner-2 .xterm-fg-183.xterm-dim{color:#d7afff80;}.xterm-dom-renderer-owner-2 .xterm-bg-183{background-color:#d7afff;}.xterm-dom-renderer-owner-2 .xterm-fg-184{color:#d7d700;}.xterm-dom-renderer-owner-2 .xterm-fg-184.xterm-dim{color:#d7d70080;}.xterm-dom-renderer-owner-2 .xterm-bg-184{background-color:#d7d700;}.xterm-dom-renderer-owner-2 .xterm-fg-185{color:#d7d75f;}.xterm-dom-renderer-owner-2 .xterm-fg-185.xterm-dim{color:#d7d75f80;}.xterm-dom-renderer-owner-2 .xterm-bg-185{background-color:#d7d75f;}.xterm-dom-renderer-owner-2 .xterm-fg-186{color:#d7d787;}.xterm-dom-renderer-owner-2 .xterm-fg-186.xterm-dim{color:#d7d78780;}.xterm-dom-renderer-owner-2 .xterm-bg-186{background-color:#d7d787;}.xterm-dom-renderer-owner-2 .xterm-fg-187{color:#d7d7af;}.xterm-dom-renderer-owner-2 .xterm-fg-187.xterm-dim{color:#d7d7af80;}.xterm-dom-renderer-owner-2 .xterm-bg-187{background-color:#d7d7af;}.xterm-dom-renderer-owner-2 .xterm-fg-188{color:#d7d7d7;}.xterm-dom-renderer-owner-2 .xterm-fg-188.xterm-dim{color:#d7d7d780;}.xterm-dom-renderer-owner-2 .xterm-bg-188{background-color:#d7d7d7;}.xterm-dom-renderer-owner-2 .xterm-fg-189{color:#d7d7ff;}.xterm-dom-renderer-owner-2 .xterm-fg-189.xterm-dim{color:#d7d7ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-189{background-color:#d7d7ff;}.xterm-dom-renderer-owner-2 .xterm-fg-190{color:#d7ff00;}.xterm-dom-renderer-owner-2 .xterm-fg-190.xterm-dim{color:#d7ff0080;}.xterm-dom-renderer-owner-2 .xterm-bg-190{background-color:#d7ff00;}.xterm-dom-renderer-owner-2 .xterm-fg-191{color:#d7ff5f;}.xterm-dom-renderer-owner-2 .xterm-fg-191.xterm-dim{color:#d7ff5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-191{background-color:#d7ff5f;}.xterm-dom-renderer-owner-2 .xterm-fg-192{color:#d7ff87;}.xterm-dom-renderer-owner-2 .xterm-fg-192.xterm-dim{color:#d7ff8780;}.xterm-dom-renderer-owner-2 .xterm-bg-192{background-color:#d7ff87;}.xterm-dom-renderer-owner-2 .xterm-fg-193{color:#d7ffaf;}.xterm-dom-renderer-owner-2 .xterm-fg-193.xterm-dim{color:#d7ffaf80;}.xterm-dom-renderer-owner-2 .xterm-bg-193{background-color:#d7ffaf;}.xterm-dom-renderer-owner-2 .xterm-fg-194{color:#d7ffd7;}.xterm-dom-renderer-owner-2 .xterm-fg-194.xterm-dim{color:#d7ffd780;}.xterm-dom-renderer-owner-2 .xterm-bg-194{background-color:#d7ffd7;}.xterm-dom-renderer-owner-2 .xterm-fg-195{color:#d7ffff;}.xterm-dom-renderer-owner-2 .xterm-fg-195.xterm-dim{color:#d7ffff80;}.xterm-dom-renderer-owner-2 .xterm-bg-195{background-color:#d7ffff;}.xterm-dom-renderer-owner-2 .xterm-fg-196{color:#ff0000;}.xterm-dom-renderer-owner-2 .xterm-fg-196.xterm-dim{color:#ff000080;}.xterm-dom-renderer-owner-2 .xterm-bg-196{background-color:#ff0000;}.xterm-dom-renderer-owner-2 .xterm-fg-197{color:#ff005f;}.xterm-dom-renderer-owner-2 .xterm-fg-197.xterm-dim{color:#ff005f80;}.xterm-dom-renderer-owner-2 .xterm-bg-197{background-color:#ff005f;}.xterm-dom-renderer-owner-2 .xterm-fg-198{color:#ff0087;}.xterm-dom-renderer-owner-2 .xterm-fg-198.xterm-dim{color:#ff008780;}.xterm-dom-renderer-owner-2 .xterm-bg-198{background-color:#ff0087;}.xterm-dom-renderer-owner-2 .xterm-fg-199{color:#ff00af;}.xterm-dom-renderer-owner-2 .xterm-fg-199.xterm-dim{color:#ff00af80;}.xterm-dom-renderer-owner-2 .xterm-bg-199{background-color:#ff00af;}.xterm-dom-renderer-owner-2 .xterm-fg-200{color:#ff00d7;}.xterm-dom-renderer-owner-2 .xterm-fg-200.xterm-dim{color:#ff00d780;}.xterm-dom-renderer-owner-2 .xterm-bg-200{background-color:#ff00d7;}.xterm-dom-renderer-owner-2 .xterm-fg-201{color:#ff00ff;}.xterm-dom-renderer-owner-2 .xterm-fg-201.xterm-dim{color:#ff00ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-201{background-color:#ff00ff;}.xterm-dom-renderer-owner-2 .xterm-fg-202{color:#ff5f00;}.xterm-dom-renderer-owner-2 .xterm-fg-202.xterm-dim{color:#ff5f0080;}.xterm-dom-renderer-owner-2 .xterm-bg-202{background-color:#ff5f00;}.xterm-dom-renderer-owner-2 .xterm-fg-203{color:#ff5f5f;}.xterm-dom-renderer-owner-2 .xterm-fg-203.xterm-dim{color:#ff5f5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-203{background-color:#ff5f5f;}.xterm-dom-renderer-owner-2 .xterm-fg-204{color:#ff5f87;}.xterm-dom-renderer-owner-2 .xterm-fg-204.xterm-dim{color:#ff5f8780;}.xterm-dom-renderer-owner-2 .xterm-bg-204{background-color:#ff5f87;}.xterm-dom-renderer-owner-2 .xterm-fg-205{color:#ff5faf;}.xterm-dom-renderer-owner-2 .xterm-fg-205.xterm-dim{color:#ff5faf80;}.xterm-dom-renderer-owner-2 .xterm-bg-205{background-color:#ff5faf;}.xterm-dom-renderer-owner-2 .xterm-fg-206{color:#ff5fd7;}.xterm-dom-renderer-owner-2 .xterm-fg-206.xterm-dim{color:#ff5fd780;}.xterm-dom-renderer-owner-2 .xterm-bg-206{background-color:#ff5fd7;}.xterm-dom-renderer-owner-2 .xterm-fg-207{color:#ff5fff;}.xterm-dom-renderer-owner-2 .xterm-fg-207.xterm-dim{color:#ff5fff80;}.xterm-dom-renderer-owner-2 .xterm-bg-207{background-color:#ff5fff;}.xterm-dom-renderer-owner-2 .xterm-fg-208{color:#ff8700;}.xterm-dom-renderer-owner-2 .xterm-fg-208.xterm-dim{color:#ff870080;}.xterm-dom-renderer-owner-2 .xterm-bg-208{background-color:#ff8700;}.xterm-dom-renderer-owner-2 .xterm-fg-209{color:#ff875f;}.xterm-dom-renderer-owner-2 .xterm-fg-209.xterm-dim{color:#ff875f80;}.xterm-dom-renderer-owner-2 .xterm-bg-209{background-color:#ff875f;}.xterm-dom-renderer-owner-2 .xterm-fg-210{color:#ff8787;}.xterm-dom-renderer-owner-2 .xterm-fg-210.xterm-dim{color:#ff878780;}.xterm-dom-renderer-owner-2 .xterm-bg-210{background-color:#ff8787;}.xterm-dom-renderer-owner-2 .xterm-fg-211{color:#ff87af;}.xterm-dom-renderer-owner-2 .xterm-fg-211.xterm-dim{color:#ff87af80;}.xterm-dom-renderer-owner-2 .xterm-bg-211{background-color:#ff87af;}.xterm-dom-renderer-owner-2 .xterm-fg-212{color:#ff87d7;}.xterm-dom-renderer-owner-2 .xterm-fg-212.xterm-dim{color:#ff87d780;}.xterm-dom-renderer-owner-2 .xterm-bg-212{background-color:#ff87d7;}.xterm-dom-renderer-owner-2 .xterm-fg-213{color:#ff87ff;}.xterm-dom-renderer-owner-2 .xterm-fg-213.xterm-dim{color:#ff87ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-213{background-color:#ff87ff;}.xterm-dom-renderer-owner-2 .xterm-fg-214{color:#ffaf00;}.xterm-dom-renderer-owner-2 .xterm-fg-214.xterm-dim{color:#ffaf0080;}.xterm-dom-renderer-owner-2 .xterm-bg-214{background-color:#ffaf00;}.xterm-dom-renderer-owner-2 .xterm-fg-215{color:#ffaf5f;}.xterm-dom-renderer-owner-2 .xterm-fg-215.xterm-dim{color:#ffaf5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-215{background-color:#ffaf5f;}.xterm-dom-renderer-owner-2 .xterm-fg-216{color:#ffaf87;}.xterm-dom-renderer-owner-2 .xterm-fg-216.xterm-dim{color:#ffaf8780;}.xterm-dom-renderer-owner-2 .xterm-bg-216{background-color:#ffaf87;}.xterm-dom-renderer-owner-2 .xterm-fg-217{color:#ffafaf;}.xterm-dom-renderer-owner-2 .xterm-fg-217.xterm-dim{color:#ffafaf80;}.xterm-dom-renderer-owner-2 .xterm-bg-217{background-color:#ffafaf;}.xterm-dom-renderer-owner-2 .xterm-fg-218{color:#ffafd7;}.xterm-dom-renderer-owner-2 .xterm-fg-218.xterm-dim{color:#ffafd780;}.xterm-dom-renderer-owner-2 .xterm-bg-218{background-color:#ffafd7;}.xterm-dom-renderer-owner-2 .xterm-fg-219{color:#ffafff;}.xterm-dom-renderer-owner-2 .xterm-fg-219.xterm-dim{color:#ffafff80;}.xterm-dom-renderer-owner-2 .xterm-bg-219{background-color:#ffafff;}.xterm-dom-renderer-owner-2 .xterm-fg-220{color:#ffd700;}.xterm-dom-renderer-owner-2 .xterm-fg-220.xterm-dim{color:#ffd70080;}.xterm-dom-renderer-owner-2 .xterm-bg-220{background-color:#ffd700;}.xterm-dom-renderer-owner-2 .xterm-fg-221{color:#ffd75f;}.xterm-dom-renderer-owner-2 .xterm-fg-221.xterm-dim{color:#ffd75f80;}.xterm-dom-renderer-owner-2 .xterm-bg-221{background-color:#ffd75f;}.xterm-dom-renderer-owner-2 .xterm-fg-222{color:#ffd787;}.xterm-dom-renderer-owner-2 .xterm-fg-222.xterm-dim{color:#ffd78780;}.xterm-dom-renderer-owner-2 .xterm-bg-222{background-color:#ffd787;}.xterm-dom-renderer-owner-2 .xterm-fg-223{color:#ffd7af;}.xterm-dom-renderer-owner-2 .xterm-fg-223.xterm-dim{color:#ffd7af80;}.xterm-dom-renderer-owner-2 .xterm-bg-223{background-color:#ffd7af;}.xterm-dom-renderer-owner-2 .xterm-fg-224{color:#ffd7d7;}.xterm-dom-renderer-owner-2 .xterm-fg-224.xterm-dim{color:#ffd7d780;}.xterm-dom-renderer-owner-2 .xterm-bg-224{background-color:#ffd7d7;}.xterm-dom-renderer-owner-2 .xterm-fg-225{color:#ffd7ff;}.xterm-dom-renderer-owner-2 .xterm-fg-225.xterm-dim{color:#ffd7ff80;}.xterm-dom-renderer-owner-2 .xterm-bg-225{background-color:#ffd7ff;}.xterm-dom-renderer-owner-2 .xterm-fg-226{color:#ffff00;}.xterm-dom-renderer-owner-2 .xterm-fg-226.xterm-dim{color:#ffff0080;}.xterm-dom-renderer-owner-2 .xterm-bg-226{background-color:#ffff00;}.xterm-dom-renderer-owner-2 .xterm-fg-227{color:#ffff5f;}.xterm-dom-renderer-owner-2 .xterm-fg-227.xterm-dim{color:#ffff5f80;}.xterm-dom-renderer-owner-2 .xterm-bg-227{background-color:#ffff5f;}.xterm-dom-renderer-owner-2 .xterm-fg-228{color:#ffff87;}.xterm-dom-renderer-owner-2 .xterm-fg-228.xterm-dim{color:#ffff8780;}.xterm-dom-renderer-owner-2 .xterm-bg-228{background-color:#ffff87;}.xterm-dom-renderer-owner-2 .xterm-fg-229{color:#ffffaf;}.xterm-dom-renderer-owner-2 .xterm-fg-229.xterm-dim{color:#ffffaf80;}.xterm-dom-renderer-owner-2 .xterm-bg-229{background-color:#ffffaf;}.xterm-dom-renderer-owner-2 .xterm-fg-230{color:#ffffd7;}.xterm-dom-renderer-owner-2 .xterm-fg-230.xterm-dim{color:#ffffd780;}.xterm-dom-renderer-owner-2 .xterm-bg-230{background-color:#ffffd7;}.xterm-dom-renderer-owner-2 .xterm-fg-231{color:#ffffff;}.xterm-dom-renderer-owner-2 .xterm-fg-231.xterm-dim{color:#ffffff80;}.xterm-dom-renderer-owner-2 .xterm-bg-231{background-color:#ffffff;}.xterm-dom-renderer-owner-2 .xterm-fg-232{color:#080808;}.xterm-dom-renderer-owner-2 .xterm-fg-232.xterm-dim{color:#08080880;}.xterm-dom-renderer-owner-2 .xterm-bg-232{background-color:#080808;}.xterm-dom-renderer-owner-2 .xterm-fg-233{color:#121212;}.xterm-dom-renderer-owner-2 .xterm-fg-233.xterm-dim{color:#12121280;}.xterm-dom-renderer-owner-2 .xterm-bg-233{background-color:#121212;}.xterm-dom-renderer-owner-2 .xterm-fg-234{color:#1c1c1c;}.xterm-dom-renderer-owner-2 .xterm-fg-234.xterm-dim{color:#1c1c1c80;}.xterm-dom-renderer-owner-2 .xterm-bg-234{background-color:#1c1c1c;}.xterm-dom-renderer-owner-2 .xterm-fg-235{color:#262626;}.xterm-dom-renderer-owner-2 .xterm-fg-235.xterm-dim{color:#26262680;}.xterm-dom-renderer-owner-2 .xterm-bg-235{background-color:#262626;}.xterm-dom-renderer-owner-2 .xterm-fg-236{color:#303030;}.xterm-dom-renderer-owner-2 .xterm-fg-236.xterm-dim{color:#30303080;}.xterm-dom-renderer-owner-2 .xterm-bg-236{background-color:#303030;}.xterm-dom-renderer-owner-2 .xterm-fg-237{color:#3a3a3a;}.xterm-dom-renderer-owner-2 .xterm-fg-237.xterm-dim{color:#3a3a3a80;}.xterm-dom-renderer-owner-2 .xterm-bg-237{background-color:#3a3a3a;}.xterm-dom-renderer-owner-2 .xterm-fg-238{color:#444444;}.xterm-dom-renderer-owner-2 .xterm-fg-238.xterm-dim{color:#44444480;}.xterm-dom-renderer-owner-2 .xterm-bg-238{background-color:#444444;}.xterm-dom-renderer-owner-2 .xterm-fg-239{color:#4e4e4e;}.xterm-dom-renderer-owner-2 .xterm-fg-239.xterm-dim{color:#4e4e4e80;}.xterm-dom-renderer-owner-2 .xterm-bg-239{background-color:#4e4e4e;}.xterm-dom-renderer-owner-2 .xterm-fg-240{color:#585858;}.xterm-dom-renderer-owner-2 .xterm-fg-240.xterm-dim{color:#58585880;}.xterm-dom-renderer-owner-2 .xterm-bg-240{background-color:#585858;}.xterm-dom-renderer-owner-2 .xterm-fg-241{color:#626262;}.xterm-dom-renderer-owner-2 .xterm-fg-241.xterm-dim{color:#62626280;}.xterm-dom-renderer-owner-2 .xterm-bg-241{background-color:#626262;}.xterm-dom-renderer-owner-2 .xterm-fg-242{color:#6c6c6c;}.xterm-dom-renderer-owner-2 .xterm-fg-242.xterm-dim{color:#6c6c6c80;}.xterm-dom-renderer-owner-2 .xterm-bg-242{background-color:#6c6c6c;}.xterm-dom-renderer-owner-2 .xterm-fg-243{color:#767676;}.xterm-dom-renderer-owner-2 .xterm-fg-243.xterm-dim{color:#76767680;}.xterm-dom-renderer-owner-2 .xterm-bg-243{background-color:#767676;}.xterm-dom-renderer-owner-2 .xterm-fg-244{color:#808080;}.xterm-dom-renderer-owner-2 .xterm-fg-244.xterm-dim{color:#80808080;}.xterm-dom-renderer-owner-2 .xterm-bg-244{background-color:#808080;}.xterm-dom-renderer-owner-2 .xterm-fg-245{color:#8a8a8a;}.xterm-dom-renderer-owner-2 .xterm-fg-245.xterm-dim{color:#8a8a8a80;}.xterm-dom-renderer-owner-2 .xterm-bg-245{background-color:#8a8a8a;}.xterm-dom-renderer-owner-2 .xterm-fg-246{color:#949494;}.xterm-dom-renderer-owner-2 .xterm-fg-246.xterm-dim{color:#94949480;}.xterm-dom-renderer-owner-2 .xterm-bg-246{background-color:#949494;}.xterm-dom-renderer-owner-2 .xterm-fg-247{color:#9e9e9e;}.xterm-dom-renderer-owner-2 .xterm-fg-247.xterm-dim{color:#9e9e9e80;}.xterm-dom-renderer-owner-2 .xterm-bg-247{background-color:#9e9e9e;}.xterm-dom-renderer-owner-2 .xterm-fg-248{color:#a8a8a8;}.xterm-dom-renderer-owner-2 .xterm-fg-248.xterm-dim{color:#a8a8a880;}.xterm-dom-renderer-owner-2 .xterm-bg-248{background-color:#a8a8a8;}.xterm-dom-renderer-owner-2 .xterm-fg-249{color:#b2b2b2;}.xterm-dom-renderer-owner-2 .xterm-fg-249.xterm-dim{color:#b2b2b280;}.xterm-dom-renderer-owner-2 .xterm-bg-249{background-color:#b2b2b2;}.xterm-dom-renderer-owner-2 .xterm-fg-250{color:#bcbcbc;}.xterm-dom-renderer-owner-2 .xterm-fg-250.xterm-dim{color:#bcbcbc80;}.xterm-dom-renderer-owner-2 .xterm-bg-250{background-color:#bcbcbc;}.xterm-dom-renderer-owner-2 .xterm-fg-251{color:#c6c6c6;}.xterm-dom-renderer-owner-2 .xterm-fg-251.xterm-dim{color:#c6c6c680;}.xterm-dom-renderer-owner-2 .xterm-bg-251{background-color:#c6c6c6;}.xterm-dom-renderer-owner-2 .xterm-fg-252{color:#d0d0d0;}.xterm-dom-renderer-owner-2 .xterm-fg-252.xterm-dim{color:#d0d0d080;}.xterm-dom-renderer-owner-2 .xterm-bg-252{background-color:#d0d0d0;}.xterm-dom-renderer-owner-2 .xterm-fg-253{color:#dadada;}.xterm-dom-renderer-owner-2 .xterm-fg-253.xterm-dim{color:#dadada80;}.xterm-dom-renderer-owner-2 .xterm-bg-253{background-color:#dadada;}.xterm-dom-renderer-owner-2 .xterm-fg-254{color:#e4e4e4;}.xterm-dom-renderer-owner-2 .xterm-fg-254.xterm-dim{color:#e4e4e480;}.xterm-dom-renderer-owner-2 .xterm-bg-254{background-color:#e4e4e4;}.xterm-dom-renderer-owner-2 .xterm-fg-255{color:#eeeeee;}.xterm-dom-renderer-owner-2 .xterm-fg-255.xterm-dim{color:#eeeeee80;}.xterm-dom-renderer-owner-2 .xterm-bg-255{background-color:#eeeeee;}.xterm-dom-renderer-owner-2 .xterm-fg-257{color:#282a2c;}.xterm-dom-renderer-owner-2 .xterm-fg-257.xterm-dim{color:#282a2c80;}.xterm-dom-renderer-owner-2 .xterm-bg-257{background-color:#ffffff;}</style><div class="xterm-rows" aria-hidden="true" style="line-height: normal; letter-spacing: -0.00493421px;"><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"><span class="xterm-bold xterm-fg-12">/content</span><span># ls -la</span></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"><span style="background-color:#696a6c;" class="xterm-decoration-top">total 16</span></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"><span style="background-color:#696a6c;" class="xterm-decoration-top">drwxr-xr-x 1 root root 4096 Feb  6 14:</span></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"><span style="background-color:#696a6c;" class="xterm-decoration-top">31 </span><span style="background-color:#696a6c;" class="xterm-bold xterm-decoration-top xterm-fg-12">.</span></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"><span style="background-color:#696a6c;" class="xterm-decoration-top">drwxr-xr-x 1 root root 4096 Feb 15 10:</span></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"><span style="background-color:#696a6c;" class="xterm-decoration-top">20 </span><span style="background-color:#696a6c;" class="xterm-bold xterm-decoration-top xterm-fg-12">..</span></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"><span style="background-color:#696a6c;" class="xterm-decoration-top">drwxr-xr-x 4 root root 4096 Feb  6 14:</span></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"><span style="background-color:#696a6c;" class="xterm-decoration-top">31 </span><span style="background-color:#696a6c;" class="xterm-bold xterm-decoration-top xterm-fg-12">.config</span></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"><span style="background-color:#696a6c;" class="xterm-decoration-top">drwxr-xr-x 1 root root 4096 Feb  6 14:</span></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"><span style="background-color:#696a6c;" class="xterm-decoration-top">31 </span><span style="background-color:#696a6c;" class="xterm-bold xterm-decoration-top xterm-fg-12">sample_data</span></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"><span class="xterm-bold xterm-fg-12">/content</span><span># </span><span class="xterm-cursor xterm-cursor-outline"> </span></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div><div style="width: 343px; height: 18px; line-height: 18px; overflow: hidden;"></div></div><div class="xterm-selection" aria-hidden="true"><div style="height: 18px; top: 36px; left: 0px; width: 343px;"></div><div style="height: 126px; top: 54px; left: 0px; width: 343px;"></div><div style="height: 18px; top: 180px; left: 0px; width: 144.421px;"></div></div><style>.xterm .xterm-scrollable-element > .scrollbar > .slider { background: rgba(255, 255, 255, 0.2); }.xterm .xterm-scrollable-element > .scrollbar > .slider:hover { background: rgba(255, 255, 255, 0.4); }.xterm .xterm-scrollable-element > .scrollbar > .slider.active { background: rgba(255, 255, 255, 0.5); }</style><div class="xterm-decoration-container"></div></div><div role="presentation" aria-hidden="true" class="invisible scrollbar horizontal" style="position: absolute; width: 0px; height: 0px; left: 0px; bottom: 0px;"><div class="slider" style="position: absolute; top: 0px; left: 0px; height: 0px; transform: translate3d(0px, 0px, 0px); contain: strict; width: 0px;"></div></div><div role="presentation" aria-hidden="true" class="invisible scrollbar vertical fade" style="position: absolute; width: 14px; height: 558px; right: 0px; top: 0px;"><div class="slider" style="position: absolute; top: 49px; left: 0px; width: 14px; transform: translate3d(0px, 0px, 0px); contain: strict; height: 494px;"></div></div></div></div></div></template></colab-xterm-terminal></colab-tab></div>
  </div></colab-tab-pane>
      <colab-resizer style="height: 40%" class="sn-resize no-tabs"><div class="resizer-thumb"></div>
        <!--?lit$520294451$--><colab-tab-pane class="layout vertical grow no-tabs" align="horizontal"><!----> <div class="layout vertical grow">
    <div class="tab-pane-header layout horizontal noshrink">
      <md-tabs><template shadowrootmode="open"><!---->
      <div class="tabs">
        <slot></slot>
      </div>
      <md-divider part="divider"><template shadowrootmode="open"><!----></template></md-divider>
    </template></md-tabs>
      <div class="layout grow"></div>
      <div class="tab-pane-header-actions"></div>
      <!--?lit$520294451$--><md-icon-button data-aria-expanded="false" data-aria-haspopup="menu" id="tab-pane-3-more-actions-button" data-aria-label="Autres actions liées aux onglets" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Autres actions liées aux onglets" aria-haspopup="menu" aria-expanded="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>more_vert</md-icon>
    </md-icon-button>
    <colab-tooltip-trigger aria-hidden="true" for="tab-pane-3-more-actions-button" message="Autres actions liées aux onglets"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Autres actions liées aux onglets</div><!----><!--?--></template>
    </colab-tooltip-trigger><!--?lit$520294451$--><md-icon-button id="tab-pane-3-close-all-button" data-aria-label="Fermer tous les onglets" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Fermer tous les onglets">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
      <md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>close</md-icon>
    </md-icon-button>
    <colab-tooltip-trigger aria-hidden="true" for="tab-pane-3-close-all-button" message="Fermer tous les onglets"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Fermer tous les onglets</div><!----><!--?--></template>
    </colab-tooltip-trigger>
    </div>
    <div class="layout vertical grow tab-pane-container"> </div>
  </div></colab-tab-pane>
      </colab-resizer>
    </div>
      </colab-resizer>
    </div></colab-tab-layout-container>
        </div>
        <div class="proxies"><div><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(12).html" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe></div><div><colab-dom-lifecycle-events style="display: none;"></colab-dom-lifecycle-events><iframe allow="accelerometer; autoplay; gyroscope; magnetometer; xr-spatial-tracking; clipboard-write" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-modals" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/outputframe(13).html" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe></div></div>
      <colab-file-viewer-manager></colab-file-viewer-manager></div>
    <colab-composer-floating-spark><template shadowrootmode="open"><!---->
      <md-icon-button toggle="" id="toggle-composer-button" data-aria-label="Activer/Désactiver Gemini" value=""><template shadowrootmode="open" shadowrootdelegatesfocus><!----><button id="button" class="icon-button  standard " aria-label="Activer/Désactiver Gemini" aria-pressed="false">
        <!--?lit$520294451$--><md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
        <!--?lit$520294451$--><md-ripple aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
        <!--?lit$520294451$--><span class="icon"><slot></slot></span>
        <!--?lit$520294451$-->
        <!--?lit$520294451$--><span class="touch"></span>
  </button></template>
        <!--?lit$520294451$--><md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>spark</md-icon>
      </md-icon-button>
      <colab-tooltip-trigger aria-hidden="true" for="toggle-composer-button" message="Activer/Désactiver Gemini"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Activer/Désactiver Gemini</div><!----><!--?--></template>
      </colab-tooltip-trigger>
    </template></colab-composer-floating-spark><colab-status-bar role="region" aria-label="Barre d&#39;état de l&#39;environnement d&#39;exécution"><template shadowrootmode="open"><!----><span class="left">
        <slot name="bottom-pane-buttons"></slot>
      </span>
      <span class="right">
        <!--?lit$520294451$--><colab-execution-status><template shadowrootmode="open"><!----></template></colab-execution-status><!--?lit$520294451$--><!--?lit$520294451$--><!--?lit$520294451$--><colab-runtime-status><template shadowrootmode="open"><!----><md-text-button data-aria-expanded="false" data-aria-haspopup="menu" id="runtime-options" aria-describedby="runtime-options-tooltip" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$-->
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button" aria-haspopup="menu" aria-expanded="false">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template><md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>dns</md-icon><!--?lit$520294451$-->T4 (Python 3)</md-text-button><colab-tooltip-trigger aria-hidden="true" for="runtime-options" id="runtime-options-tooltip" message="Options de l&#39;environnement d&#39;exécution"><template shadowrootmode="open"><!----><!--?lit$520294451$--><!----><div><!--?lit$520294451$-->Options de l'environnement d'exécution</div><!----><!--?--></template></colab-tooltip-trigger></template></colab-runtime-status>
      </span></template><md-text-button slot="bottom-pane-buttons" command="show-variables" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$-->
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface   "></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
        <md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->data_object</md-icon>
        <!--?lit$520294451$-->Variables</md-text-button><md-text-button slot="bottom-pane-buttons" command="show-terminal" value="" has-icon=""><template shadowrootmode="open" shadowrootdelegatesfocus><!---->
      <!--?lit$520294451$-->
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for="button" aria-hidden="true"><template shadowrootmode="open"><!----></template></md-focus-ring>
      <md-ripple part="ripple" for="button" aria-hidden="true"><template shadowrootmode="open"><!----><div class="surface"></div></template></md-ripple>
      <!--?lit$520294451$--><button id="button" class="button">
      <!--?lit$520294451$-->
      <span class="touch"></span>
      <!--?lit$520294451$--><slot name="icon"></slot>
      <span class="label"><slot></slot></span>
      <!--?lit$520294451$-->
    
    </button>
    </template>
        <md-icon slot="icon" aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template><!--?lit$520294451$-->terminal</md-icon>
        <!--?lit$520294451$-->Terminal</md-text-button></colab-status-bar></div><div class="goog-menu" id="file-menu" role="menu" aria-haspopup="true" style="display: none; user-select: none;"><!--?lit$520294451$--><div command="view-notebook-source" class=" goog-menuitem " role="menuitem" id=":2" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Afficher sur GitHub<!--?lit$520294451$--></div></div><div command="open-in-playground" class=" goog-menuitem " role="menuitem" id=":3" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Ouvrir en mode brouillon<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":4" style="user-select: none;"></div><div command="new" class=" goog-menuitem " role="menuitem" id=":5" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Nouveau notebook dans Drive<!--?lit$520294451$--></div></div><div command="open" class=" goog-menuitem " role="menuitem" id=":6" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Ouvrir le notebook<!--?lit$520294451$--></div></div><div command="import-notebook" class=" goog-menuitem " role="menuitem" id=":7" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Importer le notebook<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":8" style="user-select: none;"></div><div command="rename" class=" goog-menuitem " role="menuitem" id=":9" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Renommer<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":a" style="user-select: none;"></div><div command="clone" class=" goog-menuitem " role="menuitem" id=":b" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Enregistrer une copie dans Drive<!--?lit$520294451$--></div></div><div command="copy-to-gist" class=" goog-menuitem " role="menuitem" id=":c" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Enregistrer une copie en tant que fichier Gist GitHub<!--?lit$520294451$--></div></div><div command="copy-to-github" class=" goog-menuitem " role="menuitem" id=":d" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Enregistrer une copie dans GitHub<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":e" style="user-select: none;"></div><div command="save" class=" goog-menuitem " role="menuitem" id=":f" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Enregistrer<!--?lit$520294451$--></div></div><div command="show-history" class=" goog-menuitem " role="menuitem" id=":g" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Historique des versions<!--?lit$520294451$--></div></div><div command="show-fileinfo" class=" goog-menuitem " role="menuitem" id=":h" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Informations sur le notebook<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":i" style="user-select: none;"></div><div class="goog-submenu goog-menuitem" id="download-submenu-menu-button" role="menuitem" aria-haspopup="true" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;">
      <!--?lit$520294451$-->Télécharger
    <span class="goog-submenu-arrow" style="user-select: none;">►</span></div></div><div command="print" class=" goog-menuitem " role="menuitem" id=":m" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Imprimer<!--?lit$520294451$--></div></div></div><div class="goog-menu" id="download-submenu-menu" role="menu" aria-haspopup="true" style="display: none; user-select: none;"><!--?lit$520294451$--><div command="download-ipynb" class=" goog-menuitem " role="menuitem" id=":k" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Télécharger le fichier .ipynb<!--?lit$520294451$--></div></div><div command="download-python" class=" goog-menuitem " role="menuitem" id=":l" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Télécharger le code .py<!--?lit$520294451$--></div></div></div><div class="goog-menu" id="edit-menu" role="menu" aria-haspopup="true" style="display: none; user-select: none;"><!--?lit$520294451$--><div command="undo" class=" goog-menuitem " role="menuitem" id=":o" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Annuler<!--?lit$520294451$--></div></div><div command="redo" class=" goog-menuitem " role="menuitem" id=":p" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Répéter<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":q" style="user-select: none;"></div><div command="select-all" class=" goog-menuitem " role="menuitem" id=":r" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Sélectionner toutes les cellules<!--?lit$520294451$--></div></div><div command="cut" class=" goog-menuitem " role="menuitem" id=":s" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Couper la cellule ou la sélection<!--?lit$520294451$--></div></div><div command="copy" class=" goog-menuitem " role="menuitem" id=":t" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Copier la cellule ou la sélection<!--?lit$520294451$--></div></div><div command="paste" class=" goog-menuitem " role="menuitem" id=":u" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Coller<!--?lit$520294451$--></div></div><div command="delete-cell-or-selection" class=" goog-menuitem " role="menuitem" id=":v" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Supprimer les cellules sélectionnées<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":w" style="user-select: none;"></div><div command="find" class=" goog-menuitem " role="menuitem" id=":x" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Rechercher et remplacer<!--?lit$520294451$--></div></div><div command="find-next" class=" goog-menuitem " role="menuitem" id=":y" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Rechercher l'occurrence suivante<!--?lit$520294451$--></div></div><div command="find-previous" class=" goog-menuitem " role="menuitem" id=":z" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Rechercher l'occurrence précédente<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":10" style="user-select: none;"></div><div command="notebook-settings" class=" goog-menuitem " role="menuitem" id=":11" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Paramètres du notebook<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":12" style="user-select: none;"></div><div command="clear-outputs" class=" goog-menuitem " role="menuitem" id=":13" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Supprimer tous les résultats<!--?lit$520294451$--></div></div></div><div class="goog-menu" id="view-menu" role="menu" aria-haspopup="true" style="display: none; user-select: none;"><!--?lit$520294451$--><div command="show-toc-pane" class="goog-menuitem goog-option" role="menuitemcheckbox" aria-checked="false" id=":15" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><div class="goog-menuitem-checkbox" style="user-select: none;"><!----><md-icon aria-hidden="true"><template shadowrootmode="open"><!----><slot></slot></template>check</md-icon> </div><!--?lit$520294451$-->Sommaire<!--?lit$520294451$--></div></div><div command="show-executedcode" class=" goog-menuitem " role="menuitem" id=":16" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Historique d'exécution<!--?lit$520294451$--></div></div><div command="start-presentation" class=" goog-menuitem " role="menuitem" id=":17" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Démarrer le diaporama<!--?lit$520294451$--></div></div><div command="start-presentation-beginning" class=" goog-menuitem " role="menuitem" id=":18" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Démarrer le diaporama depuis le début<!--?lit$520294451$--></div></div><div class="goog-submenu goog-menuitem" id="comments-submenu-menu-button" role="menuitem" aria-haspopup="true" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;">
      <!--?lit$520294451$-->Commentaires
    <span class="goog-submenu-arrow" style="user-select: none;">►</span></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":1d" style="user-select: none;"></div><div command="collapse-sections" class=" goog-menuitem " role="menuitem" id=":1e" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Réduire les rubriques<!--?lit$520294451$--></div></div><div command="expand-sections" class=" goog-menuitem " role="menuitem" id=":1f" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Développer les rubriques<!--?lit$520294451$--></div></div><div command="save-section-layout" class=" goog-menuitem " role="menuitem" id=":1g" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Enregistrer la mise en page à sections réduites<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":1h" style="user-select: none;"></div><div command="hide-code" class=" goog-menuitem " role="menuitem" id=":1i" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Afficher/Masquer le code<!--?lit$520294451$--></div></div><div command="toggle-output" class=" goog-menuitem " role="menuitem" id=":1j" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Afficher/Masquer le résultat<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":1k" style="user-select: none;"></div><div command="focus-next-tab" class=" goog-menuitem " role="menuitem" id=":1l" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Placer le curseur sur l'onglet suivant<!--?lit$520294451$--></div></div><div command="focus-previous-tab" class=" goog-menuitem " role="menuitem" id=":1m" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Placer le curseur sur l'onglet précédent<!--?lit$520294451$--></div></div><div command="move-tab-to-next" class=" goog-menuitem " role="menuitem" id=":1n" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Déplacer l'onglet vers le volet suivant<!--?lit$520294451$--></div></div><div command="move-tab-to-prev" class=" goog-menuitem " role="menuitem" id=":1o" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Déplacer l'onglet vers le volet précédent<!--?lit$520294451$--></div></div></div><div class="goog-menu" id="comments-submenu-menu" role="menu" aria-haspopup="true" style="display: none; user-select: none;"><!--?lit$520294451$--><div command="hide-sidebar-comments" class=" goog-menuitem goog-option-selectable " role="menuitem" id=":1a" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Masquer les commentaires<!--?lit$520294451$--></div></div><div command="show-minimized-sidebar-comments" class=" goog-menuitem goog-option-selectable " role="menuitem" id=":1b" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Réduire les commentaires<!--?lit$520294451$--></div></div><div command="show-expanded-sidebar-comments" class=" goog-menuitem goog-option-selectable " role="menuitem" id=":1c" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Développer les commentaires<!--?lit$520294451$--></div></div></div><div class="goog-menu" id="insert-menu" role="menu" aria-haspopup="true" style="display: none; user-select: none;"><!--?lit$520294451$--><div command="insert-cell-below" class=" goog-menuitem " role="menuitem" id=":1q" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Cellule de code<!--?lit$520294451$--></div></div><div command="add-text" class=" goog-menuitem " role="menuitem" id=":1r" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Cellule de texte<!--?lit$520294451$--></div></div><div command="add-section-header" class=" goog-menuitem " role="menuitem" id=":1s" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Cellule d'en-tête de section<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":1t" style="user-select: none;"></div><div command="open-scratch-code-cell" class=" goog-menuitem " role="menuitem" id=":1u" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Cellule de code bloc-notes<!--?lit$520294451$--></div></div><div command="snippets" class=" goog-menuitem " role="menuitem" id=":1v" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Extraits de code<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":1w" style="user-select: none;"></div><div command="add-form-field" class=" goog-menuitem " role="menuitem" id=":1x" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Ajouter un champ de formulaire<!--?lit$520294451$--></div></div></div><div class="goog-menu" id="runtime-menu" role="menu" aria-haspopup="true" style="display: none; user-select: none;"><!--?lit$520294451$--><div command="runall" class=" goog-menuitem " role="menuitem" id=":1z" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Tout exécuter<!--?lit$520294451$--></div></div><div command="runbefore" class=" goog-menuitem " role="menuitem" id=":20" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Exécuter les cellules précédentes<!--?lit$520294451$--></div></div><div command="runfocused" class=" goog-menuitem " role="menuitem" id=":21" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Exécuter la cellule sélectionnée<!--?lit$520294451$--></div></div><div command="runselected" class=" goog-menuitem " role="menuitem" id=":22" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Exécuter le code sélectionné<!--?lit$520294451$--></div></div><div command="runafter" class=" goog-menuitem " role="menuitem" id=":23" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Exécuter la cellule et celles du dessous<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":24" style="user-select: none;"></div><div command="interrupt" class=" goog-menuitem " role="menuitem" id=":25" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Interrompre l'exécution<!--?lit$520294451$--></div></div><div command="restart" class=" goog-menuitem " role="menuitem" id=":26" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Redémarrer la session<!--?lit$520294451$--></div></div><div command="restart-and-run-all" class=" goog-menuitem " role="menuitem" id=":27" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Redémarrer la session et tout exécuter<!--?lit$520294451$--></div></div><div command="powerwash-current-vm" class=" goog-menuitem " role="menuitem" id=":28" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Déconnecter et supprimer l'environnement d'exécution<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":29" style="user-select: none;"></div><div command="change-runtime-type" class=" goog-menuitem " role="menuitem" id=":2a" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Modifier le type d'exécution<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":2b" style="user-select: none;"></div><div command="manage-sessions" class=" goog-menuitem " role="menuitem" id=":2c" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Gérer les sessions<!--?lit$520294451$--></div></div><div command="open-resource-viewer" class=" goog-menuitem " role="menuitem" id=":2d" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Afficher les ressources<!--?lit$520294451$--></div></div><div command="view-runtime-logs" class=" goog-menuitem " role="menuitem" id=":2e" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Afficher les journaux d'exécution<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":2f" style="user-select: none;"></div><div command="deploy-cloud-run" class=" goog-menuitem " role="menuitem" id=":2g" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Déployer sur Google Cloud&nbsp;Run<!--?lit$520294451$--></div></div></div><div class="goog-menu" id="tools-menu" role="menu" aria-haspopup="true" style="display: none; user-select: none;"><!--?lit$520294451$--><div command="show-command-palette" class=" goog-menuitem " role="menuitem" id=":2i" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Palette de commandes<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":2j" style="user-select: none;"></div><div command="preferences" class=" goog-menuitem " role="menuitem" id=":2k" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Paramètres<!--?lit$520294451$--></div></div><div command="shortcuts" class=" goog-menuitem " role="menuitem" id=":2l" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Raccourcis clavier<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":2m" style="user-select: none;"></div><div command="open-differ" class=" goog-menuitem " role="menuitem" id=":2n" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Diff. entre notebooks<!--?lit$520294451$--> <span class="screenreader-only" style="user-select: none;"><!--?lit$520294451$-->(s'ouvre dans un nouvel onglet)</span></div></div></div><div class="goog-menu" id="help-menu" role="menu" aria-haspopup="true" style="display: none; user-select: none;"><!--?lit$520294451$--><div command="faq" class=" goog-menuitem " role="menuitem" id=":2p" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Questions fréquentes<!--?lit$520294451$--></div></div><div command="view-relnotes" class=" goog-menuitem " role="menuitem" id=":2q" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Consulter les notes de version<!--?lit$520294451$--></div></div><div command="snippets" class=" goog-menuitem " role="menuitem" id=":2r" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Rechercher des extraits de code<!--?lit$520294451$--></div></div><div class="goog-menuseparator goog-menuitem-disabled" aria-disabled="true" role="separator" id=":2s" style="user-select: none;"></div><div command="report-bug" class=" goog-menuitem " role="menuitem" id=":2t" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Signaler un bug<!--?lit$520294451$--></div></div><div command="send-feedback" class=" goog-menuitem " role="menuitem" id=":2u" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Donner votre avis<!--?lit$520294451$--></div></div><div command="view-tos" class=" goog-menuitem " role="menuitem" id=":2v" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Afficher les conditions d'utilisation<!--?lit$520294451$--></div></div><div command="view-in-english" class=" goog-menuitem " role="menuitem" id=":2w" style="user-select: none;"><div class="goog-menuitem-content" style="user-select: none;"><!--?lit$520294451$-->Afficher en anglais<!--?lit$520294451$--></div></div></div><div class="thumbnail"></div><div class="monaco-aria-container"><div class="monaco-alert" role="alert" aria-atomic="true"></div><div class="monaco-alert" role="alert" aria-atomic="true"></div><div class="monaco-status" role="complementary" aria-live="polite" aria-atomic="true"></div><div class="monaco-status" role="complementary" aria-live="polite" aria-atomic="true"></div></div><iframe id="apiproxyc9d027274845664c13c34b0821167f478eef06680.1074088008" name="apiproxyc9d027274845664c13c34b0821167f478eef06680.1074088008" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/proxy.html" tabindex="-1" aria-hidden="true" style="width: 1px; height: 1px; position: absolute; top: -100px; display: none;"></iframe><div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; min-width: 0px; max-width: none; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-size-adjust: none; font-family: STIXSizeOneSym, sans-serif;"></div></div><div><div class="grecaptcha-badge" data-style="bottomright" style="width: 256px; height: 60px; position: fixed; visibility: hidden; display: block; transition: right 0.3s; bottom: 14px; right: -186px; box-shadow: gray 0px 0px 5px; border-radius: 2px; overflow: hidden;"><div class="grecaptcha-logo"><iframe title="reCAPTCHA" width="256" height="60" role="presentation" name="a-j52z96pxkzcc" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/anchor.html"></iframe></div><div class="grecaptcha-error"></div><textarea id="g-recaptcha-response-100000" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div><iframe style="display: none;" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/saved_resource.html"></iframe></div><iframe src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/bscframe.html" style="display: none;"></iframe><iframe id="hfcr" src="./dynamic_hybrid_chatbot_routing.ipynb - Colab_files/RotateCookiesPage.html" style="display: none;"></iframe></body></html>